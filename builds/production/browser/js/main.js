"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};console.log("angular loaded");var app=angular.module("myApp",["ui.router","ui.bootstrap","ngAnimate","xeditable","angular-typed"]);app.run(["editableOptions",function(t){t.theme="bs3"}]),app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,o){o.html5Mode({}),e.otherwise("/")}]),app.run(["$rootScope","$state","authFactory",function(t,e,o){t.admin=null,t.$on("$stateChangeStart",function(t,o,r,n,s,i){o.authenticate&&!i.isAdmin()&&(e.transitionTo("home"),t.preventDefault())})}]),app.config(["$stateProvider",function(t){t.state("about",{url:"/about",templateUrl:"/js/about/about.html",authenticate:!1})}]),app.controller("adminController",["$scope","$state","adminFactory","allProjects","authFactory",function(t,e,o,r,n){t.submitProject=function(e){o.postProject(e),t.project=null},t.allProjects=r||[{id:0,name:"empty",deploy:"empty",gitHub:"empty"}],t.data={availableProjects:t.allProjects,selectedProject:{id:0,name:"empty",deploy:"empty",gitHub:"empty",description:"empty"}},t.selectedprojectChanged=function(){t.currentProject=t.selectedItem},t.logOut=function(){n.logOut(),e.go("home")}}]),app.directive("projectEdit",["projectFactory",function(t){return{restrict:"E",scope:{project:"=project"},templateUrl:"adminEdit.html"}}]),app.factory("adminFactory",["$http",function(t){return{postProject:function(e){return t.post("/api/project",e).then(function(t){return t.data}).catch()},getAllProjects:function(){return t.get("/api/project").then(function(t){return t.data}).catch()}}}]),app.config(["$stateProvider",function(t){t.state("admin",{url:"/admin",templateUrl:"/js/admin/admin.html",controller:"adminController",authenticate:!0,resolve:{allProjects:["adminFactory",function(t){return t.getAllProjects()}]}})}]),app.controller("authController",["$scope","authFactory",function(t,e){t.isAdmin=e.isAdmin()}]),app.factory("authFactory",["$http","$state","$rootScope",function(t,e,o){return{isAdmin:function(){return!!o.admin},login:function(e){return t.get("/api/authentication/"+e.name+"/"+e.password).then(function(t){return t.data?o.admin=!0:o.admin=!1,t}).catch()},logOut:function(){o.admin=null}}}]),app.controller("contactController",["$scope","posts","feedBackFactory",function(t,e,o){t.posts=e,t.getReplies=o.getReplies,t.postReply=function(t,e){var r={postId:t,content:e};o.postReplY(r)},t.submitForm=function(e){o.postComment(e).then(function(e){t.posts[t.posts.length]=e}).catch(),t.user=null,t.userForm.$setPristine(!0)},t.clear=function(){t.user=null,t.userForm.$setPristine(!0)},t.submit=function(){t.message&&t.email&&t.name&&controllerFactory.sendMessage(t.name,t.email,t.message)}}]),app.directive("replies",function(){return console.log("post directive"),{restrict:"E",scope:{post:"="},templateUrl:"js/contact/template/replyView.html",link:function(t,e,o){t.replies=[{label:"Home",state:"home"},{label:"Projects",state:"projects"},{label:"About Me",state:"about"},{label:"Contact Me",state:"contact"}]}}}),app.factory("feedBackFactory",["$http",function(t){console.log("In the feeback factory");var e={};return e.getPosts=function(){return t.get("/api/comment").then(function(t){return console.log("getting comments"),t.data}).catch()},e.postComment=function(e){return console.log("Posting comment"),t.post("/api/comment",e).then(function(t){return console.log(t),t.data}).catch()},e.getReplies=function(e){return t.get("/api/reply/"+e).then(function(t){return console.log("got comments"),t.data}).catch()},e.postReplY=function(e){return console.log("running post reply",e),t.post("/api/reply/",{post_id:parseInt(e.postId.postId),content:e.content.content}).then(function(t){return t.data})},e}]),app.config(["$stateProvider",function(t){t.state("contact",{url:"/contact",templateUrl:"/js/contact/contact.html",controller:"contactController",authenticate:!1,resolve:{posts:["feedBackFactory",function(t){return console.log("invoking feedBackFactory"),t.getPosts()}]}})}]),console.log("bar ctrl loaded"),app.controller("BarCtrl",["$scope","$timeout",function(t,e){t.timeInMs=0;var o=function o(){t.timeInMs+=500,e(o,500)};e(o,500)}]),app.config(["$stateProvider",function(t){t.state("home",{url:"/",templateUrl:"/js/home/home.html",controller:"BarCtrl",authenticate:!1})}]),app.controller("loginController",["$scope","$state","authFactory","$location",function(t,e,o,r){t.login=function(){var n={name:t.username,password:t.password};o.login(n).then(function(t){console.log(t),e.go("home",{},{reload:!0}),r.path("/")}).catch()}}]),app.config(["$stateProvider",function(t){t.state("login",{url:"/login",templateUrl:"/js/login/login.html",controller:"loginController",authenticate:!1})}]),app.directive("navbar",["$rootScope","$state","authFactory",function(t,e,o){return{restrict:"E",scope:{},templateUrl:"js/navBar/navbar.html",link:function(t){t.showLink=function(t){return!t.isAdmin&&("admin"===t.state||"login"===t.state)},t.isLoggedIn=function(){return o.isAdmin()},t.links=[{label:"Home",state:"home"},{label:"Projects",state:"projects"},{label:"About Me",state:"about"}]}}}]),app.controller("projectController",["$scope","allProjects",function(t,e){t.projects=e}]),app.controller("singleProjectController",["$scope","projectFactory","currentProject","$sce",function(t,e,o,r){t.currentProject=o,t.trustSrc=function(t){return r.trustAsResourceUrl(t)},t.movie={src:t.currentProject.videoLink},t.hasVideoLink=function(){return!!o.videoLink}}]),app.directive("projectTile",function(){return{restrict:"E",scope:{project:"="},templateUrl:"js/projects/singleProject/singleProjectTile.html"}}),app.factory("projectFactory",["$http",function(t){return{getAllProjects:function(){return t.get("/api/project").then(function(t){return t.data}).catch()},getSingleProject:function(e){return t.get("/api/project/"+e).then(function(t){return t.data}).catch()},postProject:function(e){return t.post("/api/project",e).then(function(t){return t.data}).catch()},updateProject:function(e){return t.put("api/project",e).then(function(t){return t.data}).catch()}}}]),app.config(["$stateProvider",function(t){t.state("projects",{url:"/projects",templateUrl:"/js/projects/projects.html",controller:"projectController",authenticate:!1,resolve:{allProjects:["projectFactory",function(t){return t.getAllProjects()}]}}),t.state("singleProject",{url:"/projects/:id",templateUrl:"/js/projects/singleProject/singleProject.html",controller:"singleProjectController",authenticate:!1,resolve:{currentProject:["projectFactory","$stateParams",function(t,e){return t.getSingleProject(e.id)}]}})}])(function(){console.log("ab.Typeit about to"),angular.module("ab.Typeit",[]).directive("abTypeit",function(){return coneole.log("running the wrapper"),{restrict:"A",scope:{typeitStrings:"=abTypeit",typeitLoop:"=",typeitLoopDelay:"=",typeitBreakLines:"=",typeitSpeed:"=",typeitLifeLike:"=",typeitCursor:"=",typeitCursorSpeed:"=",typeitStartDelay:"=",typeitBreakDelay:"="},controller:["$scope","$element","$attrs",function(t,e,o){var r=$(e);try{r.typeIt({strings:t.typeitStrings,loop:t.typeitLoop,loopDelay:t.typeitLoopDelay,breakLines:t.typeitBreakLines,speed:t.typeitSpeed,lifeLike:t.typeitLifeLike,cursor:t.typeitCursor,cursorSpeed:t.typeitCursorSpeed,startDelay:t.typeitStartDelay,breakDelay:t.typeitBreakDelay})}catch(t){console.error("OH NO! angular-typeit requires typeit.js on your page - do you have it loaded?")}}]}})})(),window.onload=function(){$(".developer").typed({strings:["Front-end","Back-end","Fullstack","Software","Javascript","Angular"],typeSpeed:250,loop:!0,cursorSpeed:100,lifeLike:!0,curser:!0,deleteSpeed:1e3})};var gulp=require("gulp");rename=require("gulp-rename"),uglify=require("gulp-uglify"),gulp.task("compress",function(){gulp.src("js/*.js").pipe(uglify()).pipe(rename("typed.min.js")).pipe(gulp.dest("dist"))}),gulp.task("default",["compress"]),!function(t){var e=function(e,o){this.el=t(e),this.options=t.extend({},t.fn.typed.defaults,o),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};e.prototype={constructor:e,init:function(){var t=this;t.timeout=setTimeout(function(){for(var e=0;e<t.strings.length;++e)t.sequence[e]=e;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var e=this;if(this.showCursor===!0&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var o=this.stringsElement.children();t.each(o,function(o,r){e.strings.push(t(r).html())})}this.init()},typewrite:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.typeSpeed,r=this;r.timeout=setTimeout(function(){var o=0,n=t.substr(e);if("^"===n.charAt(0)){var s=1;/^\^\d+/.test(n)&&(n=/\d+/.exec(n)[0],s+=n.length,o=parseInt(n)),t=t.substring(0,e)+t.substring(e+s)}if("html"===r.contentType){var i=t.substr(e).charAt(0);if("<"===i||"&"===i){var a="",c="";for(c="<"===i?">":";";t.substr(e+1).charAt(0)!==c&&(a+=t.substr(e).charAt(0),e++,!(e+1>t.length)););e++,a+=c}}r.timeout=setTimeout(function(){if(e===t.length){if(r.options.onStringTyped(r.arrayPos),r.arrayPos===r.strings.length-1&&(r.options.callback(),r.curLoop++,r.loop===!1||r.curLoop===r.loopCount))return;r.timeout=setTimeout(function(){r.backspace(t,e)},r.backDelay)}else{0===e&&r.options.preStringTyped(r.arrayPos);var o=t.substr(0,e+1);r.attr?r.el.attr(r.attr,o):r.isInput?r.el.val(o):"html"===r.contentType?r.el.html(o):r.el.text(o),e++,r.typewrite(t,e)}},o)},o)}},backspace:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.backSpeed,r=this;r.timeout=setTimeout(function(){if("html"===r.contentType&&">"===t.substr(e).charAt(0)){for(var o="";"<"!==t.substr(e-1).charAt(0)&&(o-=t.substr(e).charAt(0),e--,!(0>e)););e--,o+="<"}var n=t.substr(0,e);r.attr?r.el.attr(r.attr,n):r.isInput?r.el.val(n):"html"===r.contentType?r.el.html(n):r.el.text(n),e>r.stopNum?(e--,r.backspace(t,e)):e<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.shuffle&&(r.sequence=r.shuffleArray(r.sequence)),r.init()):r.typewrite(r.strings[r.sequence[r.arrayPos]],e))},o)}},shuffleArray:function(t){var e,o,r=t.length;if(r)for(;--r;)o=Math.floor(Math.random()*(r+1)),e=t[o],t[o]=t[r],t[r]=e;return t},reset:function(){var t=this;clearInterval(t.timeout),this.el.attr("id"),this.el.empty(),"undefined"!=typeof this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(o){return this.each(function(){var r=t(this),n=r.data("typed"),s="object"==("undefined"==typeof o?"undefined":_typeof(o))&&o;n&&n.reset(),r.data("typed",n=new e(this,s)),"string"==typeof o&&n[o]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery),!function(t){var e=function(e,o){this.el=t(e),this.options=t.extend({},t.fn.typed.defaults,o),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};e.prototype={constructor:e,init:function(){var t=this;t.timeout=setTimeout(function(){for(var e=0;e<t.strings.length;++e)t.sequence[e]=e;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var e=this;if(this.showCursor===!0&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var o=this.stringsElement.children();t.each(o,function(o,r){e.strings.push(t(r).html())})}this.init()},typewrite:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.typeSpeed,r=this;r.timeout=setTimeout(function(){var o=0,n=t.substr(e);if("^"===n.charAt(0)){var s=1;/^\^\d+/.test(n)&&(n=/\d+/.exec(n)[0],s+=n.length,o=parseInt(n)),t=t.substring(0,e)+t.substring(e+s)}if("html"===r.contentType){var i=t.substr(e).charAt(0);if("<"===i||"&"===i){var a="",c="";for(c="<"===i?">":";";t.substr(e+1).charAt(0)!==c&&(a+=t.substr(e).charAt(0),e++,!(e+1>t.length)););e++,a+=c}}r.timeout=setTimeout(function(){if(e===t.length){if(r.options.onStringTyped(r.arrayPos),r.arrayPos===r.strings.length-1&&(r.options.callback(),r.curLoop++,r.loop===!1||r.curLoop===r.loopCount))return;r.timeout=setTimeout(function(){r.backspace(t,e)},r.backDelay)}else{0===e&&r.options.preStringTyped(r.arrayPos);var o=t.substr(0,e+1);r.attr?r.el.attr(r.attr,o):r.isInput?r.el.val(o):"html"===r.contentType?r.el.html(o):r.el.text(o),e++,r.typewrite(t,e)}},o)},o)}},backspace:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.backSpeed,r=this;r.timeout=setTimeout(function(){if("html"===r.contentType&&">"===t.substr(e).charAt(0)){for(var o="";"<"!==t.substr(e-1).charAt(0)&&(o-=t.substr(e).charAt(0),e--,!(e<0)););e--,o+="<"}var n=t.substr(0,e);r.attr?r.el.attr(r.attr,n):r.isInput?r.el.val(n):"html"===r.contentType?r.el.html(n):r.el.text(n),e>r.stopNum?(e--,r.backspace(t,e)):e<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.shuffle&&(r.sequence=r.shuffleArray(r.sequence)),r.init()):r.typewrite(r.strings[r.sequence[r.arrayPos]],e))},o)}},shuffleArray:function(t){var e,o,r=t.length;if(r)for(;--r;)o=Math.floor(Math.random()*(r+1)),e=t[o],t[o]=t[r],t[r]=e;return t},reset:function(){var t=this;clearInterval(t.timeout);this.el.attr("id");this.el.empty(),"undefined"!=typeof this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(o){return this.each(function(){var r=t(this),n=r.data("typed"),s="object"==("undefined"==typeof o?"undefined":_typeof(o))&&o;n&&n.reset(),r.data("typed",n=new e(this,s)),"string"==typeof o&&n[o]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJhcHAuanMiLCJhYm91dC9hYm91dC5zdGF0ZS5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJhZG1pbi9hZG1pbi5kaXJlY3RpdmUuanMiLCJhZG1pbi9hZG1pbi5mYWN0b3J5LmpzIiwiYWRtaW4vYWRtaW4uc3RhdGUuanMiLCJhdXRoL2F1dGguY29udHJvbGxlci5qcyIsImF1dGgvYXV0aC5mYWN0b3J5LmpzIiwiY29udGFjdC9jb250YWN0LmNvbnRyb2xsZXIuanMiLCJjb250YWN0L2NvbnRhY3QuZGlyZWN0aXZlcy5qcyIsImNvbnRhY3QvY29udGFjdC5mYWN0b3J5LmpzIiwiY29udGFjdC9jb250YWN0LnN0YXRlLmpzIiwiaG9tZS9ob21lLmNvbnRyb2xsZXIuanMiLCJob21lL2hvbWUuc3RhdGUuanMiLCJsb2dpbi9sb2dpbi5jb250cm9sbGVyLmpzIiwibG9naW4vbG9naW4uc3RhdGUuanMiLCJuYXZCYXIvbmF2YmFyLmRpcmVjdGl2ZS5qcyIsInByb2plY3RzL3Byb2plY3RzLmNvbnRyb2xsZXIuanMiLCJwcm9qZWN0cy9wcm9qZWN0cy5kaXJlY3RpdmVzLmpzIiwicHJvamVjdHMvcHJvamVjdHMuZmFjdG9yeS5qcyIsInByb2plY3RzL3Byb2plY3RzLnN0YXRlLmpzIiwidHlwZUl0L2FuZ3VsYXItdHlwZUl0LmpzIiwidHlwZUl0L2luZGV4LmpzIiwidHlwZWQuanMtbWFzdGVyL2d1bHBmaWxlLmpzIiwidHlwZWQuanMtbWFzdGVyL2Rpc3QvdHlwZWQubWluLmpzIiwidHlwZWQuanMtbWFzdGVyL2pzL3R5cGVkLmpzIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY29uc29sZSIsImxvZyIsImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJydW4iLCJlZGl0YWJsZU9wdGlvbnMiLCJ0aGVtZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJodG1sNU1vZGUiLCJvdGhlcndpc2UiLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiYXV0aEZhY3RvcnkiLCJhZG1pbiIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImF1dGhlbnRpY2F0ZSIsImlzQWRtaW4iLCJ0cmFuc2l0aW9uVG8iLCJwcmV2ZW50RGVmYXVsdCIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiYWRtaW5GYWN0b3J5IiwiYWxsUHJvamVjdHMiLCJzdWJtaXRQcm9qZWN0IiwicHJvamVjdCIsInBvc3RQcm9qZWN0IiwiaWQiLCJuYW1lIiwiZGVwbG95IiwiZ2l0SHViIiwiZGF0YSIsImF2YWlsYWJsZVByb2plY3RzIiwic2VsZWN0ZWRQcm9qZWN0IiwiZGVzY3JpcHRpb24iLCJzZWxlY3RlZHByb2plY3RDaGFuZ2VkIiwiY3VycmVudFByb2plY3QiLCJzZWxlY3RlZEl0ZW0iLCJsb2dPdXQiLCJnbyIsImRpcmVjdGl2ZSIsInByb2plY3RGYWN0b3J5IiwicmVzdHJpY3QiLCJzY29wZSIsImZhY3RvcnkiLCIkaHR0cCIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjYXRjaCIsImdldEFsbFByb2plY3RzIiwiZ2V0IiwicmVzb2x2ZSIsImxvZ2luIiwibG9naW5JbmZvIiwicGFzc3dvcmQiLCJhdXRoZW50aWNhdGlvbkRlY2lzaW9uIiwicG9zdHMiLCJmZWVkQmFja0ZhY3RvcnkiLCJnZXRSZXBsaWVzIiwicG9zdFJlcGx5IiwicG9zdElkIiwiY29udGVudCIsInJlcGx5SW5mbyIsInBvc3RSZXBsWSIsInN1Ym1pdEZvcm0iLCJwb3N0Q29tbWVudCIsIm5ld1Bvc3QiLCJsZW5ndGgiLCJ1c2VyIiwidXNlckZvcm0iLCIkc2V0UHJpc3RpbmUiLCJjbGVhciIsInN1Ym1pdCIsIm1lc3NhZ2UiLCJlbWFpbCIsImNvbnRyb2xsZXJGYWN0b3J5Iiwic2VuZE1lc3NhZ2UiLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwicmVwbGllcyIsImxhYmVsIiwiZ2V0UG9zdHMiLCJzdWNjZXNmdWxDb21tZW50IiwiY29tbWVudElkIiwicG9zdF9pZCIsInBhcnNlSW50IiwicG9zdGVkQ29tbWVudCIsIiR0aW1lb3V0IiwidGltZUluTXMiLCJjb3VudFVwIiwiJGxvY2F0aW9uIiwidXNlcm5hbWUiLCJyZXN1bHQiLCJyZWxvYWQiLCJwYXRoIiwic2hvd0xpbmsiLCJpc0xvZ2dlZEluIiwibGlua3MiLCJwcm9qZWN0cyIsIiRzY2UiLCJ0cnVzdFNyYyIsInNyYyIsInRydXN0QXNSZXNvdXJjZVVybCIsIm1vdmllIiwidmlkZW9MaW5rIiwiaGFzVmlkZW9MaW5rIiwiZ2V0U2luZ2xlUHJvamVjdCIsInByb2plY3RJRCIsInVwZGF0ZVByb2plY3QiLCJ1cGRhdGVkUHJvamVjdCIsInB1dCIsIiRzdGF0ZVBhcmFtcyIsImNvbmVvbGUiLCJ0eXBlaXRTdHJpbmdzIiwidHlwZWl0TG9vcCIsInR5cGVpdExvb3BEZWxheSIsInR5cGVpdEJyZWFrTGluZXMiLCJ0eXBlaXRTcGVlZCIsInR5cGVpdExpZmVMaWtlIiwidHlwZWl0Q3Vyc29yIiwidHlwZWl0Q3Vyc29yU3BlZWQiLCJ0eXBlaXRTdGFydERlbGF5IiwidHlwZWl0QnJlYWtEZWxheSIsIiRlbGVtZW50IiwiJGF0dHJzIiwidHlwZUl0RWxlbWVudCIsIiQiLCJ0eXBlSXQiLCJzdHJpbmdzIiwibG9vcCIsImxvb3BEZWxheSIsImJyZWFrTGluZXMiLCJzcGVlZCIsImxpZmVMaWtlIiwiY3Vyc29yIiwiY3Vyc29yU3BlZWQiLCJzdGFydERlbGF5IiwiYnJlYWtEZWxheSIsImUiLCJlcnJvciIsIndpbmRvdyIsIm9ubG9hZCIsInR5cGVkIiwidHlwZVNwZWVkIiwiY3Vyc2VyIiwiZGVsZXRlU3BlZWQiLCJndWxwIiwicmVxdWlyZSIsInJlbmFtZSIsInVnbGlmeSIsInRhc2siLCJwaXBlIiwiZGVzdCIsInQiLCJzIiwidGhpcyIsImVsIiwib3B0aW9ucyIsImV4dGVuZCIsImZuIiwiZGVmYXVsdHMiLCJpc0lucHV0IiwiaXMiLCJhdHRyIiwic2hvd0N1cnNvciIsImVsQ29udGVudCIsInRleHQiLCJjb250ZW50VHlwZSIsImJhY2tTcGVlZCIsImJhY2tEZWxheSIsInN0cmluZ3NFbGVtZW50Iiwic3RyUG9zIiwiYXJyYXlQb3MiLCJzdG9wTnVtIiwibG9vcENvdW50IiwiY3VyTG9vcCIsInN0b3AiLCJjdXJzb3JDaGFyIiwic2h1ZmZsZSIsInNlcXVlbmNlIiwiYnVpbGQiLCJpbml0IiwidGltZW91dCIsInNldFRpbWVvdXQiLCJzaHVmZmxlQXJyYXkiLCJ0eXBld3JpdGUiLCJhZnRlciIsImhpZGUiLCJjaGlsZHJlbiIsImVhY2giLCJpIiwicHVzaCIsImh0bWwiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJyIiwic3Vic3RyIiwiY2hhckF0IiwibyIsInRlc3QiLCJleGVjIiwic3Vic3RyaW5nIiwibiIsImEiLCJoIiwib25TdHJpbmdUeXBlZCIsImNhbGxiYWNrIiwiYmFja3NwYWNlIiwicHJlU3RyaW5nVHlwZWQiLCJ2YWwiLCJmbG9vciIsInJlc2V0IiwiY2xlYXJJbnRlcnZhbCIsImVtcHR5IiwicmVtb3ZlIiwicmVzZXRDYWxsYmFjayIsImpRdWVyeSIsIlR5cGVkIiwic2VsZiIsImtleSIsInZhbHVlIiwiY3VyU3RyaW5nIiwiY3VyU3RyUG9zIiwiaHVtYW5pemUiLCJjaGFyUGF1c2UiLCJza2lwIiwiY3VyQ2hhciIsInRhZyIsImVuZFRhZyIsIm5leHRTdHJpbmciLCJhcnJheSIsInRtcCIsImN1cnJlbnQiLCJ0b3AiLCJvcHRpb24iLCIkdGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQSxJQUFJQSxTQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVQyxHQUFPLGFBQWNBLElBQVMsU0FBVUEsR0FBTyxNQUFPQSxJQUF5QixrQkFB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S0FBQUUsUUFBQTJELGtCQUtBMUYsRUFBQWlDLEdBQUFqQixNQUFBLFNBQUE2RixHQUNBLE1BQUFoRixNQUFBa0MsS0FBQSxXQUNBLEdBQUErQyxHQUFBOUcsRUFBQTZCLE1BQ0E5SCxFQUFBK00sRUFBQS9NLEtBQUEsU0FDQWdJLEVBQUEsV0FBQSxtQkFBQThFLEdBQUEsWUFBQTlQLFFBQUE4UCxLQUFBQSxDQUNBOU0sSUFBQUEsRUFBQXVMLFFBQ0F3QixFQUFBL00sS0FBQSxRQUFBQSxFQUFBLEdBQUE2TCxHQUFBL0QsS0FBQUUsSUFDQSxnQkFBQThFLElBQUE5TSxFQUFBOE0sUUFJQTdHLEVBQUFpQyxHQUFBakIsTUFBQWtCLFVBQ0FoQyxTQUFBLGtDQUFBLCtCQUFBLGdCQUFBLHFCQUNBMEMsZUFBQSxLQUVBM0IsVUFBQSxFQUVBUCxXQUFBLEVBRUFnQyxVQUFBLEVBRUFVLFNBQUEsRUFFQVQsVUFBQSxJQUVBeEMsTUFBQSxFQUVBNkMsV0FBQSxFQUVBVixZQUFBLEVBRUFhLFdBQUEsSUFFQWQsS0FBQSxLQUVBSSxZQUFBLE9BRUF3QyxTQUFBLGFBRUFFLGVBQUEsYUFFQUgsY0FBQSxhQUVBVSxjQUFBLGVBSUE1RSxPQUFBNkUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5jb25zb2xlLmxvZygnYW5ndWxhciBsb2FkZWQnKTtcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbJ3VpLnJvdXRlcicsICd1aS5ib290c3RyYXAnLCAnbmdBbmltYXRlJywgJ3hlZGl0YWJsZScsICdhbmd1bGFyLXR5cGVkJ10pO1xuXG5hcHAucnVuKGZ1bmN0aW9uIChlZGl0YWJsZU9wdGlvbnMpIHtcblx0XHRcdFx0ZWRpdGFibGVPcHRpb25zLnRoZW1lID0gJ2JzMyc7IC8vIGJvb3RzdHJhcDMgdGhlbWUuIENhbiBiZSBhbHNvICdiczInLCAnZGVmYXVsdCdcbn0pO1xuXG5hcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdFx0XHRcdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZW5hYmxlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHQvLyByZXF1aXJlQmFzZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xufV0pO1xuXG5hcHAucnVuKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc3RhdGUsIGF1dGhGYWN0b3J5KSB7XG5cdFx0XHRcdCRyb290U2NvcGUuYWRtaW4gPSBudWxsO1xuXHRcdFx0XHQkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgYXV0aEZhY3RvcnkpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodG9TdGF0ZS5hdXRoZW50aWNhdGUgJiYgIWF1dGhGYWN0b3J5LmlzQWRtaW4oKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVXNlciBpc27igJl0IGF1dGhlbnRpY2F0ZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzdGF0ZS50cmFuc2l0aW9uVG8oXCJob21lXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xufSk7XG5cbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG5cdFx0XHRcdCRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdhYm91dCcsIHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6ICcvYWJvdXQnLFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2pzL2Fib3V0L2Fib3V0Lmh0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0ZTogZmFsc2Vcblx0XHRcdFx0fSk7XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ2FkbWluQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgYWRtaW5GYWN0b3J5LCBhbGxQcm9qZWN0cywgYXV0aEZhY3RvcnkpIHtcblxuXHRcdFx0XHQkc2NvcGUuc3VibWl0UHJvamVjdCA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0YWRtaW5GYWN0b3J5LnBvc3RQcm9qZWN0KHByb2plY3QpO1xuXHRcdFx0XHRcdFx0XHRcdCRzY29wZS5wcm9qZWN0ID0gbnVsbDtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUuYWxsUHJvamVjdHMgPSBhbGxQcm9qZWN0cyB8fCBbeyBpZDogMCwgbmFtZTogJ2VtcHR5JywgZGVwbG95OiAnZW1wdHknLCBnaXRIdWI6IFwiZW1wdHlcIiB9XTtcblxuXHRcdFx0XHQkc2NvcGUuZGF0YSA9IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbGFibGVQcm9qZWN0czogJHNjb3BlLmFsbFByb2plY3RzLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvamVjdDogeyBpZDogMCwgbmFtZTogJ2VtcHR5JywgZGVwbG95OiAnZW1wdHknLCBnaXRIdWI6ICdlbXB0eScsIGRlc2NyaXB0aW9uOiBcImVtcHR5XCIgfVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCRzY29wZS5zZWxlY3RlZHByb2plY3RDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50UHJvamVjdCA9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JHNjb3BlLmxvZ091dCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRhdXRoRmFjdG9yeS5sb2dPdXQoKTtcblx0XHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUnKTtcblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuZGlyZWN0aXZlKCdwcm9qZWN0RWRpdCcsIGZ1bmN0aW9uIChwcm9qZWN0RmFjdG9yeSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2plY3Q6ICc9cHJvamVjdCdcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYWRtaW5FZGl0Lmh0bWwnXG5cdFx0XHRcdH07XG59KTtcblxuYXBwLmZhY3RvcnkoJ2FkbWluRmFjdG9yeScsIGZ1bmN0aW9uICgkaHR0cCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHBvc3RQcm9qZWN0OiBmdW5jdGlvbiBwb3N0UHJvamVjdChwcm9qZWN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0JywgcHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0Z2V0QWxsUHJvamVjdHM6IGZ1bmN0aW9uIGdldEFsbFByb2plY3RzKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuXHRcdFx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgnYWRtaW4nLCB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnL2FkbWluJyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9qcy9hZG1pbi9hZG1pbi5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnYWRtaW5Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdFx0XHRhdXRoZW50aWNhdGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWxsUHJvamVjdHM6IGZ1bmN0aW9uIGFsbFByb2plY3RzKGFkbWluRmFjdG9yeSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYWRtaW5GYWN0b3J5LmdldEFsbFByb2plY3RzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcbn0pO1xuXG5hcHAuY29udHJvbGxlcignYXV0aENvbnRyb2xsZXInLCBmdW5jdGlvbiAoJHNjb3BlLCBhdXRoRmFjdG9yeSkge1xuXHRcdFx0XHQkc2NvcGUuaXNBZG1pbiA9IGF1dGhGYWN0b3J5LmlzQWRtaW4oKTtcbn0pO1xuXG5hcHAuZmFjdG9yeSgnYXV0aEZhY3RvcnknLCBmdW5jdGlvbiAoJGh0dHAsICRzdGF0ZSwgJHJvb3RTY29wZSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdGlzQWRtaW46IGZ1bmN0aW9uIGlzQWRtaW4oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gISEkcm9vdFNjb3BlLmFkbWluO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0bG9naW46IGZ1bmN0aW9uIGxvZ2luKGxvZ2luSW5mbykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9hdXRoZW50aWNhdGlvbi8nICsgbG9naW5JbmZvLm5hbWUgKyAnLycgKyBsb2dpbkluZm8ucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKGF1dGhlbnRpY2F0aW9uRGVjaXNpb24pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFhdXRoZW50aWNhdGlvbkRlY2lzaW9uLmRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmFkbWluID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JHJvb3RTY29wZS5hZG1pbiA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGF1dGhlbnRpY2F0aW9uRGVjaXNpb247XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0bG9nT3V0OiBmdW5jdGlvbiBsb2dPdXQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmFkbWluID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ2NvbnRhY3RDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgcG9zdHMsIGZlZWRCYWNrRmFjdG9yeSkge1xuXHRcdFx0XHQkc2NvcGUucG9zdHMgPSBwb3N0cztcblx0XHRcdFx0JHNjb3BlLmdldFJlcGxpZXMgPSBmZWVkQmFja0ZhY3RvcnkuZ2V0UmVwbGllcztcblx0XHRcdFx0JHNjb3BlLnBvc3RSZXBseSA9IGZ1bmN0aW9uIChwb3N0SWQsIGNvbnRlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVwbHlJbmZvID0geyBwb3N0SWQ6IHBvc3RJZCwgY29udGVudDogY29udGVudCB9O1xuXHRcdFx0XHRcdFx0XHRcdGZlZWRCYWNrRmFjdG9yeS5wb3N0UmVwbFkocmVwbHlJbmZvKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmVlZEJhY2tGYWN0b3J5LnBvc3RDb21tZW50KGRhdGEpLnRoZW4oZnVuY3Rpb24gKG5ld1Bvc3QpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzY29wZS5wb3N0c1skc2NvcGUucG9zdHMubGVuZ3RoXSA9IG5ld1Bvc3Q7XG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0XHRcdFx0XHQkc2NvcGUudXNlciA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0JHNjb3BlLnVzZXJGb3JtLiRzZXRQcmlzdGluZSh0cnVlKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHNjb3BlLnVzZXIgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdCRzY29wZS51c2VyRm9ybS4kc2V0UHJpc3RpbmUodHJ1ZSk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoJHNjb3BlLm1lc3NhZ2UgJiYgJHNjb3BlLmVtYWlsICYmICRzY29wZS5uYW1lKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyRmFjdG9yeS5zZW5kTWVzc2FnZSgkc2NvcGUubmFtZSwgJHNjb3BlLmVtYWlsLCAkc2NvcGUubWVzc2FnZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoJ3JlcGxpZXMnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdwb3N0IGRpcmVjdGl2ZScpO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdFx0XHRcdFx0XHRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zdDogXCI9XCJcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnanMvY29udGFjdC90ZW1wbGF0ZS9yZXBseVZpZXcuaHRtbCcsXG5cdFx0XHRcdFx0XHRcdFx0bGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUucmVwbGllcyA9IFt7IGxhYmVsOiAnSG9tZScsIHN0YXRlOiAnaG9tZScgfSwgeyBsYWJlbDogJ1Byb2plY3RzJywgc3RhdGU6ICdwcm9qZWN0cycgfSwgeyBsYWJlbDogJ0Fib3V0IE1lJywgc3RhdGU6ICdhYm91dCcgfSwgeyBsYWJlbDogJ0NvbnRhY3QgTWUnLCBzdGF0ZTogJ2NvbnRhY3QnIH1dO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuZmFjdG9yeSgnZmVlZEJhY2tGYWN0b3J5JywgZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coXCJJbiB0aGUgZmVlYmFjayBmYWN0b3J5XCIpO1xuXHRcdFx0XHR2YXIgZmVlZEJhY2tGYWN0b3J5ID0ge307XG5cdFx0XHRcdGZlZWRCYWNrRmFjdG9yeS5nZXRQb3N0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2dldHRpbmcgY29tbWVudHMnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGZlZWRCYWNrRmFjdG9yeS5wb3N0Q29tbWVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ1Bvc3RpbmcgY29tbWVudCcpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCBjb250ZW50KS50aGVuKGZ1bmN0aW9uIChzdWNjZXNmdWxDb21tZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhzdWNjZXNmdWxDb21tZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdWNjZXNmdWxDb21tZW50LmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0ZmVlZEJhY2tGYWN0b3J5LmdldFJlcGxpZXMgPSBmdW5jdGlvbiAoY29tbWVudElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXBseS8nICsgY29tbWVudElkKS50aGVuKGZ1bmN0aW9uIChyZXBsaWVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZ290IGNvbW1lbnRzJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVwbGllcy5kYXRhO1xuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGZlZWRCYWNrRmFjdG9yeS5wb3N0UmVwbFkgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdydW5uaW5nIHBvc3QgcmVwbHknLCBtZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9yZXBseS8nLCB7IHBvc3RfaWQ6IHBhcnNlSW50KG1lc3NhZ2UucG9zdElkLnBvc3RJZCksIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5jb250ZW50IH0pLnRoZW4oZnVuY3Rpb24gKHBvc3RlZENvbW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBwb3N0ZWRDb21tZW50LmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIGZlZWRCYWNrRmFjdG9yeTtcbn0pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuXHRcdFx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgnY29udGFjdCcsIHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6ICcvY29udGFjdCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvanMvY29udGFjdC9jb250YWN0Lmh0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRcdFx0YXV0aGVudGljYXRlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3N0czogZnVuY3Rpb24gcG9zdHMoZmVlZEJhY2tGYWN0b3J5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdpbnZva2luZyBmZWVkQmFja0ZhY3RvcnknKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZlZWRCYWNrRmFjdG9yeS5nZXRQb3N0cygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG59KTtcblxuY29uc29sZS5sb2coJ2JhciBjdHJsIGxvYWRlZCcpO1xuXG5hcHAuY29udHJvbGxlcihcIkJhckN0cmxcIiwgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQpIHtcblxuXHRcdFx0XHQkc2NvcGUudGltZUluTXMgPSAwO1xuXG5cdFx0XHRcdHZhciBjb3VudFVwID0gZnVuY3Rpb24gY291bnRVcCgpIHtcblx0XHRcdFx0XHRcdFx0XHQkc2NvcGUudGltZUluTXMgKz0gNTAwO1xuXHRcdFx0XHRcdFx0XHRcdCR0aW1lb3V0KGNvdW50VXAsIDUwMCk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JHRpbWVvdXQoY291bnRVcCwgNTAwKTtcbn0pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuXHRcdFx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgnaG9tZScsIHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6ICcvJyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9qcy9ob21lL2hvbWUuaHRtbCcsXG5cdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0JhckN0cmwnLFxuXHRcdFx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0ZTogZmFsc2Vcblx0XHRcdFx0fSk7XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgYXV0aEZhY3RvcnksICRsb2NhdGlvbikge1xuXHRcdFx0XHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGxvZ2luSW5mbyA9IHsgbmFtZTogJHNjb3BlLnVzZXJuYW1lLCBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkIH07XG5cdFx0XHRcdFx0XHRcdFx0YXV0aEZhY3RvcnkubG9naW4obG9naW5JbmZvKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUnLCB7fSwgeyByZWxvYWQ6IHRydWUgfSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnLycpO1xuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdH07XG59KTtcblxuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcblx0XHRcdFx0JHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2xvZ2luJywge1xuXHRcdFx0XHRcdFx0XHRcdHVybDogJy9sb2dpbicsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvanMvbG9naW4vbG9naW4uaHRtbCcsXG5cdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRcdFx0YXV0aGVudGljYXRlOiBmYWxzZVxuXHRcdFx0XHR9KTtcbn0pO1xuXG5hcHAuZGlyZWN0aXZlKCduYXZiYXInLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHN0YXRlLCBhdXRoRmFjdG9yeSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnanMvbmF2QmFyL25hdmJhci5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5zaG93TGluayA9IGZ1bmN0aW9uIChsaW5rKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAhbGluay5pc0FkbWluICYmIChsaW5rLnN0YXRlID09PSAnYWRtaW4nIHx8IGxpbmsuc3RhdGUgPT09ICdsb2dpbicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGF1dGhGYWN0b3J5LmlzQWRtaW4oKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLmxpbmtzID0gW3sgbGFiZWw6ICdIb21lJywgc3RhdGU6ICdob21lJyB9LCB7IGxhYmVsOiAnUHJvamVjdHMnLCBzdGF0ZTogJ3Byb2plY3RzJyB9LCB7IGxhYmVsOiAnQWJvdXQgTWUnLCBzdGF0ZTogJ2Fib3V0JyB9XTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ3Byb2plY3RDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgYWxsUHJvamVjdHMpIHtcblx0XHRcdFx0JHNjb3BlLnByb2plY3RzID0gYWxsUHJvamVjdHM7XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ3NpbmdsZVByb2plY3RDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgcHJvamVjdEZhY3RvcnksIGN1cnJlbnRQcm9qZWN0LCAkc2NlKSB7XG5cdFx0XHRcdCRzY29wZS5jdXJyZW50UHJvamVjdCA9IGN1cnJlbnRQcm9qZWN0O1xuXG5cdFx0XHRcdCRzY29wZS50cnVzdFNyYyA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoc3JjKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUubW92aWUgPSB7IHNyYzogJHNjb3BlLmN1cnJlbnRQcm9qZWN0LnZpZGVvTGluayB9O1xuXG5cdFx0XHRcdCRzY29wZS5oYXNWaWRlb0xpbmsgPSBmdW5jdGlvbiBoYXNWaWRlb0xpbmsoKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICEhY3VycmVudFByb2plY3QudmlkZW9MaW5rO1xuXHRcdFx0XHR9O1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoJ3Byb2plY3RUaWxlJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3RyaWN0OiBcIkVcIixcblx0XHRcdFx0XHRcdFx0XHRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvamVjdDogJz0nXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2pzL3Byb2plY3RzL3NpbmdsZVByb2plY3Qvc2luZ2xlUHJvamVjdFRpbGUuaHRtbCdcblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuZmFjdG9yeSgncHJvamVjdEZhY3RvcnknLCBmdW5jdGlvbiAoJGh0dHApIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRnZXRBbGxQcm9qZWN0czogZnVuY3Rpb24gZ2V0QWxsUHJvamVjdHMoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3QnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRnZXRTaW5nbGVQcm9qZWN0OiBmdW5jdGlvbiBnZXRTaW5nbGVQcm9qZWN0KHByb2plY3RJRCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0LycgKyBwcm9qZWN0SUQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHBvc3RQcm9qZWN0OiBmdW5jdGlvbiBwb3N0UHJvamVjdChwcm9qZWN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0JywgcHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlUHJvamVjdDogZnVuY3Rpb24gdXBkYXRlUHJvamVjdCh1cGRhdGVkUHJvamVjdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLnB1dCgnYXBpL3Byb2plY3QnLCB1cGRhdGVkUHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuXHRcdFx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgncHJvamVjdHMnLCB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnL3Byb2plY3RzJyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9qcy9wcm9qZWN0cy9wcm9qZWN0cy5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyOiAncHJvamVjdENvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0ZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWxsUHJvamVjdHM6IGZ1bmN0aW9uIGFsbFByb2plY3RzKHByb2plY3RGYWN0b3J5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBwcm9qZWN0RmFjdG9yeS5nZXRBbGxQcm9qZWN0cygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3NpbmdsZVByb2plY3QnLCB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnL3Byb2plY3RzLzppZCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvanMvcHJvamVjdHMvc2luZ2xlUHJvamVjdC9zaW5nbGVQcm9qZWN0Lmh0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdzaW5nbGVQcm9qZWN0Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRcdFx0YXV0aGVudGljYXRlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50UHJvamVjdDogZnVuY3Rpb24gY3VycmVudFByb2plY3QocHJvamVjdEZhY3RvcnksICRzdGF0ZVBhcmFtcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcHJvamVjdEZhY3RvcnkuZ2V0U2luZ2xlUHJvamVjdCgkc3RhdGVQYXJhbXMuaWQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG59KShmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ2FiLlR5cGVpdCBhYm91dCB0bycpO1xuXHRcdFx0XHRhbmd1bGFyLm1vZHVsZSgnYWIuVHlwZWl0JywgW10pLmRpcmVjdGl2ZSgnYWJUeXBlaXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uZW9sZS5sb2coJ3J1bm5pbmcgdGhlIHdyYXBwZXInKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzdHJpY3Q6ICdBJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdFN0cmluZ3M6ICc9YWJUeXBlaXQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRMb29wOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdExvb3BEZWxheTogJz0nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRCcmVha0xpbmVzOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdFNwZWVkOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdExpZmVMaWtlOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdEN1cnNvcjogJz0nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRDdXJzb3JTcGVlZDogJz0nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRTdGFydERlbGF5OiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdEJyZWFrRGVsYXk6ICc9J1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uIGNvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB0eXBlSXRFbGVtZW50ID0gJCgkZWxlbWVudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlSXRFbGVtZW50LnR5cGVJdCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdzOiAkc2NvcGUudHlwZWl0U3RyaW5ncyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxvb3A6ICRzY29wZS50eXBlaXRMb29wLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bG9vcERlbGF5OiAkc2NvcGUudHlwZWl0TG9vcERlbGF5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtMaW5lczogJHNjb3BlLnR5cGVpdEJyZWFrTGluZXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzcGVlZDogJHNjb3BlLnR5cGVpdFNwZWVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGlmZUxpa2U6ICRzY29wZS50eXBlaXRMaWZlTGlrZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvcjogJHNjb3BlLnR5cGVpdEN1cnNvcixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvclNwZWVkOiAkc2NvcGUudHlwZWl0Q3Vyc29yU3BlZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdGFydERlbGF5OiAkc2NvcGUudHlwZWl0U3RhcnREZWxheSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrRGVsYXk6ICRzY29wZS50eXBlaXRCcmVha0RlbGF5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdPSCBOTyEgYW5ndWxhci10eXBlaXQgcmVxdWlyZXMgdHlwZWl0LmpzIG9uIHlvdXIgcGFnZSAtIGRvIHlvdSBoYXZlIGl0IGxvYWRlZD8nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pO1xufSkoKTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHQkKFwiLmRldmVsb3BlclwiKS50eXBlZCh7XG5cdFx0XHRcdFx0XHRcdFx0c3RyaW5nczogW1wiRnJvbnQtZW5kXCIsIFwiQmFjay1lbmRcIiwgXCJGdWxsc3RhY2tcIiwgXCJTb2Z0d2FyZVwiLCBcIkphdmFzY3JpcHRcIiwgXCJBbmd1bGFyXCJdLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVTcGVlZDogMjUwLFxuXHRcdFx0XHRcdFx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0Y3Vyc29yU3BlZWQ6IDEwMCxcblx0XHRcdFx0XHRcdFx0XHRsaWZlTGlrZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRjdXJzZXI6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0ZGVsZXRlU3BlZWQ6IDEwMDBcblx0XHRcdFx0fSk7XG59O1xuXG4vLyBHcmFiIG5vZGUgcGFja2FnZXNcbnZhciBndWxwID0gcmVxdWlyZSgnZ3VscCcpO1xucmVuYW1lID0gcmVxdWlyZSgnZ3VscC1yZW5hbWUnKTtcbnVnbGlmeSA9IHJlcXVpcmUoJ2d1bHAtdWdsaWZ5Jyk7XG5cbmd1bHAudGFzaygnY29tcHJlc3MnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGd1bHAuc3JjKCdqcy8qLmpzJykucGlwZSh1Z2xpZnkoKSkucGlwZShyZW5hbWUoJ3R5cGVkLm1pbi5qcycpKS5waXBlKGd1bHAuZGVzdCgnZGlzdCcpKTtcbn0pO1xuXG4vLyBEZWZhdWx0IFRhc2tcbmd1bHAudGFzaygnZGVmYXVsdCcsIFsnY29tcHJlc3MnXSk7XG5cbiFmdW5jdGlvbiAodCkge1xuXHRcdFx0XHRcInVzZSBzdHJpY3RcIjtcblx0XHRcdFx0dmFyIHMgPSBmdW5jdGlvbiBzKF9zLCBlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5lbCA9IHQoX3MpLCB0aGlzLm9wdGlvbnMgPSB0LmV4dGVuZCh7fSwgdC5mbi50eXBlZC5kZWZhdWx0cywgZSksIHRoaXMuaXNJbnB1dCA9IHRoaXMuZWwuaXMoXCJpbnB1dFwiKSwgdGhpcy5hdHRyID0gdGhpcy5vcHRpb25zLmF0dHIsIHRoaXMuc2hvd0N1cnNvciA9IHRoaXMuaXNJbnB1dCA/ICExIDogdGhpcy5vcHRpb25zLnNob3dDdXJzb3IsIHRoaXMuZWxDb250ZW50ID0gdGhpcy5hdHRyID8gdGhpcy5lbC5hdHRyKHRoaXMuYXR0cikgOiB0aGlzLmVsLnRleHQoKSwgdGhpcy5jb250ZW50VHlwZSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZSwgdGhpcy50eXBlU3BlZWQgPSB0aGlzLm9wdGlvbnMudHlwZVNwZWVkLCB0aGlzLnN0YXJ0RGVsYXkgPSB0aGlzLm9wdGlvbnMuc3RhcnREZWxheSwgdGhpcy5iYWNrU3BlZWQgPSB0aGlzLm9wdGlvbnMuYmFja1NwZWVkLCB0aGlzLmJhY2tEZWxheSA9IHRoaXMub3B0aW9ucy5iYWNrRGVsYXksIHRoaXMuc3RyaW5nc0VsZW1lbnQgPSB0aGlzLm9wdGlvbnMuc3RyaW5nc0VsZW1lbnQsIHRoaXMuc3RyaW5ncyA9IHRoaXMub3B0aW9ucy5zdHJpbmdzLCB0aGlzLnN0clBvcyA9IDAsIHRoaXMuYXJyYXlQb3MgPSAwLCB0aGlzLnN0b3BOdW0gPSAwLCB0aGlzLmxvb3AgPSB0aGlzLm9wdGlvbnMubG9vcCwgdGhpcy5sb29wQ291bnQgPSB0aGlzLm9wdGlvbnMubG9vcENvdW50LCB0aGlzLmN1ckxvb3AgPSAwLCB0aGlzLnN0b3AgPSAhMSwgdGhpcy5jdXJzb3JDaGFyID0gdGhpcy5vcHRpb25zLmN1cnNvckNoYXIsIHRoaXMuc2h1ZmZsZSA9IHRoaXMub3B0aW9ucy5zaHVmZmxlLCB0aGlzLnNlcXVlbmNlID0gW10sIHRoaXMuYnVpbGQoKTtcblx0XHRcdFx0fTtzLnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IHMsIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdCA9IHRoaXM7dC50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIHMgPSAwOyBzIDwgdC5zdHJpbmdzLmxlbmd0aDsgKytzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dC5zZXF1ZW5jZVtzXSA9IHM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH10LnNodWZmbGUgJiYgKHQuc2VxdWVuY2UgPSB0LnNodWZmbGVBcnJheSh0LnNlcXVlbmNlKSksIHQudHlwZXdyaXRlKHQuc3RyaW5nc1t0LnNlcXVlbmNlW3QuYXJyYXlQb3NdXSwgdC5zdHJQb3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgdC5zdGFydERlbGF5KTtcblx0XHRcdFx0XHRcdFx0XHR9LCBidWlsZDogZnVuY3Rpb24gYnVpbGQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgcyA9IHRoaXM7aWYgKHRoaXMuc2hvd0N1cnNvciA9PT0gITAgJiYgKHRoaXMuY3Vyc29yID0gdCgnPHNwYW4gY2xhc3M9XCJ0eXBlZC1jdXJzb3JcIj4nICsgdGhpcy5jdXJzb3JDaGFyICsgXCI8L3NwYW4+XCIpLCB0aGlzLmVsLmFmdGVyKHRoaXMuY3Vyc29yKSksIHRoaXMuc3RyaW5nc0VsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHJpbmdzID0gW10sIHRoaXMuc3RyaW5nc0VsZW1lbnQuaGlkZSgpLCBjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO3ZhciBlID0gdGhpcy5zdHJpbmdzRWxlbWVudC5jaGlsZHJlbigpO3QuZWFjaChlLCBmdW5jdGlvbiAoZSwgaSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHMuc3RyaW5ncy5wdXNoKHQoaSkuaHRtbCgpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9dGhpcy5pbml0KCk7XG5cdFx0XHRcdFx0XHRcdFx0fSwgdHlwZXdyaXRlOiBmdW5jdGlvbiB0eXBld3JpdGUodCwgcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc3RvcCAhPT0gITApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGUgPSBNYXRoLnJvdW5kKDcwICogTWF0aC5yYW5kb20oKSkgKyB0aGlzLnR5cGVTcGVlZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGkgPSB0aGlzO2kudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBlID0gMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgciA9IHQuc3Vic3RyKHMpO2lmIChcIl5cIiA9PT0gci5jaGFyQXQoMCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvID0gMTsvXlxcXlxcZCsvLnRlc3QocikgJiYgKHIgPSAvXFxkKy8uZXhlYyhyKVswXSwgbyArPSByLmxlbmd0aCwgZSA9IHBhcnNlSW50KHIpKSwgdCA9IHQuc3Vic3RyaW5nKDAsIHMpICsgdC5zdWJzdHJpbmcocyArIG8pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1pZiAoXCJodG1sXCIgPT09IGkuY29udGVudFR5cGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBuID0gdC5zdWJzdHIocykuY2hhckF0KDApO2lmIChcIjxcIiA9PT0gbiB8fCBcIiZcIiA9PT0gbikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgYSA9IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICBoID0gXCJcIjtmb3IgKGggPSBcIjxcIiA9PT0gbiA/IFwiPlwiIDogXCI7XCI7IHQuc3Vic3RyKHMgKyAxKS5jaGFyQXQoMCkgIT09IGggJiYgKGEgKz0gdC5zdWJzdHIocykuY2hhckF0KDApLCBzKyssICEocyArIDEgPiB0Lmxlbmd0aCkpOykge31zKyssIGEgKz0gaDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9aS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAocyA9PT0gdC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGkub3B0aW9ucy5vblN0cmluZ1R5cGVkKGkuYXJyYXlQb3MpLCBpLmFycmF5UG9zID09PSBpLnN0cmluZ3MubGVuZ3RoIC0gMSAmJiAoaS5vcHRpb25zLmNhbGxiYWNrKCksIGkuY3VyTG9vcCsrLCBpLmxvb3AgPT09ICExIHx8IGkuY3VyTG9vcCA9PT0gaS5sb29wQ291bnQpKSByZXR1cm47aS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aS5iYWNrc3BhY2UodCwgcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGkuYmFja0RlbGF5KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDAgPT09IHMgJiYgaS5vcHRpb25zLnByZVN0cmluZ1R5cGVkKGkuYXJyYXlQb3MpO3ZhciBlID0gdC5zdWJzdHIoMCwgcyArIDEpO2kuYXR0ciA/IGkuZWwuYXR0cihpLmF0dHIsIGUpIDogaS5pc0lucHV0ID8gaS5lbC52YWwoZSkgOiBcImh0bWxcIiA9PT0gaS5jb250ZW50VHlwZSA/IGkuZWwuaHRtbChlKSA6IGkuZWwudGV4dChlKSwgcysrLCBpLnR5cGV3cml0ZSh0LCBzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSwgYmFja3NwYWNlOiBmdW5jdGlvbiBiYWNrc3BhY2UodCwgcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc3RvcCAhPT0gITApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGUgPSBNYXRoLnJvdW5kKDcwICogTWF0aC5yYW5kb20oKSkgKyB0aGlzLmJhY2tTcGVlZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGkgPSB0aGlzO2kudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChcImh0bWxcIiA9PT0gaS5jb250ZW50VHlwZSAmJiBcIj5cIiA9PT0gdC5zdWJzdHIocykuY2hhckF0KDApKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gXCJcIjsgXCI8XCIgIT09IHQuc3Vic3RyKHMgLSAxKS5jaGFyQXQoMCkgJiYgKGUgLT0gdC5zdWJzdHIocykuY2hhckF0KDApLCBzLS0sICEoMCA+IHMpKTspIHt9cy0tLCBlICs9IFwiPFwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH12YXIgciA9IHQuc3Vic3RyKDAsIHMpO2kuYXR0ciA/IGkuZWwuYXR0cihpLmF0dHIsIHIpIDogaS5pc0lucHV0ID8gaS5lbC52YWwocikgOiBcImh0bWxcIiA9PT0gaS5jb250ZW50VHlwZSA/IGkuZWwuaHRtbChyKSA6IGkuZWwudGV4dChyKSwgcyA+IGkuc3RvcE51bSA/IChzLS0sIGkuYmFja3NwYWNlKHQsIHMpKSA6IHMgPD0gaS5zdG9wTnVtICYmIChpLmFycmF5UG9zKyssIGkuYXJyYXlQb3MgPT09IGkuc3RyaW5ncy5sZW5ndGggPyAoaS5hcnJheVBvcyA9IDAsIGkuc2h1ZmZsZSAmJiAoaS5zZXF1ZW5jZSA9IGkuc2h1ZmZsZUFycmF5KGkuc2VxdWVuY2UpKSwgaS5pbml0KCkpIDogaS50eXBld3JpdGUoaS5zdHJpbmdzW2kuc2VxdWVuY2VbaS5hcnJheVBvc11dLCBzKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sIHNodWZmbGVBcnJheTogZnVuY3Rpb24gc2h1ZmZsZUFycmF5KHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgaSA9IHQubGVuZ3RoO2lmIChpKSBmb3IgKDsgLS1pOykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSksIHMgPSB0W2VdLCB0W2VdID0gdFtpXSwgdFtpXSA9IHM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9cmV0dXJuIHQ7XG5cdFx0XHRcdFx0XHRcdFx0fSwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHQgPSB0aGlzO2NsZWFySW50ZXJ2YWwodC50aW1lb3V0KTt0aGlzLmVsLmF0dHIoXCJpZFwiKTt0aGlzLmVsLmVtcHR5KCksIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHRoaXMuY3Vyc29yICYmIHRoaXMuY3Vyc29yLnJlbW92ZSgpLCB0aGlzLnN0clBvcyA9IDAsIHRoaXMuYXJyYXlQb3MgPSAwLCB0aGlzLmN1ckxvb3AgPSAwLCB0aGlzLm9wdGlvbnMucmVzZXRDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH0gfSwgdC5mbi50eXBlZCA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaSA9IHQodGhpcyksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgciA9IGkuZGF0YShcInR5cGVkXCIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIG8gPSBcIm9iamVjdFwiID09ICh0eXBlb2YgZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoZSkpICYmIGU7ciAmJiByLnJlc2V0KCksIGkuZGF0YShcInR5cGVkXCIsIHIgPSBuZXcgcyh0aGlzLCBvKSksIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgcltlXSgpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LCB0LmZuLnR5cGVkLmRlZmF1bHRzID0geyBzdHJpbmdzOiBbXCJUaGVzZSBhcmUgdGhlIGRlZmF1bHQgdmFsdWVzLi4uXCIsIFwiWW91IGtub3cgd2hhdCB5b3Ugc2hvdWxkIGRvP1wiLCBcIlVzZSB5b3VyIG93biFcIiwgXCJIYXZlIGEgZ3JlYXQgZGF5IVwiXSwgc3RyaW5nc0VsZW1lbnQ6IG51bGwsIHR5cGVTcGVlZDogMCwgc3RhcnREZWxheTogMCwgYmFja1NwZWVkOiAwLCBzaHVmZmxlOiAhMSwgYmFja0RlbGF5OiA1MDAsIGxvb3A6ICExLCBsb29wQ291bnQ6ICExLCBzaG93Q3Vyc29yOiAhMCwgY3Vyc29yQ2hhcjogXCJ8XCIsIGF0dHI6IG51bGwsIGNvbnRlbnRUeXBlOiBcImh0bWxcIiwgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge30sIHByZVN0cmluZ1R5cGVkOiBmdW5jdGlvbiBwcmVTdHJpbmdUeXBlZCgpIHt9LCBvblN0cmluZ1R5cGVkOiBmdW5jdGlvbiBvblN0cmluZ1R5cGVkKCkge30sIHJlc2V0Q2FsbGJhY2s6IGZ1bmN0aW9uIHJlc2V0Q2FsbGJhY2soKSB7fSB9O1xufSh3aW5kb3cualF1ZXJ5KTtcbi8vIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4vLyBUeXBlZC5qcyB8IENvcHlyaWdodCAoYykgMjAxNiBNYXR0IEJvbGR0IHwgd3d3Lm1hdHRib2xkdC5jb21cblxuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5cbiFmdW5jdGlvbiAoJCkge1xuXG5cdFx0XHRcdFwidXNlIHN0cmljdFwiO1xuXG5cdFx0XHRcdHZhciBUeXBlZCA9IGZ1bmN0aW9uIFR5cGVkKGVsLCBvcHRpb25zKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBjaG9zZW4gZWxlbWVudCB0byBtYW5pcHVsYXRlIHRleHRcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmVsID0gJChlbCk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBvcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4udHlwZWQuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gYXR0cmlidXRlIHRvIHR5cGUgaW50b1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaXNJbnB1dCA9IHRoaXMuZWwuaXMoJ2lucHV0Jyk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hdHRyID0gdGhpcy5vcHRpb25zLmF0dHI7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBzaG93IGN1cnNvclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2hvd0N1cnNvciA9IHRoaXMuaXNJbnB1dCA/IGZhbHNlIDogdGhpcy5vcHRpb25zLnNob3dDdXJzb3I7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyB0ZXh0IGNvbnRlbnQgb2YgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZWxDb250ZW50ID0gdGhpcy5hdHRyID8gdGhpcy5lbC5hdHRyKHRoaXMuYXR0cikgOiB0aGlzLmVsLnRleHQoKTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGh0bWwgb3IgcGxhaW4gdGV4dFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY29udGVudFR5cGUgPSB0aGlzLm9wdGlvbnMuY29udGVudFR5cGU7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyB0eXBpbmcgc3BlZWRcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnR5cGVTcGVlZCA9IHRoaXMub3B0aW9ucy50eXBlU3BlZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBhZGQgYSBkZWxheSBiZWZvcmUgdHlwaW5nIHN0YXJ0c1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RhcnREZWxheSA9IHRoaXMub3B0aW9ucy5zdGFydERlbGF5O1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gYmFja3NwYWNpbmcgc3BlZWRcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmJhY2tTcGVlZCA9IHRoaXMub3B0aW9ucy5iYWNrU3BlZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBhbW91bnQgb2YgdGltZSB0byB3YWl0IGJlZm9yZSBiYWNrc3BhY2luZ1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYmFja0RlbGF5ID0gdGhpcy5vcHRpb25zLmJhY2tEZWxheTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGRpdiBjb250YWluaW5nIHN0cmluZ3Ncblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0cmluZ3NFbGVtZW50ID0gdGhpcy5vcHRpb25zLnN0cmluZ3NFbGVtZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaW5wdXQgc3RyaW5ncyBvZiB0ZXh0XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHJpbmdzID0gdGhpcy5vcHRpb25zLnN0cmluZ3M7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBjaGFyYWN0ZXIgbnVtYmVyIHBvc2l0aW9uIG9mIGN1cnJlbnQgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHJQb3MgPSAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gY3VycmVudCBhcnJheSBwb3NpdGlvblxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXJyYXlQb3MgPSAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gbnVtYmVyIHRvIHN0b3AgYmFja3NwYWNpbmcgb24uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZGVmYXVsdCAwLCBjYW4gY2hhbmdlIGRlcGVuZGluZyBvbiBob3cgbWFueSBjaGFyc1xuXHRcdFx0XHRcdFx0XHRcdC8vIHlvdSB3YW50IHRvIHJlbW92ZSBhdCB0aGUgdGltZVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RvcE51bSA9IDA7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBMb29waW5nIGxvZ2ljXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5sb29wID0gdGhpcy5vcHRpb25zLmxvb3A7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5sb29wQ291bnQgPSB0aGlzLm9wdGlvbnMubG9vcENvdW50O1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY3VyTG9vcCA9IDA7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBmb3Igc3RvcHBpbmdcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0b3AgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGN1c3RvbSBjdXJzb3Jcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmN1cnNvckNoYXIgPSB0aGlzLm9wdGlvbnMuY3Vyc29yQ2hhcjtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIHNodWZmbGUgdGhlIHN0cmluZ3Ncblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNodWZmbGUgPSB0aGlzLm9wdGlvbnMuc2h1ZmZsZTtcblx0XHRcdFx0XHRcdFx0XHQvLyB0aGUgb3JkZXIgb2Ygc3RyaW5nc1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2VxdWVuY2UgPSBbXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEFsbCBzeXN0ZW1zIGdvIVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYnVpbGQoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRUeXBlZC5wcm90b3R5cGUgPSB7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdHJ1Y3RvcjogVHlwZWQsXG5cblx0XHRcdFx0XHRcdFx0XHRpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYmVnaW4gdGhlIGxvb3Agdy8gZmlyc3QgY3VycmVudCBzdHJpbmcgKGdsb2JhbCBzZWxmLnN0cmluZ3MpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjdXJyZW50IHN0cmluZyB3aWxsIGJlIHBhc3NlZCBhcyBhbiBhcmd1bWVudCBlYWNoIHRpbWUgYWZ0ZXIgdGhpc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5zdHJpbmdzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5zZXF1ZW5jZVtpXSA9IGk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gLy8gc2h1ZmZsZSB0aGUgYXJyYXkgaWYgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5zaHVmZmxlKSBzZWxmLnNlcXVlbmNlID0gc2VsZi5zaHVmZmxlQXJyYXkoc2VsZi5zZXF1ZW5jZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3RhcnQgdHlwaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudHlwZXdyaXRlKHNlbGYuc3RyaW5nc1tzZWxmLnNlcXVlbmNlW3NlbGYuYXJyYXlQb3NdXSwgc2VsZi5zdHJQb3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgc2VsZi5zdGFydERlbGF5KTtcblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0YnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSW5zZXJ0IGN1cnNvclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc2hvd0N1cnNvciA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmN1cnNvciA9ICQoXCI8c3BhbiBjbGFzcz1cXFwidHlwZWQtY3Vyc29yXFxcIj5cIiArIHRoaXMuY3Vyc29yQ2hhciArIFwiPC9zcGFuPlwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5lbC5hZnRlcih0aGlzLmN1cnNvcik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdHJpbmdzRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0cmluZ3MgPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHJpbmdzRWxlbWVudC5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRoaXMuc3RyaW5nc0VsZW1lbnQuY2hpbGRyZW4oKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzdHJpbmdzID0gdGhpcy5zdHJpbmdzRWxlbWVudC5jaGlsZHJlbigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkLmVhY2goc3RyaW5ncywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnN0cmluZ3MucHVzaCgkKHZhbHVlKS5odG1sKCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuaW5pdCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBwYXNzIGN1cnJlbnQgc3RyaW5nIHN0YXRlIHRvIGVhY2ggZnVuY3Rpb24sIHR5cGVzIDEgY2hhciBwZXIgY2FsbFxuXHRcdFx0XHRcdFx0XHRcdHR5cGV3cml0ZTogZnVuY3Rpb24gdHlwZXdyaXRlKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBleGl0IHdoZW4gc3RvcHBlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHZhcnlpbmcgdmFsdWVzIGZvciBzZXRUaW1lb3V0IGR1cmluZyB0eXBpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGNhbid0IGJlIGdsb2JhbCBzaW5jZSBudW1iZXIgY2hhbmdlcyBlYWNoIHRpbWUgbG9vcCBpcyBleGVjdXRlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGh1bWFuaXplID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKDEwMCAtIDMwKSkgKyB0aGlzLnR5cGVTcGVlZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLSBvcHRpb25hbCAtLS0tLS0tLS0tLS0tIC8vXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBiYWNrcGFjZXMgYSBjZXJ0YWluIHN0cmluZyBmYXN0ZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaWYgKHNlbGYuYXJyYXlQb3MgPT0gMSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAgc2VsZi5iYWNrRGVsYXkgPSA1MDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGVsc2V7IHNlbGYuYmFja0RlbGF5ID0gNTAwOyB9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGNvbnRhaW4gdHlwaW5nIGZ1bmN0aW9uIGluIGEgdGltZW91dCBodW1hbml6ZSdkIGRlbGF5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gY2hlY2sgZm9yIGFuIGVzY2FwZSBjaGFyYWN0ZXIgYmVmb3JlIGEgcGF1c2UgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gZm9ybWF0OiBcXF5cXGQrIC4uIGVnOiBeMTAwMCAuLiBzaG91bGQgYmUgYWJsZSB0byBwcmludCB0aGUgXiB0b28gdXNpbmcgXl5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gc2luZ2xlIF4gYXJlIHJlbW92ZWQgZnJvbSBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGNoYXJQYXVzZSA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzdWJzdHIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzdWJzdHIuY2hhckF0KDApID09PSAnXicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2tpcCA9IDE7IC8vIHNraXAgYXRsZWFzdCAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKC9eXFxeXFxkKy8udGVzdChzdWJzdHIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdWJzdHIgPSAvXFxkKy8uZXhlYyhzdWJzdHIpWzBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2tpcCArPSBzdWJzdHIubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hhclBhdXNlID0gcGFyc2VJbnQoc3Vic3RyKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBzdHJpcCBvdXQgdGhlIGVzY2FwZSBjaGFyYWN0ZXIgYW5kIHBhdXNlIHZhbHVlIHNvIHRoZXkncmUgbm90IHByaW50ZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyaW5nKDAsIGN1clN0clBvcykgKyBjdXJTdHJpbmcuc3Vic3RyaW5nKGN1clN0clBvcyArIHNraXApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHNraXAgb3ZlciBodG1sIHRhZ3Mgd2hpbGUgdHlwaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGN1ckNoYXIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjdXJDaGFyID09PSAnPCcgfHwgY3VyQ2hhciA9PT0gJyYnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdGFnID0gJyc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZW5kVGFnID0gJyc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY3VyQ2hhciA9PT0gJzwnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVuZFRhZyA9ICc+Jztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVuZFRhZyA9ICc7Jztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyArIDEpLmNoYXJBdCgwKSAhPT0gZW5kVGFnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhZyArPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJTdHJQb3MrKztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyArIDEgPiBjdXJTdHJpbmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0clBvcysrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFnICs9IGVuZFRhZztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyB0aW1lb3V0IGZvciBhbnkgcGF1c2UgYWZ0ZXIgYSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyA9PT0gY3VyU3RyaW5nLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gZmlyZXMgY2FsbGJhY2sgZnVuY3Rpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYub3B0aW9ucy5vblN0cmluZ1R5cGVkKHNlbGYuYXJyYXlQb3MpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBpcyB0aGlzIHRoZSBmaW5hbCBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmFycmF5UG9zID09PSBzZWxmLnN0cmluZ3MubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmltYXRpb24gdGhhdCBvY2N1cnMgb24gdGhlIGxhc3QgdHlwZWQgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYub3B0aW9ucy5jYWxsYmFjaygpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuY3VyTG9vcCsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHF1aXQgaWYgd2Ugd29udCBsb29wIGJhY2tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYubG9vcCA9PT0gZmFsc2UgfHwgc2VsZi5jdXJMb29wID09PSBzZWxmLmxvb3BDb3VudCkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5iYWNrc3BhY2UoY3VyU3RyaW5nLCBjdXJTdHJQb3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgc2VsZi5iYWNrRGVsYXkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8qIGNhbGwgYmVmb3JlIGZ1bmN0aW9ucyBpZiBhcHBsaWNhYmxlICovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY3VyU3RyUG9zID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYub3B0aW9ucy5wcmVTdHJpbmdUeXBlZChzZWxmLmFycmF5UG9zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gc3RhcnQgdHlwaW5nIGVhY2ggbmV3IGNoYXIgaW50byBleGlzdGluZyBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGN1clN0cmluZzogYXJnLCBzZWxmLmVsLmh0bWw6IG9yaWdpbmFsIHRleHQgaW5zaWRlIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBuZXh0U3RyaW5nID0gY3VyU3RyaW5nLnN1YnN0cigwLCBjdXJTdHJQb3MgKyAxKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmF0dHIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5lbC5hdHRyKHNlbGYuYXR0ciwgbmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0lucHV0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5lbC52YWwobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5lbC5odG1sKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwudGV4dChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhZGQgY2hhcmFjdGVycyBvbmUgYnkgb25lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJTdHJQb3MrKztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGxvb3AgdGhlIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnR5cGV3cml0ZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGVuZCBvZiBjaGFyYWN0ZXIgcGF1c2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2hhclBhdXNlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodW1hbml6ZWQgdmFsdWUgZm9yIHR5cGluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgaHVtYW5pemUpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHRiYWNrc3BhY2U6IGZ1bmN0aW9uIGJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gZXhpdCB3aGVuIHN0b3BwZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLnN0b3AgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyB2YXJ5aW5nIHZhbHVlcyBmb3Igc2V0VGltZW91dCBkdXJpbmcgdHlwaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjYW4ndCBiZSBnbG9iYWwgc2luY2UgbnVtYmVyIGNoYW5nZXMgZWFjaCB0aW1lIGxvb3AgaXMgZXhlY3V0ZWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBodW1hbml6ZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICgxMDAgLSAzMCkpICsgdGhpcy5iYWNrU3BlZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC0tLS0tIHRoaXMgcGFydCBpcyBvcHRpb25hbCAtLS0tLSAvL1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjaGVjayBzdHJpbmcgYXJyYXkgcG9zaXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gb24gdGhlIGZpcnN0IHN0cmluZywgb25seSBkZWxldGUgb25lIHdvcmRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gdGhlIHN0b3BOdW0gYWN0dWFsbHkgcmVwcmVzZW50cyB0aGUgYW1vdW50IG9mIGNoYXJzIHRvXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGtlZXAgaW4gdGhlIGN1cnJlbnQgc3RyaW5nLiBJbiBteSBjYXNlIGl0J3MgMTQuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGlmIChzZWxmLmFycmF5UG9zID09IDEpe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAgc2VsZi5zdG9wTnVtID0gMTQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9ldmVyeSBvdGhlciB0aW1lLCBkZWxldGUgdGhlIHdob2xlIHR5cGVkIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBlbHNle1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAgc2VsZi5zdG9wTnVtID0gMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmNvbnRlbnRUeXBlID09PSAnaHRtbCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBza2lwIG92ZXIgaHRtbCB0YWdzIHdoaWxlIGJhY2tzcGFjaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKS5jaGFyQXQoMCkgPT09ICc+Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRhZyA9ICcnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zIC0gMSkuY2hhckF0KDApICE9PSAnPCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFnIC09IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKS5jaGFyQXQoMCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY3VyU3RyUG9zIDwgMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJTdHJQb3MtLTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhZyArPSAnPCc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLS0tLS0gY29udGludWUgaW1wb3J0YW50IHN0dWZmIC0tLS0tIC8vXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHJlcGxhY2UgdGV4dCB3aXRoIGJhc2UgdGV4dCArIHR5cGVkIGNoYXJhY3RlcnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG5leHRTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyKDAsIGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmF0dHIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLmF0dHIoc2VsZi5hdHRyLCBuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0lucHV0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLnZhbChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5lbC5odG1sKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLnRleHQobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaWYgdGhlIG51bWJlciAoaWQgb2YgY2hhcmFjdGVyIGluIGN1cnJlbnQgc3RyaW5nKSBpc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBsZXNzIHRoYW4gdGhlIHN0b3AgbnVtYmVyLCBrZWVwIGdvaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgPiBzZWxmLnN0b3BOdW0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBzdWJ0cmFjdCBjaGFyYWN0ZXJzIG9uZSBieSBvbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJTdHJQb3MtLTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBsb29wIHRoZSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuYmFja3NwYWNlKGN1clN0cmluZywgY3VyU3RyUG9zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBpZiB0aGUgc3RvcCBudW1iZXIgaGFzIGJlZW4gcmVhY2hlZCwgaW5jcmVhc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYXJyYXkgcG9zaXRpb24gdG8gbmV4dCBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAoY3VyU3RyUG9zIDw9IHNlbGYuc3RvcE51bSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5hcnJheVBvcysrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5hcnJheVBvcyA9PT0gc2VsZi5zdHJpbmdzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmFycmF5UG9zID0gMDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTaHVmZmxlIHNlcXVlbmNlIGFnYWluXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLnNodWZmbGUpIHNlbGYuc2VxdWVuY2UgPSBzZWxmLnNodWZmbGVBcnJheShzZWxmLnNlcXVlbmNlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmluaXQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh1bWFuaXplZCB2YWx1ZSBmb3IgdHlwaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBodW1hbml6ZSk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHQvKipcbiAgICAgICAgICogU2h1ZmZsZXMgdGhlIG51bWJlcnMgaW4gdGhlIGdpdmVuIGFycmF5LlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICAgICAqL1xuXHRcdFx0XHRcdFx0XHRcdHNodWZmbGVBcnJheTogZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdG1wLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGN1cnJlbnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgdG9wID0gYXJyYXkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRvcCkgd2hpbGUgKC0tdG9wKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodG9wICsgMSkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0bXAgPSBhcnJheVtjdXJyZW50XTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJyYXlbY3VycmVudF0gPSBhcnJheVt0b3BdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcnJheVt0b3BdID0gdG1wO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFycmF5O1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdGFydCAmIFN0b3AgY3VycmVudGx5IG5vdCB3b3JraW5nXG5cblx0XHRcdFx0XHRcdFx0XHQvLyAsIHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyAgICAgc2VsZi5zdG9wID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHQvLyAgICAgY2xlYXJJbnRlcnZhbChzZWxmLnRpbWVvdXQpO1xuXHRcdFx0XHRcdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRcdFx0XHRcdC8vICwgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gICAgIGlmKHNlbGYuc3RvcCA9PT0gZmFsc2UpXG5cdFx0XHRcdFx0XHRcdFx0Ly8gICAgICAgIHJldHVybjtcblxuXHRcdFx0XHRcdFx0XHRcdC8vICAgICB0aGlzLnN0b3AgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHQvLyAgICAgdGhpcy5pbml0KCk7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmVzZXQgYW5kIHJlYnVpbGQgdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRyZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKHNlbGYudGltZW91dCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaWQgPSB0aGlzLmVsLmF0dHIoJ2lkJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmVsLmVtcHR5KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIHRoaXMuY3Vyc29yICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmN1cnNvci5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RyUG9zID0gMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXJyYXlQb3MgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5jdXJMb29wID0gMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNlbmQgdGhlIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLm9wdGlvbnMucmVzZXRDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCQuZm4udHlwZWQgPSBmdW5jdGlvbiAob3B0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGRhdGEgPSAkdGhpcy5kYXRhKCd0eXBlZCcpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIG9wdGlvbnMgPSAodHlwZW9mIG9wdGlvbiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9uKSkgPT0gJ29iamVjdCcgJiYgb3B0aW9uO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS5yZXNldCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JHRoaXMuZGF0YSgndHlwZWQnLCBkYXRhID0gbmV3IFR5cGVkKHRoaXMsIG9wdGlvbnMpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkLmZuLnR5cGVkLmRlZmF1bHRzID0ge1xuXHRcdFx0XHRcdFx0XHRcdHN0cmluZ3M6IFtcIlRoZXNlIGFyZSB0aGUgZGVmYXVsdCB2YWx1ZXMuLi5cIiwgXCJZb3Uga25vdyB3aGF0IHlvdSBzaG91bGQgZG8/XCIsIFwiVXNlIHlvdXIgb3duIVwiLCBcIkhhdmUgYSBncmVhdCBkYXkhXCJdLFxuXHRcdFx0XHRcdFx0XHRcdHN0cmluZ3NFbGVtZW50OiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcdC8vIHR5cGluZyBzcGVlZFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVTcGVlZDogMCxcblx0XHRcdFx0XHRcdFx0XHQvLyB0aW1lIGJlZm9yZSB0eXBpbmcgc3RhcnRzXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnREZWxheTogMCxcblx0XHRcdFx0XHRcdFx0XHQvLyBiYWNrc3BhY2luZyBzcGVlZFxuXHRcdFx0XHRcdFx0XHRcdGJhY2tTcGVlZDogMCxcblx0XHRcdFx0XHRcdFx0XHQvLyBzaHVmZmxlIHRoZSBzdHJpbmdzXG5cdFx0XHRcdFx0XHRcdFx0c2h1ZmZsZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdGltZSBiZWZvcmUgYmFja3NwYWNpbmdcblx0XHRcdFx0XHRcdFx0XHRiYWNrRGVsYXk6IDUwMCxcblx0XHRcdFx0XHRcdFx0XHQvLyBsb29wXG5cdFx0XHRcdFx0XHRcdFx0bG9vcDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZmFsc2UgPSBpbmZpbml0ZVxuXHRcdFx0XHRcdFx0XHRcdGxvb3BDb3VudDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2hvdyBjdXJzb3Jcblx0XHRcdFx0XHRcdFx0XHRzaG93Q3Vyc29yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdC8vIGNoYXJhY3RlciBmb3IgY3Vyc29yXG5cdFx0XHRcdFx0XHRcdFx0Y3Vyc29yQ2hhcjogXCJ8XCIsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gYXR0cmlidXRlIHRvIHR5cGUgKG51bGwgPT0gdGV4dClcblx0XHRcdFx0XHRcdFx0XHRhdHRyOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcdC8vIGVpdGhlciBodG1sIG9yIHRleHRcblx0XHRcdFx0XHRcdFx0XHRjb250ZW50VHlwZTogJ2h0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdC8vIGNhbGwgd2hlbiBkb25lIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge30sXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc3RhcnRpbmcgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIGVhY2ggc3RyaW5nXG5cdFx0XHRcdFx0XHRcdFx0cHJlU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uIHByZVN0cmluZ1R5cGVkKCkge30sXG5cdFx0XHRcdFx0XHRcdFx0Ly9jYWxsYmFjayBmb3IgZXZlcnkgdHlwZWQgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdFx0b25TdHJpbmdUeXBlZDogZnVuY3Rpb24gb25TdHJpbmdUeXBlZCgpIHt9LFxuXHRcdFx0XHRcdFx0XHRcdC8vIGNhbGxiYWNrIGZvciByZXNldFxuXHRcdFx0XHRcdFx0XHRcdHJlc2V0Q2FsbGJhY2s6IGZ1bmN0aW9uIHJlc2V0Q2FsbGJhY2soKSB7fVxuXHRcdFx0XHR9O1xufSh3aW5kb3cualF1ZXJ5KTsiLCJjb25zb2xlLmxvZygnYW5ndWxhciBsb2FkZWQnKVxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsndWkucm91dGVyJywgJ3VpLmJvb3RzdHJhcCcsICduZ0FuaW1hdGUnLCAneGVkaXRhYmxlJywnYW5ndWxhci10eXBlZCddKTtcblxuYXBwLnJ1bihmdW5jdGlvbihlZGl0YWJsZU9wdGlvbnMpIHtcbiAgICBlZGl0YWJsZU9wdGlvbnMudGhlbWUgPSAnYnMzJzsgLy8gYm9vdHN0cmFwMyB0aGVtZS4gQ2FuIGJlIGFsc28gJ2JzMicsICdkZWZhdWx0J1xufSk7XG5cbmFwcC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgICAgIC8vIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIC8vIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIH0pO1xuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xufV0pO1xuXG5hcHAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgYXV0aEZhY3RvcnkpIHtcbiAgICAkcm9vdFNjb3BlLmFkbWluID0gbnVsbDtcbiAgICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBhdXRoRmFjdG9yeSkge1xuICAgICAgICBpZiAodG9TdGF0ZS5hdXRoZW50aWNhdGUgJiYgIWF1dGhGYWN0b3J5LmlzQWRtaW4oKSkge1xuICAgICAgICAgICAgLy8gVXNlciBpc27igJl0IGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oXCJob21lXCIpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblxuIiwiYXBwLmNvbmZpZygkc3RhdGVQcm92aWRlciA9PiB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2Fib3V0Jywge1xuICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9hYm91dC9hYm91dC5odG1sJyxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgIH0pXG59KVxuIiwiYXBwLmNvbnRyb2xsZXIoJ2FkbWluQ29udHJvbGxlcicsICgkc2NvcGUsICRzdGF0ZSwgYWRtaW5GYWN0b3J5LCBhbGxQcm9qZWN0cywgYXV0aEZhY3RvcnkpID0+IHtcblxuICAgICRzY29wZS5zdWJtaXRQcm9qZWN0ID0gZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgICBhZG1pbkZhY3RvcnkucG9zdFByb2plY3QocHJvamVjdClcbiAgICAgICAgJHNjb3BlLnByb2plY3QgPSBudWxsO1xuICAgIH1cblxuICAgICRzY29wZS5hbGxQcm9qZWN0cyA9IGFsbFByb2plY3RzIHx8IFt7IGlkOiAwLCBuYW1lOiAnZW1wdHknLCBkZXBsb3k6ICdlbXB0eScsIGdpdEh1YjogXCJlbXB0eVwiIH1dXG5cbiAgICAkc2NvcGUuZGF0YSA9IHtcbiAgICAgICAgYXZhaWxhYmxlUHJvamVjdHM6ICRzY29wZS5hbGxQcm9qZWN0cyxcbiAgICAgICAgc2VsZWN0ZWRQcm9qZWN0OiB7IGlkOiAwLCBuYW1lOiAnZW1wdHknLCBkZXBsb3k6ICdlbXB0eScsIGdpdEh1YjogJ2VtcHR5JywgZGVzY3JpcHRpb246IFwiZW1wdHlcIiB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbGVjdGVkcHJvamVjdENoYW5nZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQcm9qZWN0ID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcbiAgICB9XG5cbiAgICAkc2NvcGUubG9nT3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGF1dGhGYWN0b3J5LmxvZ091dCgpXG4gICAgICAgICRzdGF0ZS5nbygnaG9tZScpXG4gICAgfVxufSlcbiIsImFwcC5kaXJlY3RpdmUoJ3Byb2plY3RFZGl0JywgcHJvamVjdEZhY3RvcnkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBwcm9qZWN0OiAnPXByb2plY3QnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW5FZGl0Lmh0bWwnXG4gICAgfTtcbn0pO1xuIiwiYXBwLmZhY3RvcnkoJ2FkbWluRmFjdG9yeScsICRodHRwID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb3N0UHJvamVjdDogcHJvamVjdCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0JywgcHJvamVjdClcbiAgICAgICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICB9LFxuICAgICAgICBnZXRBbGxQcm9qZWN0czogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0JylcbiAgICAgICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICB9XG4gICAgfVxufSlcbiIsImFwcC5jb25maWcoJHN0YXRlUHJvdmlkZXIgPT4ge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdhZG1pbicsIHtcbiAgICAgICAgdXJsOiAnL2FkbWluJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvYWRtaW4vYWRtaW4uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdhZG1pbkNvbnRyb2xsZXInLFxuICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGFsbFByb2plY3RzOiBhZG1pbkZhY3RvcnkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZG1pbkZhY3RvcnkuZ2V0QWxsUHJvamVjdHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG59KVxuIiwiYXBwLmNvbnRyb2xsZXIoJ2F1dGhDb250cm9sbGVyJywgKCRzY29wZSwgYXV0aEZhY3RvcnkpID0+IHtcbiAgICAkc2NvcGUuaXNBZG1pbiA9IGF1dGhGYWN0b3J5LmlzQWRtaW4oKVxufSlcbiIsImFwcC5mYWN0b3J5KCdhdXRoRmFjdG9yeScsICgkaHR0cCwgJHN0YXRlLCAkcm9vdFNjb3BlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNBZG1pbjogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICEhJHJvb3RTY29wZS5hZG1pblxuICAgICAgICB9LFxuICAgICAgICBsb2dpbjogbG9naW5JbmZvID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXV0aGVudGljYXRpb24vJyArIGxvZ2luSW5mby5uYW1lICsgJy8nICsgbG9naW5JbmZvLnBhc3N3b3JkKVxuICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbkRlY2lzaW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aGVudGljYXRpb25EZWNpc2lvbi5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZG1pbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkbWluID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uRGVjaXNpb25cbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKVxuICAgICAgICB9LFxuICAgICAgICBsb2dPdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICRyb290U2NvcGUuYWRtaW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSlcbiIsImFwcC5jb250cm9sbGVyKCdjb250YWN0Q29udHJvbGxlcicsICgkc2NvcGUsIHBvc3RzLCBmZWVkQmFja0ZhY3RvcnkpID0+IHtcbiAgICAkc2NvcGUucG9zdHMgPSBwb3N0cztcbiAgICAkc2NvcGUuZ2V0UmVwbGllcyA9IGZlZWRCYWNrRmFjdG9yeS5nZXRSZXBsaWVzO1xuICAgICRzY29wZS5wb3N0UmVwbHkgPSAocG9zdElkLCBjb250ZW50KSA9PiB7XG4gICAgICAgIGxldCByZXBseUluZm8gPSB7IHBvc3RJZCwgY29udGVudCB9XG4gICAgICAgIGZlZWRCYWNrRmFjdG9yeS5wb3N0UmVwbFkocmVwbHlJbmZvKVxuICAgIH1cblxuICAgICRzY29wZS5zdWJtaXRGb3JtID0gZGF0YSA9PiB7XG4gICAgICAgIGZlZWRCYWNrRmFjdG9yeS5wb3N0Q29tbWVudChkYXRhKVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgbmV3UG9zdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wb3N0c1skc2NvcGUucG9zdHMubGVuZ3RoXSA9IG5ld1Bvc3RcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKClcbiAgICAgICAgJHNjb3BlLnVzZXIgPSBudWxsXG4gICAgICAgICRzY29wZS51c2VyRm9ybS4kc2V0UHJpc3RpbmUodHJ1ZSlcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnVzZXIgPSBudWxsXG4gICAgICAgICRzY29wZS51c2VyRm9ybS4kc2V0UHJpc3RpbmUodHJ1ZSlcbiAgICB9XG5cbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUubWVzc2FnZSAmJiAkc2NvcGUuZW1haWwgJiYgJHNjb3BlLm5hbWUpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJGYWN0b3J5LnNlbmRNZXNzYWdlKCRzY29wZS5uYW1lLCAkc2NvcGUuZW1haWwsICRzY29wZS5tZXNzYWdlKVxuICAgICAgICB9XG4gICAgfVxufSlcbiIsImFwcC5kaXJlY3RpdmUoJ3JlcGxpZXMnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncG9zdCBkaXJlY3RpdmUnKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHBvc3Q6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnanMvY29udGFjdC90ZW1wbGF0ZS9yZXBseVZpZXcuaHRtbCcsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5yZXBsaWVzID0gW1xuICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdIb21lJywgc3RhdGU6ICdob21lJyB9LFxuICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdQcm9qZWN0cycsIHN0YXRlOiAncHJvamVjdHMnIH0sXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogJ0Fib3V0IE1lJywgc3RhdGU6ICdhYm91dCcgfSxcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnQ29udGFjdCBNZScsIHN0YXRlOiAnY29udGFjdCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfVxufSlcbiIsImFwcC5mYWN0b3J5KCdmZWVkQmFja0ZhY3RvcnknLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gICAgY29uc29sZS5sb2coXCJJbiB0aGUgZmVlYmFjayBmYWN0b3J5XCIpXG4gICAgdmFyIGZlZWRCYWNrRmFjdG9yeSA9IHt9XG4gICAgZmVlZEJhY2tGYWN0b3J5LmdldFBvc3RzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29tbWVudCcpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXR0aW5nIGNvbW1lbnRzJylcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgfVxuICAgIGZlZWRCYWNrRmFjdG9yeS5wb3N0Q29tbWVudCA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1Bvc3RpbmcgY29tbWVudCcpXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCBjb250ZW50KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oc3VjY2VzZnVsQ29tbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN1Y2Nlc2Z1bENvbW1lbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc2Z1bENvbW1lbnQuZGF0YVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgfVxuICAgIGZlZWRCYWNrRmFjdG9yeS5nZXRSZXBsaWVzID0gZnVuY3Rpb24oY29tbWVudElkKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVwbHkvJyArIGNvbW1lbnRJZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcGxpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IGNvbW1lbnRzJylcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGllcy5kYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKClcbiAgICB9XG4gICAgZmVlZEJhY2tGYWN0b3J5LnBvc3RSZXBsWSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3J1bm5pbmcgcG9zdCByZXBseScsIG1lc3NhZ2UpXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3JlcGx5LycsIHtwb3N0X2lkOnBhcnNlSW50KG1lc3NhZ2UucG9zdElkLnBvc3RJZCkgLGNvbnRlbnQ6bWVzc2FnZS5jb250ZW50LmNvbnRlbnR9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zdGVkQ29tbWVudCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3RlZENvbW1lbnQuZGF0YVxuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gZmVlZEJhY2tGYWN0b3J5XG5cbn0pXG4iLCJhcHAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2NvbnRhY3QnLCB7XG4gICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvY29udGFjdC9jb250YWN0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdENvbnRyb2xsZXInLFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBwb3N0czogZnVuY3Rpb24oZmVlZEJhY2tGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ludm9raW5nIGZlZWRCYWNrRmFjdG9yeScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZlZWRCYWNrRmFjdG9yeS5nZXRQb3N0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbn0pXG4iLCJjb25zb2xlLmxvZygnYmFyIGN0cmwgbG9hZGVkJylcblxuYXBwLmNvbnRyb2xsZXIoXCJCYXJDdHJsXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQpIHtcblxuXHQgICAgJHNjb3BlLnRpbWVJbk1zID0gMDtcblxuICAgIHZhciBjb3VudFVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50aW1lSW5Ncys9IDUwMDtcbiAgICAgICAgJHRpbWVvdXQoY291bnRVcCwgNTAwKTtcbiAgICB9XG5cbiAgICAkdGltZW91dChjb3VudFVwLCA1MDApO1xuXG59KTtcbiIsImFwcC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaG9tZScsIHtcbiAgICAgICAgdXJsOiAnLycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2hvbWUvaG9tZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0JhckN0cmwnLFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgfSlcbn0pXG4iLCJhcHAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGF1dGhGYWN0b3J5LCAkbG9jYXRpb24pIHtcbiAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxvZ2luSW5mbyA9IHsgbmFtZTogJHNjb3BlLnVzZXJuYW1lLCBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkIH1cbiAgICAgICAgYXV0aEZhY3RvcnkubG9naW4obG9naW5JbmZvKVxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJywge30sIHsgcmVsb2FkOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgpO1xuXG5cbiAgICB9XG59KVxuIiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvbG9naW4vbG9naW4uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgfSlcbn0pXG4iLCJhcHAuZGlyZWN0aXZlKCduYXZiYXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc3RhdGUsIGF1dGhGYWN0b3J5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL25hdkJhci9uYXZiYXIuaHRtbCcsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICBzY29wZS5zaG93TGluayA9IGZ1bmN0aW9uKGxpbmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWxpbmsuaXNBZG1pbiAmJiAobGluay5zdGF0ZSA9PT0gJ2FkbWluJyB8fCBsaW5rLnN0YXRlID09PSAnbG9naW4nKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhGYWN0b3J5LmlzQWRtaW4oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NvcGUubGlua3MgPSBbXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogJ0hvbWUnLCBzdGF0ZTogJ2hvbWUnIH0sXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogJ1Byb2plY3RzJywgc3RhdGU6ICdwcm9qZWN0cycgfSxcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnQWJvdXQgTWUnLCBzdGF0ZTogJ2Fib3V0JyB9LFxuICAgICAgICAgICAgICAgIC8vIHsgbGFiZWw6ICdDb250YWN0IE1lJywgc3RhdGU6ICdjb250YWN0JyB9LFxuICAgICAgICAgICAgICAgIC8vIHsgbGFiZWw6ICdBZG1pbiAnLCBzdGF0ZTogJ2FkbWluJywgaXNBZG1pbjogISRyb290U2NvcGUuYWRtaW4gfSxcbiAgICAgICAgICAgICAgICAvLyB7IGxhYmVsOiAnQWRtaW5pc3RyYXRvcicsIHN0YXRlOiAnbG9naW4nLCBpc0FkbWluOiAkcm9vdFNjb3BlLmFkbWluIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH1cbn0pXG4iLCJhcHAuY29udHJvbGxlcigncHJvamVjdENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIGFsbFByb2plY3RzKSB7XG4gICAgJHNjb3BlLnByb2plY3RzID0gYWxsUHJvamVjdHNcbn0pXG5cbmFwcC5jb250cm9sbGVyKCdzaW5nbGVQcm9qZWN0Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgcHJvamVjdEZhY3RvcnksIGN1cnJlbnRQcm9qZWN0LCAkc2NlKSB7XG4gICAgJHNjb3BlLmN1cnJlbnRQcm9qZWN0ID0gY3VycmVudFByb2plY3Q7XG5cbiAgICAkc2NvcGUudHJ1c3RTcmMgPSBmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHNyYyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm1vdmllID0geyBzcmM6ICRzY29wZS5jdXJyZW50UHJvamVjdC52aWRlb0xpbmsgfVxuXG4gICAgJHNjb3BlLmhhc1ZpZGVvTGluayA9IGZ1bmN0aW9uIGhhc1ZpZGVvTGluaygpIHtcbiAgICAgICAgcmV0dXJuICEhY3VycmVudFByb2plY3QudmlkZW9MaW5rXG4gICAgfVxufSlcbiIsImFwcC5kaXJlY3RpdmUoJ3Byb2plY3RUaWxlJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgcHJvamVjdDogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnanMvcHJvamVjdHMvc2luZ2xlUHJvamVjdC9zaW5nbGVQcm9qZWN0VGlsZS5odG1sJ1xuICAgIH1cbn0pO1xuIiwiYXBwLmZhY3RvcnkoJ3Byb2plY3RGYWN0b3J5JywgZnVuY3Rpb24oJGh0dHApIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRBbGxQcm9qZWN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3QnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKVxuXG4gICAgICAgIH0sXG4gICAgICAgIGdldFNpbmdsZVByb2plY3Q6IGZ1bmN0aW9uKHByb2plY3RJRCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0LycgKyBwcm9qZWN0SUQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG5cbiAgICAgICAgfSxcbiAgICAgICAgcG9zdFByb2plY3Q6IGZ1bmN0aW9uKHByb2plY3QpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Byb2plY3QnLCBwcm9qZWN0KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVQcm9qZWN0OiBmdW5jdGlvbih1cGRhdGVkUHJvamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnYXBpL3Byb2plY3QnLCB1cGRhdGVkUHJvamVjdClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKClcbiAgICAgICAgfVxuICAgIH1cbn0pXG4iLCJhcHAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3Byb2plY3RzJywge1xuICAgICAgICB1cmw6ICcvcHJvamVjdHMnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9wcm9qZWN0cy9wcm9qZWN0cy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Byb2plY3RDb250cm9sbGVyJyxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZSxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgYWxsUHJvamVjdHM6IGZ1bmN0aW9uKHByb2plY3RGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RGYWN0b3J5LmdldEFsbFByb2plY3RzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3NpbmdsZVByb2plY3QnLCB7XG4gICAgICAgIHVybDogJy9wcm9qZWN0cy86aWQnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9wcm9qZWN0cy9zaW5nbGVQcm9qZWN0L3NpbmdsZVByb2plY3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzaW5nbGVQcm9qZWN0Q29udHJvbGxlcicsXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2UsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0OiBmdW5jdGlvbihwcm9qZWN0RmFjdG9yeSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RGYWN0b3J5LmdldFNpbmdsZVByb2plY3QoJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KVxuIiwiKGZ1bmN0aW9uICgpIHtcblxuXHRjb25zb2xlLmxvZygnYWIuVHlwZWl0IGFib3V0IHRvJylcblx0YW5ndWxhci5tb2R1bGUoJ2FiLlR5cGVpdCcsIFtdKS5kaXJlY3RpdmUoJ2FiVHlwZWl0JywgZnVuY3Rpb24oKSB7XG5cdFx0Y29uZW9sZS5sb2coJ3J1bm5pbmcgdGhlIHdyYXBwZXInKVxuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogJ0EnLFxuXHRcdFx0c2NvcGU6IHtcblx0XHRcdFx0dHlwZWl0U3RyaW5nczogJz1hYlR5cGVpdCcsXG5cdFx0XHRcdHR5cGVpdExvb3A6ICc9Jyxcblx0XHRcdFx0dHlwZWl0TG9vcERlbGF5OiAnPScsXG5cdFx0XHRcdHR5cGVpdEJyZWFrTGluZXM6ICc9Jyxcblx0XHRcdFx0dHlwZWl0U3BlZWQ6ICc9Jyxcblx0XHRcdFx0dHlwZWl0TGlmZUxpa2U6ICc9Jyxcblx0XHRcdFx0dHlwZWl0Q3Vyc29yOiAnPScsXG5cdFx0XHRcdHR5cGVpdEN1cnNvclNwZWVkOiAnPScsXG5cdFx0XHRcdHR5cGVpdFN0YXJ0RGVsYXk6ICc9Jyxcblx0XHRcdFx0dHlwZWl0QnJlYWtEZWxheTogJz0nXG5cdFx0XHR9LFxuXHRcdFx0Y29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuXHRcdFx0XHR2YXIgdHlwZUl0RWxlbWVudCA9ICQoJGVsZW1lbnQpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dHlwZUl0RWxlbWVudC50eXBlSXQoe1xuXHRcdFx0XHRcdFx0c3RyaW5nczogJHNjb3BlLnR5cGVpdFN0cmluZ3MsXG5cdFx0XHRcdFx0XHRsb29wOiAkc2NvcGUudHlwZWl0TG9vcCxcblx0XHRcdFx0XHRcdGxvb3BEZWxheTogJHNjb3BlLnR5cGVpdExvb3BEZWxheSxcblx0XHRcdFx0XHRcdGJyZWFrTGluZXM6ICRzY29wZS50eXBlaXRCcmVha0xpbmVzLFxuXHRcdFx0XHRcdFx0c3BlZWQ6ICRzY29wZS50eXBlaXRTcGVlZCxcblx0XHRcdFx0XHRcdGxpZmVMaWtlOiAkc2NvcGUudHlwZWl0TGlmZUxpa2UsXG5cdFx0XHRcdFx0XHRjdXJzb3I6ICRzY29wZS50eXBlaXRDdXJzb3IsXG5cdFx0XHRcdFx0XHRjdXJzb3JTcGVlZDogJHNjb3BlLnR5cGVpdEN1cnNvclNwZWVkLFxuXHRcdFx0XHRcdFx0c3RhcnREZWxheTogJHNjb3BlLnR5cGVpdFN0YXJ0RGVsYXksXG5cdFx0XHRcdFx0XHRicmVha0RlbGF5OiAkc2NvcGUudHlwZWl0QnJlYWtEZWxheVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignT0ggTk8hIGFuZ3VsYXItdHlwZWl0IHJlcXVpcmVzIHR5cGVpdC5qcyBvbiB5b3VyIHBhZ2UgLSBkbyB5b3UgaGF2ZSBpdCBsb2FkZWQ/Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn0pKCk7IiwiXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICQoXCIuZGV2ZWxvcGVyXCIpXG4gICAgICAudHlwZWQoe1xuICAgICAgICBzdHJpbmdzOiBbXCJGcm9udC1lbmRcIiwgXCJCYWNrLWVuZFwiLCBcIkZ1bGxzdGFja1wiLCBcIlNvZnR3YXJlXCIsXCJKYXZhc2NyaXB0XCIsXCJBbmd1bGFyXCJdLFxuICAgICAgICB0eXBlU3BlZWQ6IDI1MCxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgY3Vyc29yU3BlZWQ6MTAwLFxuICAgICAgICBsaWZlTGlrZTogdHJ1ZSxcbiAgICAgICAgY3Vyc2VyOiB0cnVlLFxuICAgICAgICBkZWxldGVTcGVlZDogMTAwMFxuICAgICAgfSk7XG4gIH07IiwiXG4vLyBHcmFiIG5vZGUgcGFja2FnZXNcbnZhciBndWxwID0gcmVxdWlyZSgnZ3VscCcpXG4gICAgcmVuYW1lID0gcmVxdWlyZSgnZ3VscC1yZW5hbWUnKVxuICAgIHVnbGlmeSA9IHJlcXVpcmUoJ2d1bHAtdWdsaWZ5Jyk7XG5cbiBcbmd1bHAudGFzaygnY29tcHJlc3MnLCBmdW5jdGlvbigpIHtcbiAgZ3VscC5zcmMoJ2pzLyouanMnKVxuICAgIC5waXBlKHVnbGlmeSgpKVxuICAgIC5waXBlKHJlbmFtZSgndHlwZWQubWluLmpzJykpXG4gICAgLnBpcGUoZ3VscC5kZXN0KCdkaXN0JykpXG59KTtcblxuLy8gRGVmYXVsdCBUYXNrXG5ndWxwLnRhc2soJ2RlZmF1bHQnLCBbJ2NvbXByZXNzJ10pO1xuIiwiIWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBzPWZ1bmN0aW9uKHMsZSl7dGhpcy5lbD10KHMpLHRoaXMub3B0aW9ucz10LmV4dGVuZCh7fSx0LmZuLnR5cGVkLmRlZmF1bHRzLGUpLHRoaXMuaXNJbnB1dD10aGlzLmVsLmlzKFwiaW5wdXRcIiksdGhpcy5hdHRyPXRoaXMub3B0aW9ucy5hdHRyLHRoaXMuc2hvd0N1cnNvcj10aGlzLmlzSW5wdXQ/ITE6dGhpcy5vcHRpb25zLnNob3dDdXJzb3IsdGhpcy5lbENvbnRlbnQ9dGhpcy5hdHRyP3RoaXMuZWwuYXR0cih0aGlzLmF0dHIpOnRoaXMuZWwudGV4dCgpLHRoaXMuY29udGVudFR5cGU9dGhpcy5vcHRpb25zLmNvbnRlbnRUeXBlLHRoaXMudHlwZVNwZWVkPXRoaXMub3B0aW9ucy50eXBlU3BlZWQsdGhpcy5zdGFydERlbGF5PXRoaXMub3B0aW9ucy5zdGFydERlbGF5LHRoaXMuYmFja1NwZWVkPXRoaXMub3B0aW9ucy5iYWNrU3BlZWQsdGhpcy5iYWNrRGVsYXk9dGhpcy5vcHRpb25zLmJhY2tEZWxheSx0aGlzLnN0cmluZ3NFbGVtZW50PXRoaXMub3B0aW9ucy5zdHJpbmdzRWxlbWVudCx0aGlzLnN0cmluZ3M9dGhpcy5vcHRpb25zLnN0cmluZ3MsdGhpcy5zdHJQb3M9MCx0aGlzLmFycmF5UG9zPTAsdGhpcy5zdG9wTnVtPTAsdGhpcy5sb29wPXRoaXMub3B0aW9ucy5sb29wLHRoaXMubG9vcENvdW50PXRoaXMub3B0aW9ucy5sb29wQ291bnQsdGhpcy5jdXJMb29wPTAsdGhpcy5zdG9wPSExLHRoaXMuY3Vyc29yQ2hhcj10aGlzLm9wdGlvbnMuY3Vyc29yQ2hhcix0aGlzLnNodWZmbGU9dGhpcy5vcHRpb25zLnNodWZmbGUsdGhpcy5zZXF1ZW5jZT1bXSx0aGlzLmJ1aWxkKCl9O3MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpzLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBzPTA7czx0LnN0cmluZ3MubGVuZ3RoOysrcyl0LnNlcXVlbmNlW3NdPXM7dC5zaHVmZmxlJiYodC5zZXF1ZW5jZT10LnNodWZmbGVBcnJheSh0LnNlcXVlbmNlKSksdC50eXBld3JpdGUodC5zdHJpbmdzW3Quc2VxdWVuY2VbdC5hcnJheVBvc11dLHQuc3RyUG9zKX0sdC5zdGFydERlbGF5KX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgcz10aGlzO2lmKHRoaXMuc2hvd0N1cnNvcj09PSEwJiYodGhpcy5jdXJzb3I9dCgnPHNwYW4gY2xhc3M9XCJ0eXBlZC1jdXJzb3JcIj4nK3RoaXMuY3Vyc29yQ2hhcitcIjwvc3Bhbj5cIiksdGhpcy5lbC5hZnRlcih0aGlzLmN1cnNvcikpLHRoaXMuc3RyaW5nc0VsZW1lbnQpe3RoaXMuc3RyaW5ncz1bXSx0aGlzLnN0cmluZ3NFbGVtZW50LmhpZGUoKSxjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO3ZhciBlPXRoaXMuc3RyaW5nc0VsZW1lbnQuY2hpbGRyZW4oKTt0LmVhY2goZSxmdW5jdGlvbihlLGkpe3Muc3RyaW5ncy5wdXNoKHQoaSkuaHRtbCgpKX0pfXRoaXMuaW5pdCgpfSx0eXBld3JpdGU6ZnVuY3Rpb24odCxzKXtpZih0aGlzLnN0b3AhPT0hMCl7dmFyIGU9TWF0aC5yb3VuZCg3MCpNYXRoLnJhbmRvbSgpKSt0aGlzLnR5cGVTcGVlZCxpPXRoaXM7aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT0wLHI9dC5zdWJzdHIocyk7aWYoXCJeXCI9PT1yLmNoYXJBdCgwKSl7dmFyIG89MTsvXlxcXlxcZCsvLnRlc3QocikmJihyPS9cXGQrLy5leGVjKHIpWzBdLG8rPXIubGVuZ3RoLGU9cGFyc2VJbnQocikpLHQ9dC5zdWJzdHJpbmcoMCxzKSt0LnN1YnN0cmluZyhzK28pfWlmKFwiaHRtbFwiPT09aS5jb250ZW50VHlwZSl7dmFyIG49dC5zdWJzdHIocykuY2hhckF0KDApO2lmKFwiPFwiPT09bnx8XCImXCI9PT1uKXt2YXIgYT1cIlwiLGg9XCJcIjtmb3IoaD1cIjxcIj09PW4/XCI+XCI6XCI7XCI7dC5zdWJzdHIocysxKS5jaGFyQXQoMCkhPT1oJiYoYSs9dC5zdWJzdHIocykuY2hhckF0KDApLHMrKywhKHMrMT50Lmxlbmd0aCkpOyk7cysrLGErPWh9fWkudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYocz09PXQubGVuZ3RoKXtpZihpLm9wdGlvbnMub25TdHJpbmdUeXBlZChpLmFycmF5UG9zKSxpLmFycmF5UG9zPT09aS5zdHJpbmdzLmxlbmd0aC0xJiYoaS5vcHRpb25zLmNhbGxiYWNrKCksaS5jdXJMb29wKyssaS5sb29wPT09ITF8fGkuY3VyTG9vcD09PWkubG9vcENvdW50KSlyZXR1cm47aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmJhY2tzcGFjZSh0LHMpfSxpLmJhY2tEZWxheSl9ZWxzZXswPT09cyYmaS5vcHRpb25zLnByZVN0cmluZ1R5cGVkKGkuYXJyYXlQb3MpO3ZhciBlPXQuc3Vic3RyKDAscysxKTtpLmF0dHI/aS5lbC5hdHRyKGkuYXR0cixlKTppLmlzSW5wdXQ/aS5lbC52YWwoZSk6XCJodG1sXCI9PT1pLmNvbnRlbnRUeXBlP2kuZWwuaHRtbChlKTppLmVsLnRleHQoZSkscysrLGkudHlwZXdyaXRlKHQscyl9fSxlKX0sZSl9fSxiYWNrc3BhY2U6ZnVuY3Rpb24odCxzKXtpZih0aGlzLnN0b3AhPT0hMCl7dmFyIGU9TWF0aC5yb3VuZCg3MCpNYXRoLnJhbmRvbSgpKSt0aGlzLmJhY2tTcGVlZCxpPXRoaXM7aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihcImh0bWxcIj09PWkuY29udGVudFR5cGUmJlwiPlwiPT09dC5zdWJzdHIocykuY2hhckF0KDApKXtmb3IodmFyIGU9XCJcIjtcIjxcIiE9PXQuc3Vic3RyKHMtMSkuY2hhckF0KDApJiYoZS09dC5zdWJzdHIocykuY2hhckF0KDApLHMtLSwhKDA+cykpOyk7cy0tLGUrPVwiPFwifXZhciByPXQuc3Vic3RyKDAscyk7aS5hdHRyP2kuZWwuYXR0cihpLmF0dHIscik6aS5pc0lucHV0P2kuZWwudmFsKHIpOlwiaHRtbFwiPT09aS5jb250ZW50VHlwZT9pLmVsLmh0bWwocik6aS5lbC50ZXh0KHIpLHM+aS5zdG9wTnVtPyhzLS0saS5iYWNrc3BhY2UodCxzKSk6czw9aS5zdG9wTnVtJiYoaS5hcnJheVBvcysrLGkuYXJyYXlQb3M9PT1pLnN0cmluZ3MubGVuZ3RoPyhpLmFycmF5UG9zPTAsaS5zaHVmZmxlJiYoaS5zZXF1ZW5jZT1pLnNodWZmbGVBcnJheShpLnNlcXVlbmNlKSksaS5pbml0KCkpOmkudHlwZXdyaXRlKGkuc3RyaW5nc1tpLnNlcXVlbmNlW2kuYXJyYXlQb3NdXSxzKSl9LGUpfX0sc2h1ZmZsZUFycmF5OmZ1bmN0aW9uKHQpe3ZhciBzLGUsaT10Lmxlbmd0aDtpZihpKWZvcig7LS1pOyllPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooaSsxKSkscz10W2VdLHRbZV09dFtpXSx0W2ldPXM7cmV0dXJuIHR9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztjbGVhckludGVydmFsKHQudGltZW91dCk7dGhpcy5lbC5hdHRyKFwiaWRcIik7dGhpcy5lbC5lbXB0eSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmN1cnNvciYmdGhpcy5jdXJzb3IucmVtb3ZlKCksdGhpcy5zdHJQb3M9MCx0aGlzLmFycmF5UG9zPTAsdGhpcy5jdXJMb29wPTAsdGhpcy5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKX19LHQuZm4udHlwZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcykscj1pLmRhdGEoXCJ0eXBlZFwiKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlO3ImJnIucmVzZXQoKSxpLmRhdGEoXCJ0eXBlZFwiLHI9bmV3IHModGhpcyxvKSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJnJbZV0oKX0pfSx0LmZuLnR5cGVkLmRlZmF1bHRzPXtzdHJpbmdzOltcIlRoZXNlIGFyZSB0aGUgZGVmYXVsdCB2YWx1ZXMuLi5cIixcIllvdSBrbm93IHdoYXQgeW91IHNob3VsZCBkbz9cIixcIlVzZSB5b3VyIG93biFcIixcIkhhdmUgYSBncmVhdCBkYXkhXCJdLHN0cmluZ3NFbGVtZW50Om51bGwsdHlwZVNwZWVkOjAsc3RhcnREZWxheTowLGJhY2tTcGVlZDowLHNodWZmbGU6ITEsYmFja0RlbGF5OjUwMCxsb29wOiExLGxvb3BDb3VudDohMSxzaG93Q3Vyc29yOiEwLGN1cnNvckNoYXI6XCJ8XCIsYXR0cjpudWxsLGNvbnRlbnRUeXBlOlwiaHRtbFwiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7fSxwcmVTdHJpbmdUeXBlZDpmdW5jdGlvbigpe30sb25TdHJpbmdUeXBlZDpmdW5jdGlvbigpe30scmVzZXRDYWxsYmFjazpmdW5jdGlvbigpe319fSh3aW5kb3cualF1ZXJ5KTsiLCIvLyBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuLy8gVHlwZWQuanMgfCBDb3B5cmlnaHQgKGMpIDIwMTYgTWF0dCBCb2xkdCB8IHd3dy5tYXR0Ym9sZHQuY29tXG5cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuXG5cblxuISBmdW5jdGlvbigkKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIFR5cGVkID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcblxuXHRcdC8vIGNob3NlbiBlbGVtZW50IHRvIG1hbmlwdWxhdGUgdGV4dFxuXHRcdHRoaXMuZWwgPSAkKGVsKTtcblxuXHRcdC8vIG9wdGlvbnNcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi50eXBlZC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0XHQvLyBhdHRyaWJ1dGUgdG8gdHlwZSBpbnRvXG5cdFx0dGhpcy5pc0lucHV0ID0gdGhpcy5lbC5pcygnaW5wdXQnKTtcblx0XHR0aGlzLmF0dHIgPSB0aGlzLm9wdGlvbnMuYXR0cjtcblxuXHRcdC8vIHNob3cgY3Vyc29yXG5cdFx0dGhpcy5zaG93Q3Vyc29yID0gdGhpcy5pc0lucHV0ID8gZmFsc2UgOiB0aGlzLm9wdGlvbnMuc2hvd0N1cnNvcjtcblxuXHRcdC8vIHRleHQgY29udGVudCBvZiBlbGVtZW50XG5cdFx0dGhpcy5lbENvbnRlbnQgPSB0aGlzLmF0dHIgPyB0aGlzLmVsLmF0dHIodGhpcy5hdHRyKSA6IHRoaXMuZWwudGV4dCgpO1xuXG5cdFx0Ly8gaHRtbCBvciBwbGFpbiB0ZXh0XG5cdFx0dGhpcy5jb250ZW50VHlwZSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZTtcblxuXHRcdC8vIHR5cGluZyBzcGVlZFxuXHRcdHRoaXMudHlwZVNwZWVkID0gdGhpcy5vcHRpb25zLnR5cGVTcGVlZDtcblxuXHRcdC8vIGFkZCBhIGRlbGF5IGJlZm9yZSB0eXBpbmcgc3RhcnRzXG5cdFx0dGhpcy5zdGFydERlbGF5ID0gdGhpcy5vcHRpb25zLnN0YXJ0RGVsYXk7XG5cblx0XHQvLyBiYWNrc3BhY2luZyBzcGVlZFxuXHRcdHRoaXMuYmFja1NwZWVkID0gdGhpcy5vcHRpb25zLmJhY2tTcGVlZDtcblxuXHRcdC8vIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgYmVmb3JlIGJhY2tzcGFjaW5nXG5cdFx0dGhpcy5iYWNrRGVsYXkgPSB0aGlzLm9wdGlvbnMuYmFja0RlbGF5O1xuXG5cdFx0Ly8gZGl2IGNvbnRhaW5pbmcgc3RyaW5nc1xuXHRcdHRoaXMuc3RyaW5nc0VsZW1lbnQgPSB0aGlzLm9wdGlvbnMuc3RyaW5nc0VsZW1lbnQ7XG5cblx0XHQvLyBpbnB1dCBzdHJpbmdzIG9mIHRleHRcblx0XHR0aGlzLnN0cmluZ3MgPSB0aGlzLm9wdGlvbnMuc3RyaW5ncztcblxuXHRcdC8vIGNoYXJhY3RlciBudW1iZXIgcG9zaXRpb24gb2YgY3VycmVudCBzdHJpbmdcblx0XHR0aGlzLnN0clBvcyA9IDA7XG5cblx0XHQvLyBjdXJyZW50IGFycmF5IHBvc2l0aW9uXG5cdFx0dGhpcy5hcnJheVBvcyA9IDA7XG5cblx0XHQvLyBudW1iZXIgdG8gc3RvcCBiYWNrc3BhY2luZyBvbi5cblx0XHQvLyBkZWZhdWx0IDAsIGNhbiBjaGFuZ2UgZGVwZW5kaW5nIG9uIGhvdyBtYW55IGNoYXJzXG5cdFx0Ly8geW91IHdhbnQgdG8gcmVtb3ZlIGF0IHRoZSB0aW1lXG5cdFx0dGhpcy5zdG9wTnVtID0gMDtcblxuXHRcdC8vIExvb3BpbmcgbG9naWNcblx0XHR0aGlzLmxvb3AgPSB0aGlzLm9wdGlvbnMubG9vcDtcblx0XHR0aGlzLmxvb3BDb3VudCA9IHRoaXMub3B0aW9ucy5sb29wQ291bnQ7XG5cdFx0dGhpcy5jdXJMb29wID0gMDtcblxuXHRcdC8vIGZvciBzdG9wcGluZ1xuXHRcdHRoaXMuc3RvcCA9IGZhbHNlO1xuXG5cdFx0Ly8gY3VzdG9tIGN1cnNvclxuXHRcdHRoaXMuY3Vyc29yQ2hhciA9IHRoaXMub3B0aW9ucy5jdXJzb3JDaGFyO1xuXG5cdFx0Ly8gc2h1ZmZsZSB0aGUgc3RyaW5nc1xuXHRcdHRoaXMuc2h1ZmZsZSA9IHRoaXMub3B0aW9ucy5zaHVmZmxlO1xuXHRcdC8vIHRoZSBvcmRlciBvZiBzdHJpbmdzXG5cdFx0dGhpcy5zZXF1ZW5jZSA9IFtdO1xuXG5cdFx0Ly8gQWxsIHN5c3RlbXMgZ28hXG5cdFx0dGhpcy5idWlsZCgpO1xuXHR9O1xuXG5cdFR5cGVkLnByb3RvdHlwZSA9IHtcblxuXHRcdGNvbnN0cnVjdG9yOiBUeXBlZCxcblxuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gYmVnaW4gdGhlIGxvb3Agdy8gZmlyc3QgY3VycmVudCBzdHJpbmcgKGdsb2JhbCBzZWxmLnN0cmluZ3MpXG5cdFx0XHQvLyBjdXJyZW50IHN0cmluZyB3aWxsIGJlIHBhc3NlZCBhcyBhbiBhcmd1bWVudCBlYWNoIHRpbWUgYWZ0ZXIgdGhpc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8c2VsZi5zdHJpbmdzLmxlbmd0aDsrK2kpIHNlbGYuc2VxdWVuY2VbaV09aTtcblxuXHRcdFx0XHQvLyBzaHVmZmxlIHRoZSBhcnJheSBpZiB0cnVlXG5cdFx0XHRcdGlmKHNlbGYuc2h1ZmZsZSkgc2VsZi5zZXF1ZW5jZSA9IHNlbGYuc2h1ZmZsZUFycmF5KHNlbGYuc2VxdWVuY2UpO1xuXG5cdFx0XHRcdC8vIFN0YXJ0IHR5cGluZ1xuXHRcdFx0XHRzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIHNlbGYuc3RyUG9zKTtcblx0XHRcdH0sIHNlbGYuc3RhcnREZWxheSk7XG5cdFx0fSxcblxuXHRcdGJ1aWxkOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdC8vIEluc2VydCBjdXJzb3Jcblx0XHRcdGlmICh0aGlzLnNob3dDdXJzb3IgPT09IHRydWUpIHtcblx0XHRcdFx0dGhpcy5jdXJzb3IgPSAkKFwiPHNwYW4gY2xhc3M9XFxcInR5cGVkLWN1cnNvclxcXCI+XCIgKyB0aGlzLmN1cnNvckNoYXIgKyBcIjwvc3Bhbj5cIik7XG5cdFx0XHRcdHRoaXMuZWwuYWZ0ZXIodGhpcy5jdXJzb3IpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuc3RyaW5nc0VsZW1lbnQpIHtcblx0XHRcdFx0dGhpcy5zdHJpbmdzID0gW107XG5cdFx0XHRcdHRoaXMuc3RyaW5nc0VsZW1lbnQuaGlkZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO1xuXHRcdFx0XHR2YXIgc3RyaW5ncyA9IHRoaXMuc3RyaW5nc0VsZW1lbnQuY2hpbGRyZW4oKTtcblx0XHRcdFx0JC5lYWNoKHN0cmluZ3MsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuXHRcdFx0XHRcdHNlbGYuc3RyaW5ncy5wdXNoKCQodmFsdWUpLmh0bWwoKSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5pbml0KCk7XG5cdFx0fSxcblxuXHRcdC8vIHBhc3MgY3VycmVudCBzdHJpbmcgc3RhdGUgdG8gZWFjaCBmdW5jdGlvbiwgdHlwZXMgMSBjaGFyIHBlciBjYWxsXG5cdFx0dHlwZXdyaXRlOiBmdW5jdGlvbihjdXJTdHJpbmcsIGN1clN0clBvcykge1xuXHRcdFx0Ly8gZXhpdCB3aGVuIHN0b3BwZWRcblx0XHRcdGlmICh0aGlzLnN0b3AgPT09IHRydWUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB2YXJ5aW5nIHZhbHVlcyBmb3Igc2V0VGltZW91dCBkdXJpbmcgdHlwaW5nXG5cdFx0XHQvLyBjYW4ndCBiZSBnbG9iYWwgc2luY2UgbnVtYmVyIGNoYW5nZXMgZWFjaCB0aW1lIGxvb3AgaXMgZXhlY3V0ZWRcblx0XHRcdHZhciBodW1hbml6ZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICgxMDAgLSAzMCkpICsgdGhpcy50eXBlU3BlZWQ7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vIC0tLS0tLS0tLS0tLS0gb3B0aW9uYWwgLS0tLS0tLS0tLS0tLSAvL1xuXHRcdFx0Ly8gYmFja3BhY2VzIGEgY2VydGFpbiBzdHJpbmcgZmFzdGVyXG5cdFx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblx0XHRcdC8vIGlmIChzZWxmLmFycmF5UG9zID09IDEpe1xuXHRcdFx0Ly8gIHNlbGYuYmFja0RlbGF5ID0gNTA7XG5cdFx0XHQvLyB9XG5cdFx0XHQvLyBlbHNleyBzZWxmLmJhY2tEZWxheSA9IDUwMDsgfVxuXG5cdFx0XHQvLyBjb250YWluIHR5cGluZyBmdW5jdGlvbiBpbiBhIHRpbWVvdXQgaHVtYW5pemUnZCBkZWxheVxuXHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gY2hlY2sgZm9yIGFuIGVzY2FwZSBjaGFyYWN0ZXIgYmVmb3JlIGEgcGF1c2UgdmFsdWVcblx0XHRcdFx0Ly8gZm9ybWF0OiBcXF5cXGQrIC4uIGVnOiBeMTAwMCAuLiBzaG91bGQgYmUgYWJsZSB0byBwcmludCB0aGUgXiB0b28gdXNpbmcgXl5cblx0XHRcdFx0Ly8gc2luZ2xlIF4gYXJlIHJlbW92ZWQgZnJvbSBzdHJpbmdcblx0XHRcdFx0dmFyIGNoYXJQYXVzZSA9IDA7XG5cdFx0XHRcdHZhciBzdWJzdHIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyk7XG5cdFx0XHRcdGlmIChzdWJzdHIuY2hhckF0KDApID09PSAnXicpIHtcblx0XHRcdFx0XHR2YXIgc2tpcCA9IDE7IC8vIHNraXAgYXRsZWFzdCAxXG5cdFx0XHRcdFx0aWYgKC9eXFxeXFxkKy8udGVzdChzdWJzdHIpKSB7XG5cdFx0XHRcdFx0XHRzdWJzdHIgPSAvXFxkKy8uZXhlYyhzdWJzdHIpWzBdO1xuXHRcdFx0XHRcdFx0c2tpcCArPSBzdWJzdHIubGVuZ3RoO1xuXHRcdFx0XHRcdFx0Y2hhclBhdXNlID0gcGFyc2VJbnQoc3Vic3RyKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBzdHJpcCBvdXQgdGhlIGVzY2FwZSBjaGFyYWN0ZXIgYW5kIHBhdXNlIHZhbHVlIHNvIHRoZXkncmUgbm90IHByaW50ZWRcblx0XHRcdFx0XHRjdXJTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyaW5nKDAsIGN1clN0clBvcykgKyBjdXJTdHJpbmcuc3Vic3RyaW5nKGN1clN0clBvcyArIHNraXApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdC8vIHNraXAgb3ZlciBodG1sIHRhZ3Mgd2hpbGUgdHlwaW5nXG5cdFx0XHRcdFx0dmFyIGN1ckNoYXIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApXG5cdFx0XHRcdFx0aWYgKGN1ckNoYXIgPT09ICc8JyB8fCBjdXJDaGFyID09PSAnJicpIHtcblx0XHRcdFx0XHRcdHZhciB0YWcgPSAnJztcblx0XHRcdFx0XHRcdHZhciBlbmRUYWcgPSAnJztcblx0XHRcdFx0XHRcdGlmIChjdXJDaGFyID09PSAnPCcpIHtcblx0XHRcdFx0XHRcdFx0ZW5kVGFnID0gJz4nXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZW5kVGFnID0gJzsnXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR3aGlsZSAoY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MgKyAxKS5jaGFyQXQoMCkgIT09IGVuZFRhZykge1xuXHRcdFx0XHRcdFx0XHR0YWcgKz0gY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MpLmNoYXJBdCgwKTtcblx0XHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgKyAxID4gY3VyU3RyaW5nLmxlbmd0aCkgeyBicmVhazsgfVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHR0YWcgKz0gZW5kVGFnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHRpbWVvdXQgZm9yIGFueSBwYXVzZSBhZnRlciBhIGNoYXJhY3RlclxuXHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgPT09IGN1clN0cmluZy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIGZpcmVzIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMub25TdHJpbmdUeXBlZChzZWxmLmFycmF5UG9zKTtcblxuXHRcdFx0XHRcdFx0Ly8gaXMgdGhpcyB0aGUgZmluYWwgc3RyaW5nXG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5hcnJheVBvcyA9PT0gc2VsZi5zdHJpbmdzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0Ly8gYW5pbWF0aW9uIHRoYXQgb2NjdXJzIG9uIHRoZSBsYXN0IHR5cGVkIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMuY2FsbGJhY2soKTtcblxuXHRcdFx0XHRcdFx0XHRzZWxmLmN1ckxvb3ArKztcblxuXHRcdFx0XHRcdFx0XHQvLyBxdWl0IGlmIHdlIHdvbnQgbG9vcCBiYWNrXG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmxvb3AgPT09IGZhbHNlIHx8IHNlbGYuY3VyTG9vcCA9PT0gc2VsZi5sb29wQ291bnQpXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHR9LCBzZWxmLmJhY2tEZWxheSk7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvKiBjYWxsIGJlZm9yZSBmdW5jdGlvbnMgaWYgYXBwbGljYWJsZSAqL1xuXHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMucHJlU3RyaW5nVHlwZWQoc2VsZi5hcnJheVBvcyk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHN0YXJ0IHR5cGluZyBlYWNoIG5ldyBjaGFyIGludG8gZXhpc3Rpbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHQvLyBjdXJTdHJpbmc6IGFyZywgc2VsZi5lbC5odG1sOiBvcmlnaW5hbCB0ZXh0IGluc2lkZSBlbGVtZW50XG5cdFx0XHRcdFx0XHR2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zICsgMSk7XG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5hdHRyKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuZWwuYXR0cihzZWxmLmF0dHIsIG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuaXNJbnB1dCkge1xuXHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwudmFsKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwuaHRtbChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLnRleHQobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gYWRkIGNoYXJhY3RlcnMgb25lIGJ5IG9uZVxuXHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHQvLyBsb29wIHRoZSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0c2VsZi50eXBld3JpdGUoY3VyU3RyaW5nLCBjdXJTdHJQb3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBlbmQgb2YgY2hhcmFjdGVyIHBhdXNlXG5cdFx0XHRcdH0sIGNoYXJQYXVzZSk7XG5cblx0XHRcdFx0Ly8gaHVtYW5pemVkIHZhbHVlIGZvciB0eXBpbmdcblx0XHRcdH0sIGh1bWFuaXplKTtcblxuXHRcdH0sXG5cblx0XHRiYWNrc3BhY2U6IGZ1bmN0aW9uKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG5cdFx0XHQvLyBleGl0IHdoZW4gc3RvcHBlZFxuXHRcdFx0aWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIHZhcnlpbmcgdmFsdWVzIGZvciBzZXRUaW1lb3V0IGR1cmluZyB0eXBpbmdcblx0XHRcdC8vIGNhbid0IGJlIGdsb2JhbCBzaW5jZSBudW1iZXIgY2hhbmdlcyBlYWNoIHRpbWUgbG9vcCBpcyBleGVjdXRlZFxuXHRcdFx0dmFyIGh1bWFuaXplID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKDEwMCAtIDMwKSkgKyB0aGlzLmJhY2tTcGVlZDtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyAtLS0tLSB0aGlzIHBhcnQgaXMgb3B0aW9uYWwgLS0tLS0gLy9cblx0XHRcdFx0Ly8gY2hlY2sgc3RyaW5nIGFycmF5IHBvc2l0aW9uXG5cdFx0XHRcdC8vIG9uIHRoZSBmaXJzdCBzdHJpbmcsIG9ubHkgZGVsZXRlIG9uZSB3b3JkXG5cdFx0XHRcdC8vIHRoZSBzdG9wTnVtIGFjdHVhbGx5IHJlcHJlc2VudHMgdGhlIGFtb3VudCBvZiBjaGFycyB0b1xuXHRcdFx0XHQvLyBrZWVwIGluIHRoZSBjdXJyZW50IHN0cmluZy4gSW4gbXkgY2FzZSBpdCdzIDE0LlxuXHRcdFx0XHQvLyBpZiAoc2VsZi5hcnJheVBvcyA9PSAxKXtcblx0XHRcdFx0Ly8gIHNlbGYuc3RvcE51bSA9IDE0O1xuXHRcdFx0XHQvLyB9XG5cdFx0XHRcdC8vZXZlcnkgb3RoZXIgdGltZSwgZGVsZXRlIHRoZSB3aG9sZSB0eXBlZCBzdHJpbmdcblx0XHRcdFx0Ly8gZWxzZXtcblx0XHRcdFx0Ly8gIHNlbGYuc3RvcE51bSA9IDA7XG5cdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0Ly8gc2tpcCBvdmVyIGh0bWwgdGFncyB3aGlsZSBiYWNrc3BhY2luZ1xuXHRcdFx0XHRcdGlmIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApID09PSAnPicpIHtcblx0XHRcdFx0XHRcdHZhciB0YWcgPSAnJztcblx0XHRcdFx0XHRcdHdoaWxlIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyAtIDEpLmNoYXJBdCgwKSAhPT0gJzwnKSB7XG5cdFx0XHRcdFx0XHRcdHRhZyAtPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApO1xuXHRcdFx0XHRcdFx0XHRjdXJTdHJQb3MtLTtcblx0XHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyA8IDApIHsgYnJlYWs7IH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdFx0dGFnICs9ICc8Jztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyAtLS0tLSBjb250aW51ZSBpbXBvcnRhbnQgc3R1ZmYgLS0tLS0gLy9cblx0XHRcdFx0Ly8gcmVwbGFjZSB0ZXh0IHdpdGggYmFzZSB0ZXh0ICsgdHlwZWQgY2hhcmFjdGVyc1xuXHRcdFx0XHR2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zKTtcblx0XHRcdFx0aWYgKHNlbGYuYXR0cikge1xuXHRcdFx0XHRcdHNlbGYuZWwuYXR0cihzZWxmLmF0dHIsIG5leHRTdHJpbmcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChzZWxmLmlzSW5wdXQpIHtcblx0XHRcdFx0XHRcdHNlbGYuZWwudmFsKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmVsLmh0bWwobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuZWwudGV4dChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiB0aGUgbnVtYmVyIChpZCBvZiBjaGFyYWN0ZXIgaW4gY3VycmVudCBzdHJpbmcpIGlzXG5cdFx0XHRcdC8vIGxlc3MgdGhhbiB0aGUgc3RvcCBudW1iZXIsIGtlZXAgZ29pbmdcblx0XHRcdFx0aWYgKGN1clN0clBvcyA+IHNlbGYuc3RvcE51bSkge1xuXHRcdFx0XHRcdC8vIHN1YnRyYWN0IGNoYXJhY3RlcnMgb25lIGJ5IG9uZVxuXHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdC8vIGxvb3AgdGhlIGZ1bmN0aW9uXG5cdFx0XHRcdFx0c2VsZi5iYWNrc3BhY2UoY3VyU3RyaW5nLCBjdXJTdHJQb3MpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGlmIHRoZSBzdG9wIG51bWJlciBoYXMgYmVlbiByZWFjaGVkLCBpbmNyZWFzZVxuXHRcdFx0XHQvLyBhcnJheSBwb3NpdGlvbiB0byBuZXh0IHN0cmluZ1xuXHRcdFx0XHRlbHNlIGlmIChjdXJTdHJQb3MgPD0gc2VsZi5zdG9wTnVtKSB7XG5cdFx0XHRcdFx0c2VsZi5hcnJheVBvcysrO1xuXG5cdFx0XHRcdFx0aWYgKHNlbGYuYXJyYXlQb3MgPT09IHNlbGYuc3RyaW5ncy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHNlbGYuYXJyYXlQb3MgPSAwO1xuXG5cdFx0XHRcdFx0XHQvLyBTaHVmZmxlIHNlcXVlbmNlIGFnYWluXG5cdFx0XHRcdFx0XHRpZihzZWxmLnNodWZmbGUpIHNlbGYuc2VxdWVuY2UgPSBzZWxmLnNodWZmbGVBcnJheShzZWxmLnNlcXVlbmNlKTtcblxuXHRcdFx0XHRcdFx0c2VsZi5pbml0KCk7XG5cdFx0XHRcdFx0fSBlbHNlXG5cdFx0XHRcdFx0XHRzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIGN1clN0clBvcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBodW1hbml6ZWQgdmFsdWUgZm9yIHR5cGluZ1xuXHRcdFx0fSwgaHVtYW5pemUpO1xuXG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBTaHVmZmxlcyB0aGUgbnVtYmVycyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG5cdFx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXlcblx0XHQgKiBAcmV0dXJucyB7QXJyYXl9XG5cdFx0ICovXG5cdFx0c2h1ZmZsZUFycmF5OiBmdW5jdGlvbihhcnJheSkge1xuXHRcdFx0dmFyIHRtcCwgY3VycmVudCwgdG9wID0gYXJyYXkubGVuZ3RoO1xuXHRcdFx0aWYodG9wKSB3aGlsZSgtLXRvcCkge1xuXHRcdFx0XHRjdXJyZW50ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRvcCArIDEpKTtcblx0XHRcdFx0dG1wID0gYXJyYXlbY3VycmVudF07XG5cdFx0XHRcdGFycmF5W2N1cnJlbnRdID0gYXJyYXlbdG9wXTtcblx0XHRcdFx0YXJyYXlbdG9wXSA9IHRtcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBhcnJheTtcblx0XHR9LFxuXG5cdFx0Ly8gU3RhcnQgJiBTdG9wIGN1cnJlbnRseSBub3Qgd29ya2luZ1xuXG5cdFx0Ly8gLCBzdG9wOiBmdW5jdGlvbigpIHtcblx0XHQvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gICAgIHNlbGYuc3RvcCA9IHRydWU7XG5cdFx0Ly8gICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcblx0XHQvLyB9XG5cblx0XHQvLyAsIHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHQvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHRcdC8vICAgICBpZihzZWxmLnN0b3AgPT09IGZhbHNlKVxuXHRcdC8vICAgICAgICByZXR1cm47XG5cblx0XHQvLyAgICAgdGhpcy5zdG9wID0gZmFsc2U7XG5cdFx0Ly8gICAgIHRoaXMuaW5pdCgpO1xuXHRcdC8vIH1cblxuXHRcdC8vIFJlc2V0IGFuZCByZWJ1aWxkIHRoZSBlbGVtZW50XG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChzZWxmLnRpbWVvdXQpO1xuXHRcdFx0dmFyIGlkID0gdGhpcy5lbC5hdHRyKCdpZCcpO1xuXHRcdFx0dGhpcy5lbC5lbXB0eSgpO1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLmN1cnNvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5jdXJzb3IucmVtb3ZlKCk7XG4gICAgICB9XG5cdFx0XHR0aGlzLnN0clBvcyA9IDA7XG5cdFx0XHR0aGlzLmFycmF5UG9zID0gMDtcblx0XHRcdHRoaXMuY3VyTG9vcCA9IDA7XG5cdFx0XHQvLyBTZW5kIHRoZSBjYWxsYmFja1xuXHRcdFx0dGhpcy5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKTtcblx0XHR9XG5cblx0fTtcblxuXHQkLmZuLnR5cGVkID0gZnVuY3Rpb24ob3B0aW9uKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHRcdGRhdGEgPSAkdGhpcy5kYXRhKCd0eXBlZCcpLFxuXHRcdFx0XHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb247XG5cdFx0XHRpZiAoZGF0YSkgeyBkYXRhLnJlc2V0KCk7IH1cblx0XHRcdCR0aGlzLmRhdGEoJ3R5cGVkJywgKGRhdGEgPSBuZXcgVHlwZWQodGhpcywgb3B0aW9ucykpKTtcblx0XHRcdGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKTtcblx0XHR9KTtcblx0fTtcblxuXHQkLmZuLnR5cGVkLmRlZmF1bHRzID0ge1xuXHRcdHN0cmluZ3M6IFtcIlRoZXNlIGFyZSB0aGUgZGVmYXVsdCB2YWx1ZXMuLi5cIiwgXCJZb3Uga25vdyB3aGF0IHlvdSBzaG91bGQgZG8/XCIsIFwiVXNlIHlvdXIgb3duIVwiLCBcIkhhdmUgYSBncmVhdCBkYXkhXCJdLFxuXHRcdHN0cmluZ3NFbGVtZW50OiBudWxsLFxuXHRcdC8vIHR5cGluZyBzcGVlZFxuXHRcdHR5cGVTcGVlZDogMCxcblx0XHQvLyB0aW1lIGJlZm9yZSB0eXBpbmcgc3RhcnRzXG5cdFx0c3RhcnREZWxheTogMCxcblx0XHQvLyBiYWNrc3BhY2luZyBzcGVlZFxuXHRcdGJhY2tTcGVlZDogMCxcblx0XHQvLyBzaHVmZmxlIHRoZSBzdHJpbmdzXG5cdFx0c2h1ZmZsZTogZmFsc2UsXG5cdFx0Ly8gdGltZSBiZWZvcmUgYmFja3NwYWNpbmdcblx0XHRiYWNrRGVsYXk6IDUwMCxcblx0XHQvLyBsb29wXG5cdFx0bG9vcDogZmFsc2UsXG5cdFx0Ly8gZmFsc2UgPSBpbmZpbml0ZVxuXHRcdGxvb3BDb3VudDogZmFsc2UsXG5cdFx0Ly8gc2hvdyBjdXJzb3Jcblx0XHRzaG93Q3Vyc29yOiB0cnVlLFxuXHRcdC8vIGNoYXJhY3RlciBmb3IgY3Vyc29yXG5cdFx0Y3Vyc29yQ2hhcjogXCJ8XCIsXG5cdFx0Ly8gYXR0cmlidXRlIHRvIHR5cGUgKG51bGwgPT0gdGV4dClcblx0XHRhdHRyOiBudWxsLFxuXHRcdC8vIGVpdGhlciBodG1sIG9yIHRleHRcblx0XHRjb250ZW50VHlwZTogJ2h0bWwnLFxuXHRcdC8vIGNhbGwgd2hlbiBkb25lIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKCkge30sXG5cdFx0Ly8gc3RhcnRpbmcgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIGVhY2ggc3RyaW5nXG5cdFx0cHJlU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uKCkge30sXG5cdFx0Ly9jYWxsYmFjayBmb3IgZXZlcnkgdHlwZWQgc3RyaW5nXG5cdFx0b25TdHJpbmdUeXBlZDogZnVuY3Rpb24oKSB7fSxcblx0XHQvLyBjYWxsYmFjayBmb3IgcmVzZXRcblx0XHRyZXNldENhbGxiYWNrOiBmdW5jdGlvbigpIHt9XG5cdH07XG5cblxufSh3aW5kb3cualF1ZXJ5KTtcbiJdfQ==
