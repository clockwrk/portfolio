"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},app=angular.module("myApp",["ui.router","ui.bootstrap","ngAnimate","angular-typed"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,o){o.html5Mode({enabled:!0,requireBase:!1}),e.otherwise("/")}]),app.config(["$stateProvider",function(t){t.state("about",{url:"/about",templateUrl:"/js/about/about.html",authenticate:!1})}]),app.controller("adminController",["$scope","$state","adminFactory","allProjects","authFactory",function(t,e,o,r,n){t.submitProject=function(e){o.postProject(e),t.project=null},t.allProjects=r||[{id:0,name:"empty",deploy:"empty",gitHub:"empty"}],t.data={availableProjects:t.allProjects,selectedProject:{id:0,name:"empty",deploy:"empty",gitHub:"empty",description:"empty"}},t.selectedprojectChanged=function(){t.currentProject=t.selectedItem},t.logOut=function(){n.logOut(),e.go("home")}}]),app.directive("projectEdit",["projectFactory",function(t){return{restrict:"E",scope:{project:"=project"},templateUrl:"adminEdit.html"}}]),app.factory("adminFactory",["$http",function(t){return{postProject:function(e){return t.post("/api/project",e).then(function(t){return t.data}).catch()},getAllProjects:function(){return t.get("/api/project").then(function(t){return t.data}).catch()}}}]),app.config(["$stateProvider",function(t){t.state("admin",{url:"/admin",templateUrl:"/js/admin/admin.html",controller:"adminController",authenticate:!0,resolve:{allProjects:["adminFactory",function(t){return t.getAllProjects()}]}})}]),app.controller("authController",["$scope","authFactory",function(t,e){t.isAdmin=e.isAdmin()}]),app.factory("authFactory",["$http","$state","$rootScope",function(t,e,o){return{isAdmin:function(){return!!o.admin},login:function(e){return t.get("/api/authentication/"+e.name+"/"+e.password).then(function(t){return t.data?o.admin=!0:o.admin=!1,t}).catch()},logOut:function(){o.admin=null}}}]),app.controller("contactController",["$scope","posts","feedBackFactory",function(t,e,o){t.posts=e,t.getReplies=o.getReplies,t.postReply=function(t,e){var r={postId:t,content:e};o.postReplY(r)},t.submitForm=function(e){o.postComment(e).then(function(e){t.posts[t.posts.length]=e}).catch(),t.user=null,t.userForm.$setPristine(!0)},t.clear=function(){t.user=null,t.userForm.$setPristine(!0)},t.submit=function(){t.message&&t.email&&t.name&&controllerFactory.sendMessage(t.name,t.email,t.message)}}]),app.directive("replies",function(){return console.log("post directive"),{restrict:"E",scope:{post:"="},templateUrl:"js/contact/template/replyView.html",link:function(t,e,o){t.replies=[{label:"Home",state:"home"},{label:"Projects",state:"projects"},{label:"About Me",state:"about"},{label:"Contact Me",state:"contact"}]}}}),app.factory("feedBackFactory",["$http",function(t){console.log("In the feeback factory");var e={};return e.getPosts=function(){return t.get("/api/comment").then(function(t){return console.log("getting comments"),t.data}).catch()},e.postComment=function(e){return console.log("Posting comment"),t.post("/api/comment",e).then(function(t){return console.log(t),t.data}).catch()},e.getReplies=function(e){return t.get("/api/reply/"+e).then(function(t){return console.log("got comments"),t.data}).catch()},e.postReplY=function(e){return console.log("running post reply",e),t.post("/api/reply/",{post_id:parseInt(e.postId.postId),content:e.content.content}).then(function(t){return t.data})},e}]),app.config(["$stateProvider",function(t){t.state("contact",{url:"/contact",templateUrl:"/js/contact/contact.html",controller:"contactController",authenticate:!1,resolve:{posts:["feedBackFactory",function(t){return console.log("invoking feedBackFactory"),t.getPosts()}]}})}]),console.log("bar ctrl loaded"),app.controller("BarCtrl",["$scope","$timeout",function(t,e){t.timeInMs=0;var o=function o(){t.timeInMs+=500,e(o,500)};e(o,500)}]),app.config(["$stateProvider",function(t){t.state("home",{url:"/",templateUrl:"/js/home/home.html",controller:"BarCtrl",authenticate:!1})}]),app.controller("loginController",["$scope","$state","authFactory","$location",function(t,e,o,r){t.login=function(){var n={name:t.username,password:t.password};o.login(n).then(function(t){console.log(t),e.go("home",{},{reload:!0}),r.path("/")}).catch()}}]),app.config(["$stateProvider",function(t){t.state("login",{url:"/login",templateUrl:"/js/login/login.html",controller:"loginController",authenticate:!1})}]),app.directive("navbar",["$rootScope","$state","authFactory",function(t,e,o){return{restrict:"E",scope:{},templateUrl:"js/navBar/navbar.html",link:function(t){t.showLink=function(t){return!t.isAdmin&&("admin"===t.state||"login"===t.state)},t.isLoggedIn=function(){return o.isAdmin()},t.links=[{label:"Home",state:"home"},{label:"Projects",state:"projects"},{label:"About Me",state:"about"}]}}}]),app.controller("projectController",["$scope","allProjects",function(t,e){t.projects=e}]),app.controller("singleProjectController",["$scope","projectFactory","currentProject","$sce",function(t,e,o,r){t.currentProject=o,t.trustSrc=function(t){return r.trustAsResourceUrl(t)},t.movie={src:t.currentProject.videoLink},t.hasVideoLink=function(){return!!o.videoLink}}]),app.directive("projectTile",function(){return{restrict:"E",scope:{project:"="},templateUrl:"js/projects/singleProject/singleProjectTile.html"}}),app.factory("projectFactory",["$http",function(t){return{getAllProjects:function(){return t.get("/api/project").then(function(t){return t.data}).catch()},getSingleProject:function(e){return t.get("/api/project/"+e).then(function(t){return t.data}).catch()},postProject:function(e){return t.post("/api/project",e).then(function(t){return t.data}).catch()},updateProject:function(e){return t.put("api/project",e).then(function(t){return t.data}).catch()}}}]),app.config(["$stateProvider",function(t){t.state("projects",{url:"/projects",templateUrl:"/js/projects/projects.html",controller:"projectController",authenticate:!1,resolve:{allProjects:["projectFactory",function(t){return t.getAllProjects()}]}}),t.state("singleProject",{url:"/projects/:id",templateUrl:"/js/projects/singleProject/singleProject.html",controller:"singleProjectController",authenticate:!1,resolve:{currentProject:["projectFactory","$stateParams",function(t,e){return t.getSingleProject(e.id)}]}})}])(function(){console.log("ab.Typeit about to"),angular.module("ab.Typeit",[]).directive("abTypeit",function(){return coneole.log("running the wrapper"),{restrict:"A",scope:{typeitStrings:"=abTypeit",typeitLoop:"=",typeitLoopDelay:"=",typeitBreakLines:"=",typeitSpeed:"=",typeitLifeLike:"=",typeitCursor:"=",typeitCursorSpeed:"=",typeitStartDelay:"=",typeitBreakDelay:"="},controller:["$scope","$element","$attrs",function(t,e,o){var r=$(e);try{r.typeIt({strings:t.typeitStrings,loop:t.typeitLoop,loopDelay:t.typeitLoopDelay,breakLines:t.typeitBreakLines,speed:t.typeitSpeed,lifeLike:t.typeitLifeLike,cursor:t.typeitCursor,cursorSpeed:t.typeitCursorSpeed,startDelay:t.typeitStartDelay,breakDelay:t.typeitBreakDelay})}catch(t){console.error("OH NO! angular-typeit requires typeit.js on your page - do you have it loaded?")}}]}})})(),window.onload=function(){$(".developer").typed({strings:["Front-end","Back-end","Fullstack","Software","JavaScript","AngularJS"],typeSpeed:250,loop:!0,cursorSpeed:100,lifeLike:!0,curser:!0,deleteSpeed:1e3})};var gulp=require("gulp");rename=require("gulp-rename"),uglify=require("gulp-uglify"),gulp.task("compress",function(){gulp.src("js/*.js").pipe(uglify()).pipe(rename("typed.min.js")).pipe(gulp.dest("dist"))}),gulp.task("default",["compress"]),!function(t){var e=function(e,o){this.el=t(e),this.options=t.extend({},t.fn.typed.defaults,o),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};e.prototype={constructor:e,init:function(){var t=this;t.timeout=setTimeout(function(){for(var e=0;e<t.strings.length;++e)t.sequence[e]=e;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var e=this;if(this.showCursor===!0&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var o=this.stringsElement.children();t.each(o,function(o,r){e.strings.push(t(r).html())})}this.init()},typewrite:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.typeSpeed,r=this;r.timeout=setTimeout(function(){var o=0,n=t.substr(e);if("^"===n.charAt(0)){var s=1;/^\^\d+/.test(n)&&(n=/\d+/.exec(n)[0],s+=n.length,o=parseInt(n)),t=t.substring(0,e)+t.substring(e+s)}if("html"===r.contentType){var i=t.substr(e).charAt(0);if("<"===i||"&"===i){var a="",c="";for(c="<"===i?">":";";t.substr(e+1).charAt(0)!==c&&(a+=t.substr(e).charAt(0),e++,!(e+1>t.length)););e++,a+=c}}r.timeout=setTimeout(function(){if(e===t.length){if(r.options.onStringTyped(r.arrayPos),r.arrayPos===r.strings.length-1&&(r.options.callback(),r.curLoop++,r.loop===!1||r.curLoop===r.loopCount))return;r.timeout=setTimeout(function(){r.backspace(t,e)},r.backDelay)}else{0===e&&r.options.preStringTyped(r.arrayPos);var o=t.substr(0,e+1);r.attr?r.el.attr(r.attr,o):r.isInput?r.el.val(o):"html"===r.contentType?r.el.html(o):r.el.text(o),e++,r.typewrite(t,e)}},o)},o)}},backspace:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.backSpeed,r=this;r.timeout=setTimeout(function(){if("html"===r.contentType&&">"===t.substr(e).charAt(0)){for(var o="";"<"!==t.substr(e-1).charAt(0)&&(o-=t.substr(e).charAt(0),e--,!(0>e)););e--,o+="<"}var n=t.substr(0,e);r.attr?r.el.attr(r.attr,n):r.isInput?r.el.val(n):"html"===r.contentType?r.el.html(n):r.el.text(n),e>r.stopNum?(e--,r.backspace(t,e)):e<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.shuffle&&(r.sequence=r.shuffleArray(r.sequence)),r.init()):r.typewrite(r.strings[r.sequence[r.arrayPos]],e))},o)}},shuffleArray:function(t){var e,o,r=t.length;if(r)for(;--r;)o=Math.floor(Math.random()*(r+1)),e=t[o],t[o]=t[r],t[r]=e;return t},reset:function(){var t=this;clearInterval(t.timeout),this.el.attr("id"),this.el.empty(),"undefined"!=typeof this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(o){return this.each(function(){var r=t(this),n=r.data("typed"),s="object"==("undefined"==typeof o?"undefined":_typeof(o))&&o;n&&n.reset(),r.data("typed",n=new e(this,s)),"string"==typeof o&&n[o]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery),!function(t){var e=function(e,o){this.el=t(e),this.options=t.extend({},t.fn.typed.defaults,o),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};e.prototype={constructor:e,init:function(){var t=this;t.timeout=setTimeout(function(){for(var e=0;e<t.strings.length;++e)t.sequence[e]=e;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var e=this;if(this.showCursor===!0&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var o=this.stringsElement.children();t.each(o,function(o,r){e.strings.push(t(r).html())})}this.init()},typewrite:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.typeSpeed,r=this;r.timeout=setTimeout(function(){var o=0,n=t.substr(e);if("^"===n.charAt(0)){var s=1;/^\^\d+/.test(n)&&(n=/\d+/.exec(n)[0],s+=n.length,o=parseInt(n)),t=t.substring(0,e)+t.substring(e+s)}if("html"===r.contentType){var i=t.substr(e).charAt(0);if("<"===i||"&"===i){var a="",c="";for(c="<"===i?">":";";t.substr(e+1).charAt(0)!==c&&(a+=t.substr(e).charAt(0),e++,!(e+1>t.length)););e++,a+=c}}r.timeout=setTimeout(function(){if(e===t.length){if(r.options.onStringTyped(r.arrayPos),r.arrayPos===r.strings.length-1&&(r.options.callback(),r.curLoop++,r.loop===!1||r.curLoop===r.loopCount))return;r.timeout=setTimeout(function(){r.backspace(t,e)},r.backDelay)}else{0===e&&r.options.preStringTyped(r.arrayPos);var o=t.substr(0,e+1);r.attr?r.el.attr(r.attr,o):r.isInput?r.el.val(o):"html"===r.contentType?r.el.html(o):r.el.text(o),e++,r.typewrite(t,e)}},o)},o)}},backspace:function(t,e){if(this.stop!==!0){var o=Math.round(70*Math.random())+this.backSpeed,r=this;r.timeout=setTimeout(function(){if("html"===r.contentType&&">"===t.substr(e).charAt(0)){for(var o="";"<"!==t.substr(e-1).charAt(0)&&(o-=t.substr(e).charAt(0),e--,!(e<0)););e--,o+="<"}var n=t.substr(0,e);r.attr?r.el.attr(r.attr,n):r.isInput?r.el.val(n):"html"===r.contentType?r.el.html(n):r.el.text(n),e>r.stopNum?(e--,r.backspace(t,e)):e<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.shuffle&&(r.sequence=r.shuffleArray(r.sequence)),r.init()):r.typewrite(r.strings[r.sequence[r.arrayPos]],e))},o)}},shuffleArray:function(t){var e,o,r=t.length;if(r)for(;--r;)o=Math.floor(Math.random()*(r+1)),e=t[o],t[o]=t[r],t[r]=e;return t},reset:function(){var t=this;clearInterval(t.timeout);this.el.attr("id");this.el.empty(),"undefined"!=typeof this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(o){return this.each(function(){var r=t(this),n=r.data("typed"),s="object"==("undefined"==typeof o?"undefined":_typeof(o))&&o;n&&n.reset(),r.data("typed",n=new e(this,s)),"string"==typeof o&&n[o]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJhcHAuanMiLCJhYm91dC9hYm91dC5zdGF0ZS5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJhZG1pbi9hZG1pbi5kaXJlY3RpdmUuanMiLCJhZG1pbi9hZG1pbi5mYWN0b3J5LmpzIiwiYWRtaW4vYWRtaW4uc3RhdGUuanMiLCJhdXRoL2F1dGguY29udHJvbGxlci5qcyIsImF1dGgvYXV0aC5mYWN0b3J5LmpzIiwiY29udGFjdC9jb250YWN0LmNvbnRyb2xsZXIuanMiLCJjb250YWN0L2NvbnRhY3QuZGlyZWN0aXZlcy5qcyIsImNvbnRhY3QvY29udGFjdC5mYWN0b3J5LmpzIiwiY29udGFjdC9jb250YWN0LnN0YXRlLmpzIiwiaG9tZS9ob21lLmNvbnRyb2xsZXIuanMiLCJob21lL2hvbWUuc3RhdGUuanMiLCJsb2dpbi9sb2dpbi5jb250cm9sbGVyLmpzIiwibG9naW4vbG9naW4uc3RhdGUuanMiLCJuYXZCYXIvbmF2YmFyLmRpcmVjdGl2ZS5qcyIsInByb2plY3RzL3Byb2plY3RzLmNvbnRyb2xsZXIuanMiLCJwcm9qZWN0cy9wcm9qZWN0cy5kaXJlY3RpdmVzLmpzIiwicHJvamVjdHMvcHJvamVjdHMuZmFjdG9yeS5qcyIsInByb2plY3RzL3Byb2plY3RzLnN0YXRlLmpzIiwidHlwZUl0L2FuZ3VsYXItdHlwZUl0LmpzIiwidHlwZUl0L2luZGV4LmpzIiwidHlwZWQuanMtbWFzdGVyL2d1bHBmaWxlLmpzIiwidHlwZWQuanMtbWFzdGVyL2Rpc3QvdHlwZWQubWluLmpzIiwidHlwZWQuanMtbWFzdGVyL2pzL3R5cGVkLmpzIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJodG1sNU1vZGUiLCJlbmFibGVkIiwicmVxdWlyZUJhc2UiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiYXV0aGVudGljYXRlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRzdGF0ZSIsImFkbWluRmFjdG9yeSIsImFsbFByb2plY3RzIiwiYXV0aEZhY3RvcnkiLCJzdWJtaXRQcm9qZWN0IiwicHJvamVjdCIsInBvc3RQcm9qZWN0IiwiaWQiLCJuYW1lIiwiZGVwbG95IiwiZ2l0SHViIiwiZGF0YSIsImF2YWlsYWJsZVByb2plY3RzIiwic2VsZWN0ZWRQcm9qZWN0IiwiZGVzY3JpcHRpb24iLCJzZWxlY3RlZHByb2plY3RDaGFuZ2VkIiwiY3VycmVudFByb2plY3QiLCJzZWxlY3RlZEl0ZW0iLCJsb2dPdXQiLCJnbyIsImRpcmVjdGl2ZSIsInByb2plY3RGYWN0b3J5IiwicmVzdHJpY3QiLCJzY29wZSIsImZhY3RvcnkiLCIkaHR0cCIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjYXRjaCIsImdldEFsbFByb2plY3RzIiwiZ2V0IiwicmVzb2x2ZSIsImlzQWRtaW4iLCIkcm9vdFNjb3BlIiwiYWRtaW4iLCJsb2dpbiIsImxvZ2luSW5mbyIsInBhc3N3b3JkIiwiYXV0aGVudGljYXRpb25EZWNpc2lvbiIsInBvc3RzIiwiZmVlZEJhY2tGYWN0b3J5IiwiZ2V0UmVwbGllcyIsInBvc3RSZXBseSIsInBvc3RJZCIsImNvbnRlbnQiLCJyZXBseUluZm8iLCJwb3N0UmVwbFkiLCJzdWJtaXRGb3JtIiwicG9zdENvbW1lbnQiLCJuZXdQb3N0IiwibGVuZ3RoIiwidXNlciIsInVzZXJGb3JtIiwiJHNldFByaXN0aW5lIiwiY2xlYXIiLCJzdWJtaXQiLCJtZXNzYWdlIiwiZW1haWwiLCJjb250cm9sbGVyRmFjdG9yeSIsInNlbmRNZXNzYWdlIiwiY29uc29sZSIsImxvZyIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJyZXBsaWVzIiwibGFiZWwiLCJnZXRQb3N0cyIsInN1Y2Nlc2Z1bENvbW1lbnQiLCJjb21tZW50SWQiLCJwb3N0X2lkIiwicGFyc2VJbnQiLCJwb3N0ZWRDb21tZW50IiwiJHRpbWVvdXQiLCJ0aW1lSW5NcyIsImNvdW50VXAiLCIkbG9jYXRpb24iLCJ1c2VybmFtZSIsInJlc3VsdCIsInJlbG9hZCIsInBhdGgiLCJzaG93TGluayIsImlzTG9nZ2VkSW4iLCJsaW5rcyIsInByb2plY3RzIiwiJHNjZSIsInRydXN0U3JjIiwic3JjIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwibW92aWUiLCJ2aWRlb0xpbmsiLCJoYXNWaWRlb0xpbmsiLCJnZXRTaW5nbGVQcm9qZWN0IiwicHJvamVjdElEIiwidXBkYXRlUHJvamVjdCIsInVwZGF0ZWRQcm9qZWN0IiwicHV0IiwiJHN0YXRlUGFyYW1zIiwiY29uZW9sZSIsInR5cGVpdFN0cmluZ3MiLCJ0eXBlaXRMb29wIiwidHlwZWl0TG9vcERlbGF5IiwidHlwZWl0QnJlYWtMaW5lcyIsInR5cGVpdFNwZWVkIiwidHlwZWl0TGlmZUxpa2UiLCJ0eXBlaXRDdXJzb3IiLCJ0eXBlaXRDdXJzb3JTcGVlZCIsInR5cGVpdFN0YXJ0RGVsYXkiLCJ0eXBlaXRCcmVha0RlbGF5IiwiJGVsZW1lbnQiLCIkYXR0cnMiLCJ0eXBlSXRFbGVtZW50IiwiJCIsInR5cGVJdCIsInN0cmluZ3MiLCJsb29wIiwibG9vcERlbGF5IiwiYnJlYWtMaW5lcyIsInNwZWVkIiwibGlmZUxpa2UiLCJjdXJzb3IiLCJjdXJzb3JTcGVlZCIsInN0YXJ0RGVsYXkiLCJicmVha0RlbGF5IiwiZSIsImVycm9yIiwid2luZG93Iiwib25sb2FkIiwidHlwZWQiLCJ0eXBlU3BlZWQiLCJjdXJzZXIiLCJkZWxldGVTcGVlZCIsImd1bHAiLCJyZXF1aXJlIiwicmVuYW1lIiwidWdsaWZ5IiwidGFzayIsInBpcGUiLCJkZXN0IiwidCIsInMiLCJ0aGlzIiwiZWwiLCJvcHRpb25zIiwiZXh0ZW5kIiwiZm4iLCJkZWZhdWx0cyIsImlzSW5wdXQiLCJpcyIsImF0dHIiLCJzaG93Q3Vyc29yIiwiZWxDb250ZW50IiwidGV4dCIsImNvbnRlbnRUeXBlIiwiYmFja1NwZWVkIiwiYmFja0RlbGF5Iiwic3RyaW5nc0VsZW1lbnQiLCJzdHJQb3MiLCJhcnJheVBvcyIsInN0b3BOdW0iLCJsb29wQ291bnQiLCJjdXJMb29wIiwic3RvcCIsImN1cnNvckNoYXIiLCJzaHVmZmxlIiwic2VxdWVuY2UiLCJidWlsZCIsImluaXQiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInNodWZmbGVBcnJheSIsInR5cGV3cml0ZSIsImFmdGVyIiwiaGlkZSIsImNoaWxkcmVuIiwiZWFjaCIsImkiLCJwdXNoIiwiaHRtbCIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInIiLCJzdWJzdHIiLCJjaGFyQXQiLCJvIiwidGVzdCIsImV4ZWMiLCJzdWJzdHJpbmciLCJuIiwiYSIsImgiLCJvblN0cmluZ1R5cGVkIiwiY2FsbGJhY2siLCJiYWNrc3BhY2UiLCJwcmVTdHJpbmdUeXBlZCIsInZhbCIsImZsb29yIiwicmVzZXQiLCJjbGVhckludGVydmFsIiwiZW1wdHkiLCJyZW1vdmUiLCJyZXNldENhbGxiYWNrIiwialF1ZXJ5IiwiVHlwZWQiLCJzZWxmIiwia2V5IiwidmFsdWUiLCJjdXJTdHJpbmciLCJjdXJTdHJQb3MiLCJodW1hbml6ZSIsImNoYXJQYXVzZSIsInNraXAiLCJjdXJDaGFyIiwidGFnIiwiZW5kVGFnIiwibmV4dFN0cmluZyIsImFycmF5IiwidG1wIiwiY3VycmVudCIsInRvcCIsIm9wdGlvbiIsIiR0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFNBQTRCLGtCQUFYQyxTQUFvRCxnQkFBcEJBLFFBQU9DLFNBQXdCLFNBQVVDLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYRixTQUF5QkUsRUFBSUMsY0FBZ0JILFFBQVVFLElBQVFGLE9BQU9JLFVBQVksZUFBa0JGLElDRHRRRyxJQUFBQyxRQUFBQyxPQUFBLFNBQUEsWUFBQSxlQUFBLFlBQUEsaUJB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QUEsRUFFQWdDLFVBQUEsRUFFQVUsU0FBQSxFQUVBVCxVQUFBLElBRUF4QyxNQUFBLEVBRUE2QyxXQUFBLEVBRUFWLFlBQUEsRUFFQWEsV0FBQSxJQUVBZCxLQUFBLEtBRUFJLFlBQUEsT0FFQXdDLFNBQUEsYUFFQUUsZUFBQSxhQUVBSCxjQUFBLGFBRUFVLGNBQUEsZUFJQTVFLE9BQUE2RSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbJ3VpLnJvdXRlcicsICd1aS5ib290c3RyYXAnLCAnbmdBbmltYXRlJywgJ2FuZ3VsYXItdHlwZWQnXSk7XG5cbi8vIGFwcC5ydW4oZnVuY3Rpb24oZWRpdGFibGVPcHRpb25zKSB7XG4vLyAgICAgZWRpdGFibGVPcHRpb25zLnRoZW1lID0gJ2JzMyc7IC8vIGJvb3RzdHJhcDMgdGhlbWUuIENhbiBiZSBhbHNvICdiczInLCAnZGVmYXVsdCdcbi8vIH0pO1xuXG5hcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdFx0XHRcdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG5cdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRyZXF1aXJlQmFzZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xufV0pO1xuXG4vLyBhcHAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgYXV0aEZhY3RvcnkpIHtcbi8vICAgICAkcm9vdFNjb3BlLmFkbWluID0gbnVsbDtcbi8vICAgICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBhdXRoRmFjdG9yeSkge1xuLy8gICAgICAgICBpZiAodG9TdGF0ZS5hdXRoZW50aWNhdGUgJiYgIWF1dGhGYWN0b3J5LmlzQWRtaW4oKSkge1xuLy8gICAgICAgICAgICAgLy8gVXNlciBpc27igJl0IGF1dGhlbnRpY2F0ZWRcbi8vICAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oXCJob21lXCIpO1xuLy8gICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0pO1xuLy8gfSk7XG5cblxuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcblx0XHRcdFx0JHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2Fib3V0Jywge1xuXHRcdFx0XHRcdFx0XHRcdHVybDogJy9hYm91dCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvanMvYWJvdXQvYWJvdXQuaHRtbCcsXG5cdFx0XHRcdFx0XHRcdFx0YXV0aGVudGljYXRlOiBmYWxzZVxuXHRcdFx0XHR9KTtcbn0pO1xuXG5hcHAuY29udHJvbGxlcignYWRtaW5Db250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCBhZG1pbkZhY3RvcnksIGFsbFByb2plY3RzLCBhdXRoRmFjdG9yeSkge1xuXG5cdFx0XHRcdCRzY29wZS5zdWJtaXRQcm9qZWN0ID0gZnVuY3Rpb24gKHByb2plY3QpIHtcblx0XHRcdFx0XHRcdFx0XHRhZG1pbkZhY3RvcnkucG9zdFByb2plY3QocHJvamVjdCk7XG5cdFx0XHRcdFx0XHRcdFx0JHNjb3BlLnByb2plY3QgPSBudWxsO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCRzY29wZS5hbGxQcm9qZWN0cyA9IGFsbFByb2plY3RzIHx8IFt7IGlkOiAwLCBuYW1lOiAnZW1wdHknLCBkZXBsb3k6ICdlbXB0eScsIGdpdEh1YjogXCJlbXB0eVwiIH1dO1xuXG5cdFx0XHRcdCRzY29wZS5kYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsYWJsZVByb2plY3RzOiAkc2NvcGUuYWxsUHJvamVjdHMsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9qZWN0OiB7IGlkOiAwLCBuYW1lOiAnZW1wdHknLCBkZXBsb3k6ICdlbXB0eScsIGdpdEh1YjogJ2VtcHR5JywgZGVzY3JpcHRpb246IFwiZW1wdHlcIiB9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JHNjb3BlLnNlbGVjdGVkcHJvamVjdENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHNjb3BlLmN1cnJlbnRQcm9qZWN0ID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUubG9nT3V0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGF1dGhGYWN0b3J5LmxvZ091dCgpO1xuXHRcdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xuXHRcdFx0XHR9O1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoJ3Byb2plY3RFZGl0JywgZnVuY3Rpb24gKHByb2plY3RGYWN0b3J5KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdFx0XHRcdFx0XHRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvamVjdDogJz1wcm9qZWN0J1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhZG1pbkVkaXQuaHRtbCdcblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuZmFjdG9yeSgnYWRtaW5GYWN0b3J5JywgZnVuY3Rpb24gKCRodHRwKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0cG9zdFByb2plY3Q6IGZ1bmN0aW9uIHBvc3RQcm9qZWN0KHByb2plY3QpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Byb2plY3QnLCBwcm9qZWN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRnZXRBbGxQcm9qZWN0czogZnVuY3Rpb24gZ2V0QWxsUHJvamVjdHMoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3QnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xufSk7XG5cbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG5cdFx0XHRcdCRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdhZG1pbicsIHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6ICcvYWRtaW4nLFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2pzL2FkbWluL2FkbWluLmh0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdhZG1pbkNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0ZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhbGxQcm9qZWN0czogZnVuY3Rpb24gYWxsUHJvamVjdHMoYWRtaW5GYWN0b3J5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBhZG1pbkZhY3RvcnkuZ2V0QWxsUHJvamVjdHMoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xufSk7XG5cbmFwcC5jb250cm9sbGVyKCdhdXRoQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsIGF1dGhGYWN0b3J5KSB7XG5cdFx0XHRcdCRzY29wZS5pc0FkbWluID0gYXV0aEZhY3RvcnkuaXNBZG1pbigpO1xufSk7XG5cbmFwcC5mYWN0b3J5KCdhdXRoRmFjdG9yeScsIGZ1bmN0aW9uICgkaHR0cCwgJHN0YXRlLCAkcm9vdFNjb3BlKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0aXNBZG1pbjogZnVuY3Rpb24gaXNBZG1pbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAhISRyb290U2NvcGUuYWRtaW47XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRsb2dpbjogZnVuY3Rpb24gbG9naW4obG9naW5JbmZvKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2F1dGhlbnRpY2F0aW9uLycgKyBsb2dpbkluZm8ubmFtZSArICcvJyArIGxvZ2luSW5mby5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAoYXV0aGVudGljYXRpb25EZWNpc2lvbikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWF1dGhlbnRpY2F0aW9uRGVjaXNpb24uZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRyb290U2NvcGUuYWRtaW4gPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmFkbWluID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXV0aGVudGljYXRpb25EZWNpc2lvbjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRyb290U2NvcGUuYWRtaW4gPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuY29udHJvbGxlcignY29udGFjdENvbnRyb2xsZXInLCBmdW5jdGlvbiAoJHNjb3BlLCBwb3N0cywgZmVlZEJhY2tGYWN0b3J5KSB7XG5cdFx0XHRcdCRzY29wZS5wb3N0cyA9IHBvc3RzO1xuXHRcdFx0XHQkc2NvcGUuZ2V0UmVwbGllcyA9IGZlZWRCYWNrRmFjdG9yeS5nZXRSZXBsaWVzO1xuXHRcdFx0XHQkc2NvcGUucG9zdFJlcGx5ID0gZnVuY3Rpb24gKHBvc3RJZCwgY29udGVudCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZXBseUluZm8gPSB7IHBvc3RJZDogcG9zdElkLCBjb250ZW50OiBjb250ZW50IH07XG5cdFx0XHRcdFx0XHRcdFx0ZmVlZEJhY2tGYWN0b3J5LnBvc3RSZXBsWShyZXBseUluZm8pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCRzY29wZS5zdWJtaXRGb3JtID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRmZWVkQmFja0ZhY3RvcnkucG9zdENvbW1lbnQoZGF0YSkudGhlbihmdW5jdGlvbiAobmV3UG9zdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JHNjb3BlLnBvc3RzWyRzY29wZS5wb3N0cy5sZW5ndGhdID0gbmV3UG9zdDtcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdCRzY29wZS51c2VyID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0XHQkc2NvcGUudXNlckZvcm0uJHNldFByaXN0aW5lKHRydWUpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCRzY29wZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHQkc2NvcGUudXNlciA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0JHNjb3BlLnVzZXJGb3JtLiRzZXRQcmlzdGluZSh0cnVlKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICgkc2NvcGUubWVzc2FnZSAmJiAkc2NvcGUuZW1haWwgJiYgJHNjb3BlLm5hbWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXJGYWN0b3J5LnNlbmRNZXNzYWdlKCRzY29wZS5uYW1lLCAkc2NvcGUuZW1haWwsICRzY29wZS5tZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG59KTtcblxuYXBwLmRpcmVjdGl2ZSgncmVwbGllcycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Bvc3QgZGlyZWN0aXZlJyk7XG5cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN0cmljdDogJ0UnLFxuXHRcdFx0XHRcdFx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3N0OiBcIj1cIlxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdqcy9jb250YWN0L3RlbXBsYXRlL3JlcGx5Vmlldy5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5yZXBsaWVzID0gW3sgbGFiZWw6ICdIb21lJywgc3RhdGU6ICdob21lJyB9LCB7IGxhYmVsOiAnUHJvamVjdHMnLCBzdGF0ZTogJ3Byb2plY3RzJyB9LCB7IGxhYmVsOiAnQWJvdXQgTWUnLCBzdGF0ZTogJ2Fib3V0JyB9LCB7IGxhYmVsOiAnQ29udGFjdCBNZScsIHN0YXRlOiAnY29udGFjdCcgfV07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xufSk7XG5cbmFwcC5mYWN0b3J5KCdmZWVkQmFja0ZhY3RvcnknLCBmdW5jdGlvbiAoJGh0dHApIHtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkluIHRoZSBmZWViYWNrIGZhY3RvcnlcIik7XG5cdFx0XHRcdHZhciBmZWVkQmFja0ZhY3RvcnkgPSB7fTtcblx0XHRcdFx0ZmVlZEJhY2tGYWN0b3J5LmdldFBvc3RzID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29tbWVudCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnZ2V0dGluZyBjb21tZW50cycpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0ZmVlZEJhY2tGYWN0b3J5LnBvc3RDb21tZW50ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnUG9zdGluZyBjb21tZW50Jyk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIGNvbnRlbnQpLnRoZW4oZnVuY3Rpb24gKHN1Y2Nlc2Z1bENvbW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHN1Y2Nlc2Z1bENvbW1lbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHN1Y2Nlc2Z1bENvbW1lbnQuZGF0YTtcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRmZWVkQmFja0ZhY3RvcnkuZ2V0UmVwbGllcyA9IGZ1bmN0aW9uIChjb21tZW50SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlcGx5LycgKyBjb21tZW50SWQpLnRoZW4oZnVuY3Rpb24gKHJlcGxpZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdnb3QgY29tbWVudHMnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXBsaWVzLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0ZmVlZEJhY2tGYWN0b3J5LnBvc3RSZXBsWSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3J1bm5pbmcgcG9zdCByZXBseScsIG1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3JlcGx5LycsIHsgcG9zdF9pZDogcGFyc2VJbnQobWVzc2FnZS5wb3N0SWQucG9zdElkKSwgY29udGVudDogbWVzc2FnZS5jb250ZW50LmNvbnRlbnQgfSkudGhlbihmdW5jdGlvbiAocG9zdGVkQ29tbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHBvc3RlZENvbW1lbnQuZGF0YTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRyZXR1cm4gZmVlZEJhY2tGYWN0b3J5O1xufSk7XG5cbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG5cdFx0XHRcdCRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdjb250YWN0Jywge1xuXHRcdFx0XHRcdFx0XHRcdHVybDogJy9jb250YWN0Jyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9qcy9jb250YWN0L2NvbnRhY3QuaHRtbCcsXG5cdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ2NvbnRhY3RDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdFx0XHRhdXRoZW50aWNhdGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBvc3RzOiBmdW5jdGlvbiBwb3N0cyhmZWVkQmFja0ZhY3RvcnkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2ludm9raW5nIGZlZWRCYWNrRmFjdG9yeScpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmVlZEJhY2tGYWN0b3J5LmdldFBvc3RzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcbn0pO1xuXG5jb25zb2xlLmxvZygnYmFyIGN0cmwgbG9hZGVkJyk7XG5cbmFwcC5jb250cm9sbGVyKFwiQmFyQ3RybFwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkdGltZW91dCkge1xuXG5cdFx0XHRcdCRzY29wZS50aW1lSW5NcyA9IDA7XG5cblx0XHRcdFx0dmFyIGNvdW50VXAgPSBmdW5jdGlvbiBjb3VudFVwKCkge1xuXHRcdFx0XHRcdFx0XHRcdCRzY29wZS50aW1lSW5NcyArPSA1MDA7XG5cdFx0XHRcdFx0XHRcdFx0JHRpbWVvdXQoY291bnRVcCwgNTAwKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkdGltZW91dChjb3VudFVwLCA1MDApO1xufSk7XG5cbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG5cdFx0XHRcdCRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJywge1xuXHRcdFx0XHRcdFx0XHRcdHVybDogJy8nLFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2pzL2hvbWUvaG9tZS5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQmFyQ3RybCcsXG5cdFx0XHRcdFx0XHRcdFx0YXV0aGVudGljYXRlOiBmYWxzZVxuXHRcdFx0XHR9KTtcbn0pO1xuXG5hcHAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCBhdXRoRmFjdG9yeSwgJGxvY2F0aW9uKSB7XG5cdFx0XHRcdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbG9naW5JbmZvID0geyBuYW1lOiAkc2NvcGUudXNlcm5hbWUsIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmQgfTtcblx0XHRcdFx0XHRcdFx0XHRhdXRoRmFjdG9yeS5sb2dpbihsb2dpbkluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScsIHt9LCB7IHJlbG9hZDogdHJ1ZSB9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvJyk7XG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuXHRcdFx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgnbG9naW4nLCB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnL2xvZ2luJyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9qcy9sb2dpbi9sb2dpbi5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdFx0XHRhdXRoZW50aWNhdGU6IGZhbHNlXG5cdFx0XHRcdH0pO1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoJ25hdmJhcicsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc3RhdGUsIGF1dGhGYWN0b3J5KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdFx0XHRcdFx0XHRzY29wZToge30sXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdqcy9uYXZCYXIvbmF2YmFyLmh0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLnNob3dMaW5rID0gZnVuY3Rpb24gKGxpbmspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICFsaW5rLmlzQWRtaW4gJiYgKGxpbmsuc3RhdGUgPT09ICdhZG1pbicgfHwgbGluay5zdGF0ZSA9PT0gJ2xvZ2luJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5pc0xvZ2dlZEluID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXV0aEZhY3RvcnkuaXNBZG1pbigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUubGlua3MgPSBbeyBsYWJlbDogJ0hvbWUnLCBzdGF0ZTogJ2hvbWUnIH0sIHsgbGFiZWw6ICdQcm9qZWN0cycsIHN0YXRlOiAncHJvamVjdHMnIH0sIHsgbGFiZWw6ICdBYm91dCBNZScsIHN0YXRlOiAnYWJvdXQnIH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHsgbGFiZWw6ICdGZWVkYmFjaycsIHN0YXRlOiAnY29udGFjdCcgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHsgbGFiZWw6ICdBZG1pbiAnLCBzdGF0ZTogJ2FkbWluJywgaXNBZG1pbjogISRyb290U2NvcGUuYWRtaW4gfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHsgbGFiZWw6ICdBZG1pbmlzdHJhdG9yJywgc3RhdGU6ICdsb2dpbicsIGlzQWRtaW46ICRyb290U2NvcGUuYWRtaW4gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ3Byb2plY3RDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgYWxsUHJvamVjdHMpIHtcblx0XHRcdFx0JHNjb3BlLnByb2plY3RzID0gYWxsUHJvamVjdHM7XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ3NpbmdsZVByb2plY3RDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgcHJvamVjdEZhY3RvcnksIGN1cnJlbnRQcm9qZWN0LCAkc2NlKSB7XG5cdFx0XHRcdCRzY29wZS5jdXJyZW50UHJvamVjdCA9IGN1cnJlbnRQcm9qZWN0O1xuXG5cdFx0XHRcdCRzY29wZS50cnVzdFNyYyA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoc3JjKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUubW92aWUgPSB7IHNyYzogJHNjb3BlLmN1cnJlbnRQcm9qZWN0LnZpZGVvTGluayB9O1xuXG5cdFx0XHRcdCRzY29wZS5oYXNWaWRlb0xpbmsgPSBmdW5jdGlvbiBoYXNWaWRlb0xpbmsoKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICEhY3VycmVudFByb2plY3QudmlkZW9MaW5rO1xuXHRcdFx0XHR9O1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoJ3Byb2plY3RUaWxlJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3RyaWN0OiBcIkVcIixcblx0XHRcdFx0XHRcdFx0XHRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvamVjdDogJz0nXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2pzL3Byb2plY3RzL3NpbmdsZVByb2plY3Qvc2luZ2xlUHJvamVjdFRpbGUuaHRtbCdcblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuZmFjdG9yeSgncHJvamVjdEZhY3RvcnknLCBmdW5jdGlvbiAoJGh0dHApIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRnZXRBbGxQcm9qZWN0czogZnVuY3Rpb24gZ2V0QWxsUHJvamVjdHMoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3QnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRnZXRTaW5nbGVQcm9qZWN0OiBmdW5jdGlvbiBnZXRTaW5nbGVQcm9qZWN0KHByb2plY3RJRCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0LycgKyBwcm9qZWN0SUQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKTtcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHBvc3RQcm9qZWN0OiBmdW5jdGlvbiBwb3N0UHJvamVjdChwcm9qZWN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0JywgcHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlUHJvamVjdDogZnVuY3Rpb24gdXBkYXRlUHJvamVjdCh1cGRhdGVkUHJvamVjdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICRodHRwLnB1dCgnYXBpL3Byb2plY3QnLCB1cGRhdGVkUHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcbn0pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuXHRcdFx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgncHJvamVjdHMnLCB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnL3Byb2plY3RzJyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9qcy9wcm9qZWN0cy9wcm9qZWN0cy5odG1sJyxcblx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyOiAncHJvamVjdENvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0ZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWxsUHJvamVjdHM6IGZ1bmN0aW9uIGFsbFByb2plY3RzKHByb2plY3RGYWN0b3J5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBwcm9qZWN0RmFjdG9yeS5nZXRBbGxQcm9qZWN0cygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3NpbmdsZVByb2plY3QnLCB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnL3Byb2plY3RzLzppZCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvanMvcHJvamVjdHMvc2luZ2xlUHJvamVjdC9zaW5nbGVQcm9qZWN0Lmh0bWwnLFxuXHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdzaW5nbGVQcm9qZWN0Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRcdFx0YXV0aGVudGljYXRlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50UHJvamVjdDogZnVuY3Rpb24gY3VycmVudFByb2plY3QocHJvamVjdEZhY3RvcnksICRzdGF0ZVBhcmFtcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcHJvamVjdEZhY3RvcnkuZ2V0U2luZ2xlUHJvamVjdCgkc3RhdGVQYXJhbXMuaWQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG59KShmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ2FiLlR5cGVpdCBhYm91dCB0bycpO1xuXHRcdFx0XHRhbmd1bGFyLm1vZHVsZSgnYWIuVHlwZWl0JywgW10pLmRpcmVjdGl2ZSgnYWJUeXBlaXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uZW9sZS5sb2coJ3J1bm5pbmcgdGhlIHdyYXBwZXInKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzdHJpY3Q6ICdBJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdFN0cmluZ3M6ICc9YWJUeXBlaXQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRMb29wOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdExvb3BEZWxheTogJz0nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRCcmVha0xpbmVzOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdFNwZWVkOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdExpZmVMaWtlOiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdEN1cnNvcjogJz0nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRDdXJzb3JTcGVlZDogJz0nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlaXRTdGFydERlbGF5OiAnPScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVpdEJyZWFrRGVsYXk6ICc9J1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uIGNvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB0eXBlSXRFbGVtZW50ID0gJCgkZWxlbWVudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlSXRFbGVtZW50LnR5cGVJdCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdzOiAkc2NvcGUudHlwZWl0U3RyaW5ncyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxvb3A6ICRzY29wZS50eXBlaXRMb29wLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bG9vcERlbGF5OiAkc2NvcGUudHlwZWl0TG9vcERlbGF5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtMaW5lczogJHNjb3BlLnR5cGVpdEJyZWFrTGluZXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzcGVlZDogJHNjb3BlLnR5cGVpdFNwZWVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGlmZUxpa2U6ICRzY29wZS50eXBlaXRMaWZlTGlrZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvcjogJHNjb3BlLnR5cGVpdEN1cnNvcixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnNvclNwZWVkOiAkc2NvcGUudHlwZWl0Q3Vyc29yU3BlZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdGFydERlbGF5OiAkc2NvcGUudHlwZWl0U3RhcnREZWxheSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrRGVsYXk6ICRzY29wZS50eXBlaXRCcmVha0RlbGF5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdPSCBOTyEgYW5ndWxhci10eXBlaXQgcmVxdWlyZXMgdHlwZWl0LmpzIG9uIHlvdXIgcGFnZSAtIGRvIHlvdSBoYXZlIGl0IGxvYWRlZD8nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pO1xufSkoKTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHQkKFwiLmRldmVsb3BlclwiKS50eXBlZCh7XG5cdFx0XHRcdFx0XHRcdFx0c3RyaW5nczogW1wiRnJvbnQtZW5kXCIsIFwiQmFjay1lbmRcIiwgXCJGdWxsc3RhY2tcIiwgXCJTb2Z0d2FyZVwiLCBcIkphdmFTY3JpcHRcIiwgXCJBbmd1bGFySlNcIl0sXG5cdFx0XHRcdFx0XHRcdFx0dHlwZVNwZWVkOiAyNTAsXG5cdFx0XHRcdFx0XHRcdFx0bG9vcDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRjdXJzb3JTcGVlZDogMTAwLFxuXHRcdFx0XHRcdFx0XHRcdGxpZmVMaWtlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGN1cnNlcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRkZWxldGVTcGVlZDogMTAwMFxuXHRcdFx0XHR9KTtcbn07XG5cbi8vIEdyYWIgbm9kZSBwYWNrYWdlc1xudmFyIGd1bHAgPSByZXF1aXJlKCdndWxwJyk7XG5yZW5hbWUgPSByZXF1aXJlKCdndWxwLXJlbmFtZScpO1xudWdsaWZ5ID0gcmVxdWlyZSgnZ3VscC11Z2xpZnknKTtcblxuZ3VscC50YXNrKCdjb21wcmVzcycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Z3VscC5zcmMoJ2pzLyouanMnKS5waXBlKHVnbGlmeSgpKS5waXBlKHJlbmFtZSgndHlwZWQubWluLmpzJykpLnBpcGUoZ3VscC5kZXN0KCdkaXN0JykpO1xufSk7XG5cbi8vIERlZmF1bHQgVGFza1xuZ3VscC50YXNrKCdkZWZhdWx0JywgWydjb21wcmVzcyddKTtcblxuIWZ1bmN0aW9uICh0KSB7XG5cdFx0XHRcdFwidXNlIHN0cmljdFwiO1xuXHRcdFx0XHR2YXIgcyA9IGZ1bmN0aW9uIHMoX3MsIGUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmVsID0gdChfcyksIHRoaXMub3B0aW9ucyA9IHQuZXh0ZW5kKHt9LCB0LmZuLnR5cGVkLmRlZmF1bHRzLCBlKSwgdGhpcy5pc0lucHV0ID0gdGhpcy5lbC5pcyhcImlucHV0XCIpLCB0aGlzLmF0dHIgPSB0aGlzLm9wdGlvbnMuYXR0ciwgdGhpcy5zaG93Q3Vyc29yID0gdGhpcy5pc0lucHV0ID8gITEgOiB0aGlzLm9wdGlvbnMuc2hvd0N1cnNvciwgdGhpcy5lbENvbnRlbnQgPSB0aGlzLmF0dHIgPyB0aGlzLmVsLmF0dHIodGhpcy5hdHRyKSA6IHRoaXMuZWwudGV4dCgpLCB0aGlzLmNvbnRlbnRUeXBlID0gdGhpcy5vcHRpb25zLmNvbnRlbnRUeXBlLCB0aGlzLnR5cGVTcGVlZCA9IHRoaXMub3B0aW9ucy50eXBlU3BlZWQsIHRoaXMuc3RhcnREZWxheSA9IHRoaXMub3B0aW9ucy5zdGFydERlbGF5LCB0aGlzLmJhY2tTcGVlZCA9IHRoaXMub3B0aW9ucy5iYWNrU3BlZWQsIHRoaXMuYmFja0RlbGF5ID0gdGhpcy5vcHRpb25zLmJhY2tEZWxheSwgdGhpcy5zdHJpbmdzRWxlbWVudCA9IHRoaXMub3B0aW9ucy5zdHJpbmdzRWxlbWVudCwgdGhpcy5zdHJpbmdzID0gdGhpcy5vcHRpb25zLnN0cmluZ3MsIHRoaXMuc3RyUG9zID0gMCwgdGhpcy5hcnJheVBvcyA9IDAsIHRoaXMuc3RvcE51bSA9IDAsIHRoaXMubG9vcCA9IHRoaXMub3B0aW9ucy5sb29wLCB0aGlzLmxvb3BDb3VudCA9IHRoaXMub3B0aW9ucy5sb29wQ291bnQsIHRoaXMuY3VyTG9vcCA9IDAsIHRoaXMuc3RvcCA9ICExLCB0aGlzLmN1cnNvckNoYXIgPSB0aGlzLm9wdGlvbnMuY3Vyc29yQ2hhciwgdGhpcy5zaHVmZmxlID0gdGhpcy5vcHRpb25zLnNodWZmbGUsIHRoaXMuc2VxdWVuY2UgPSBbXSwgdGhpcy5idWlsZCgpO1xuXHRcdFx0XHR9O3MucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogcywgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB0ID0gdGhpczt0LnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgcyA9IDA7IHMgPCB0LnN0cmluZ3MubGVuZ3RoOyArK3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0LnNlcXVlbmNlW3NdID0gcztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fXQuc2h1ZmZsZSAmJiAodC5zZXF1ZW5jZSA9IHQuc2h1ZmZsZUFycmF5KHQuc2VxdWVuY2UpKSwgdC50eXBld3JpdGUodC5zdHJpbmdzW3Quc2VxdWVuY2VbdC5hcnJheVBvc11dLCB0LnN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCB0LnN0YXJ0RGVsYXkpO1xuXHRcdFx0XHRcdFx0XHRcdH0sIGJ1aWxkOiBmdW5jdGlvbiBidWlsZCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzID0gdGhpcztpZiAodGhpcy5zaG93Q3Vyc29yID09PSAhMCAmJiAodGhpcy5jdXJzb3IgPSB0KCc8c3BhbiBjbGFzcz1cInR5cGVkLWN1cnNvclwiPicgKyB0aGlzLmN1cnNvckNoYXIgKyBcIjwvc3Bhbj5cIiksIHRoaXMuZWwuYWZ0ZXIodGhpcy5jdXJzb3IpKSwgdGhpcy5zdHJpbmdzRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0cmluZ3MgPSBbXSwgdGhpcy5zdHJpbmdzRWxlbWVudC5oaWRlKCksIGNvbnNvbGUubG9nKHRoaXMuc3RyaW5nc0VsZW1lbnQuY2hpbGRyZW4oKSk7dmFyIGUgPSB0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCk7dC5lYWNoKGUsIGZ1bmN0aW9uIChlLCBpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cy5zdHJpbmdzLnB1c2godChpKS5odG1sKCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH10aGlzLmluaXQoKTtcblx0XHRcdFx0XHRcdFx0XHR9LCB0eXBld3JpdGU6IGZ1bmN0aW9uIHR5cGV3cml0ZSh0LCBzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdG9wICE9PSAhMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZSA9IE1hdGgucm91bmQoNzAgKiBNYXRoLnJhbmRvbSgpKSArIHRoaXMudHlwZVNwZWVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgaSA9IHRoaXM7aS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGUgPSAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICByID0gdC5zdWJzdHIocyk7aWYgKFwiXlwiID09PSByLmNoYXJBdCgwKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG8gPSAxOy9eXFxeXFxkKy8udGVzdChyKSAmJiAociA9IC9cXGQrLy5leGVjKHIpWzBdLCBvICs9IHIubGVuZ3RoLCBlID0gcGFyc2VJbnQocikpLCB0ID0gdC5zdWJzdHJpbmcoMCwgcykgKyB0LnN1YnN0cmluZyhzICsgbyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fWlmIChcImh0bWxcIiA9PT0gaS5jb250ZW50VHlwZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG4gPSB0LnN1YnN0cihzKS5jaGFyQXQoMCk7aWYgKFwiPFwiID09PSBuIHx8IFwiJlwiID09PSBuKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBhID0gXCJcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGggPSBcIlwiO2ZvciAoaCA9IFwiPFwiID09PSBuID8gXCI+XCIgOiBcIjtcIjsgdC5zdWJzdHIocyArIDEpLmNoYXJBdCgwKSAhPT0gaCAmJiAoYSArPSB0LnN1YnN0cihzKS5jaGFyQXQoMCksIHMrKywgIShzICsgMSA+IHQubGVuZ3RoKSk7KSB7fXMrKywgYSArPSBoO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1pLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzID09PSB0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoaS5vcHRpb25zLm9uU3RyaW5nVHlwZWQoaS5hcnJheVBvcyksIGkuYXJyYXlQb3MgPT09IGkuc3RyaW5ncy5sZW5ndGggLSAxICYmIChpLm9wdGlvbnMuY2FsbGJhY2soKSwgaS5jdXJMb29wKyssIGkubG9vcCA9PT0gITEgfHwgaS5jdXJMb29wID09PSBpLmxvb3BDb3VudCkpIHJldHVybjtpLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpLmJhY2tzcGFjZSh0LCBzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgaS5iYWNrRGVsYXkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0MCA9PT0gcyAmJiBpLm9wdGlvbnMucHJlU3RyaW5nVHlwZWQoaS5hcnJheVBvcyk7dmFyIGUgPSB0LnN1YnN0cigwLCBzICsgMSk7aS5hdHRyID8gaS5lbC5hdHRyKGkuYXR0ciwgZSkgOiBpLmlzSW5wdXQgPyBpLmVsLnZhbChlKSA6IFwiaHRtbFwiID09PSBpLmNvbnRlbnRUeXBlID8gaS5lbC5odG1sKGUpIDogaS5lbC50ZXh0KGUpLCBzKyssIGkudHlwZXdyaXRlKHQsIHMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LCBiYWNrc3BhY2U6IGZ1bmN0aW9uIGJhY2tzcGFjZSh0LCBzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdG9wICE9PSAhMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZSA9IE1hdGgucm91bmQoNzAgKiBNYXRoLnJhbmRvbSgpKSArIHRoaXMuYmFja1NwZWVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgaSA9IHRoaXM7aS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKFwiaHRtbFwiID09PSBpLmNvbnRlbnRUeXBlICYmIFwiPlwiID09PSB0LnN1YnN0cihzKS5jaGFyQXQoMCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSBcIlwiOyBcIjxcIiAhPT0gdC5zdWJzdHIocyAtIDEpLmNoYXJBdCgwKSAmJiAoZSAtPSB0LnN1YnN0cihzKS5jaGFyQXQoMCksIHMtLSwgISgwID4gcykpOykge31zLS0sIGUgKz0gXCI8XCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fXZhciByID0gdC5zdWJzdHIoMCwgcyk7aS5hdHRyID8gaS5lbC5hdHRyKGkuYXR0ciwgcikgOiBpLmlzSW5wdXQgPyBpLmVsLnZhbChyKSA6IFwiaHRtbFwiID09PSBpLmNvbnRlbnRUeXBlID8gaS5lbC5odG1sKHIpIDogaS5lbC50ZXh0KHIpLCBzID4gaS5zdG9wTnVtID8gKHMtLSwgaS5iYWNrc3BhY2UodCwgcykpIDogcyA8PSBpLnN0b3BOdW0gJiYgKGkuYXJyYXlQb3MrKywgaS5hcnJheVBvcyA9PT0gaS5zdHJpbmdzLmxlbmd0aCA/IChpLmFycmF5UG9zID0gMCwgaS5zaHVmZmxlICYmIChpLnNlcXVlbmNlID0gaS5zaHVmZmxlQXJyYXkoaS5zZXF1ZW5jZSkpLCBpLmluaXQoKSkgOiBpLnR5cGV3cml0ZShpLnN0cmluZ3NbaS5zZXF1ZW5jZVtpLmFycmF5UG9zXV0sIHMpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSwgc2h1ZmZsZUFycmF5OiBmdW5jdGlvbiBzaHVmZmxlQXJyYXkodCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICBpID0gdC5sZW5ndGg7aWYgKGkpIGZvciAoOyAtLWk7KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKSwgcyA9IHRbZV0sIHRbZV0gPSB0W2ldLCB0W2ldID0gcztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1yZXR1cm4gdDtcblx0XHRcdFx0XHRcdFx0XHR9LCByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdCA9IHRoaXM7Y2xlYXJJbnRlcnZhbCh0LnRpbWVvdXQpO3RoaXMuZWwuYXR0cihcImlkXCIpO3RoaXMuZWwuZW1wdHkoKSwgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgdGhpcy5jdXJzb3IgJiYgdGhpcy5jdXJzb3IucmVtb3ZlKCksIHRoaXMuc3RyUG9zID0gMCwgdGhpcy5hcnJheVBvcyA9IDAsIHRoaXMuY3VyTG9vcCA9IDAsIHRoaXMub3B0aW9ucy5yZXNldENhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSB9LCB0LmZuLnR5cGVkID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBpID0gdCh0aGlzKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICByID0gaS5kYXRhKFwidHlwZWRcIiksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgbyA9IFwib2JqZWN0XCIgPT0gKHR5cGVvZiBlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihlKSkgJiYgZTtyICYmIHIucmVzZXQoKSwgaS5kYXRhKFwidHlwZWRcIiwgciA9IG5ldyBzKHRoaXMsIG8pKSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSAmJiByW2VdKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0sIHQuZm4udHlwZWQuZGVmYXVsdHMgPSB7IHN0cmluZ3M6IFtcIlRoZXNlIGFyZSB0aGUgZGVmYXVsdCB2YWx1ZXMuLi5cIiwgXCJZb3Uga25vdyB3aGF0IHlvdSBzaG91bGQgZG8/XCIsIFwiVXNlIHlvdXIgb3duIVwiLCBcIkhhdmUgYSBncmVhdCBkYXkhXCJdLCBzdHJpbmdzRWxlbWVudDogbnVsbCwgdHlwZVNwZWVkOiAwLCBzdGFydERlbGF5OiAwLCBiYWNrU3BlZWQ6IDAsIHNodWZmbGU6ICExLCBiYWNrRGVsYXk6IDUwMCwgbG9vcDogITEsIGxvb3BDb3VudDogITEsIHNob3dDdXJzb3I6ICEwLCBjdXJzb3JDaGFyOiBcInxcIiwgYXR0cjogbnVsbCwgY29udGVudFR5cGU6IFwiaHRtbFwiLCBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7fSwgcHJlU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uIHByZVN0cmluZ1R5cGVkKCkge30sIG9uU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uIG9uU3RyaW5nVHlwZWQoKSB7fSwgcmVzZXRDYWxsYmFjazogZnVuY3Rpb24gcmVzZXRDYWxsYmFjaygpIHt9IH07XG59KHdpbmRvdy5qUXVlcnkpO1xuLy8gVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbi8vIFR5cGVkLmpzIHwgQ29weXJpZ2h0IChjKSAyMDE2IE1hdHQgQm9sZHQgfCB3d3cubWF0dGJvbGR0LmNvbVxuXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG5cblxuIWZ1bmN0aW9uICgkKSB7XG5cblx0XHRcdFx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0XHRcdFx0dmFyIFR5cGVkID0gZnVuY3Rpb24gVHlwZWQoZWwsIG9wdGlvbnMpIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGNob3NlbiBlbGVtZW50IHRvIG1hbmlwdWxhdGUgdGV4dFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZWwgPSAkKGVsKTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIG9wdGlvbnNcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi50eXBlZC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBhdHRyaWJ1dGUgdG8gdHlwZSBpbnRvXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5pc0lucHV0ID0gdGhpcy5lbC5pcygnaW5wdXQnKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIgPSB0aGlzLm9wdGlvbnMuYXR0cjtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIHNob3cgY3Vyc29yXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zaG93Q3Vyc29yID0gdGhpcy5pc0lucHV0ID8gZmFsc2UgOiB0aGlzLm9wdGlvbnMuc2hvd0N1cnNvcjtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIHRleHQgY29udGVudCBvZiBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5lbENvbnRlbnQgPSB0aGlzLmF0dHIgPyB0aGlzLmVsLmF0dHIodGhpcy5hdHRyKSA6IHRoaXMuZWwudGV4dCgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaHRtbCBvciBwbGFpbiB0ZXh0XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5jb250ZW50VHlwZSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIHR5cGluZyBzcGVlZFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMudHlwZVNwZWVkID0gdGhpcy5vcHRpb25zLnR5cGVTcGVlZDtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGFkZCBhIGRlbGF5IGJlZm9yZSB0eXBpbmcgc3RhcnRzXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zdGFydERlbGF5ID0gdGhpcy5vcHRpb25zLnN0YXJ0RGVsYXk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBiYWNrc3BhY2luZyBzcGVlZFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYmFja1NwZWVkID0gdGhpcy5vcHRpb25zLmJhY2tTcGVlZDtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgYmVmb3JlIGJhY2tzcGFjaW5nXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5iYWNrRGVsYXkgPSB0aGlzLm9wdGlvbnMuYmFja0RlbGF5O1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZGl2IGNvbnRhaW5pbmcgc3RyaW5nc1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RyaW5nc0VsZW1lbnQgPSB0aGlzLm9wdGlvbnMuc3RyaW5nc0VsZW1lbnQ7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBpbnB1dCBzdHJpbmdzIG9mIHRleHRcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0cmluZ3MgPSB0aGlzLm9wdGlvbnMuc3RyaW5ncztcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGNoYXJhY3RlciBudW1iZXIgcG9zaXRpb24gb2YgY3VycmVudCBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0clBvcyA9IDA7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBjdXJyZW50IGFycmF5IHBvc2l0aW9uXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcnJheVBvcyA9IDA7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBudW1iZXIgdG8gc3RvcCBiYWNrc3BhY2luZyBvbi5cblx0XHRcdFx0XHRcdFx0XHQvLyBkZWZhdWx0IDAsIGNhbiBjaGFuZ2UgZGVwZW5kaW5nIG9uIGhvdyBtYW55IGNoYXJzXG5cdFx0XHRcdFx0XHRcdFx0Ly8geW91IHdhbnQgdG8gcmVtb3ZlIGF0IHRoZSB0aW1lXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zdG9wTnVtID0gMDtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIExvb3BpbmcgbG9naWNcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmxvb3AgPSB0aGlzLm9wdGlvbnMubG9vcDtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmxvb3BDb3VudCA9IHRoaXMub3B0aW9ucy5sb29wQ291bnQ7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5jdXJMb29wID0gMDtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIGZvciBzdG9wcGluZ1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RvcCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gY3VzdG9tIGN1cnNvclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY3Vyc29yQ2hhciA9IHRoaXMub3B0aW9ucy5jdXJzb3JDaGFyO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2h1ZmZsZSB0aGUgc3RyaW5nc1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2h1ZmZsZSA9IHRoaXMub3B0aW9ucy5zaHVmZmxlO1xuXHRcdFx0XHRcdFx0XHRcdC8vIHRoZSBvcmRlciBvZiBzdHJpbmdzXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXF1ZW5jZSA9IFtdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQWxsIHN5c3RlbXMgZ28hXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5idWlsZCgpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdFR5cGVkLnByb3RvdHlwZSA9IHtcblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0cnVjdG9yOiBUeXBlZCxcblxuXHRcdFx0XHRcdFx0XHRcdGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBiZWdpbiB0aGUgbG9vcCB3LyBmaXJzdCBjdXJyZW50IHN0cmluZyAoZ2xvYmFsIHNlbGYuc3RyaW5ncylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGN1cnJlbnQgc3RyaW5nIHdpbGwgYmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGVhY2ggdGltZSBhZnRlciB0aGlzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLnN0cmluZ3MubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnNlcXVlbmNlW2ldID0gaTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSAvLyBzaHVmZmxlIHRoZSBhcnJheSBpZiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLnNodWZmbGUpIHNlbGYuc2VxdWVuY2UgPSBzZWxmLnNodWZmbGVBcnJheShzZWxmLnNlcXVlbmNlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdGFydCB0eXBpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50eXBld3JpdGUoc2VsZi5zdHJpbmdzW3NlbGYuc2VxdWVuY2Vbc2VsZi5hcnJheVBvc11dLCBzZWxmLnN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBzZWxmLnN0YXJ0RGVsYXkpO1xuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHRidWlsZDogZnVuY3Rpb24gYnVpbGQoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJbnNlcnQgY3Vyc29yXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zaG93Q3Vyc29yID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuY3Vyc29yID0gJChcIjxzcGFuIGNsYXNzPVxcXCJ0eXBlZC1jdXJzb3JcXFwiPlwiICsgdGhpcy5jdXJzb3JDaGFyICsgXCI8L3NwYW4+XCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmVsLmFmdGVyKHRoaXMuY3Vyc29yKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLnN0cmluZ3NFbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RyaW5ncyA9IFtdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0cmluZ3NFbGVtZW50LmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGhpcy5zdHJpbmdzRWxlbWVudC5jaGlsZHJlbigpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHN0cmluZ3MgPSB0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQuZWFjaChzdHJpbmdzLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuc3RyaW5ncy5wdXNoKCQodmFsdWUpLmh0bWwoKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5pbml0KCk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIHBhc3MgY3VycmVudCBzdHJpbmcgc3RhdGUgdG8gZWFjaCBmdW5jdGlvbiwgdHlwZXMgMSBjaGFyIHBlciBjYWxsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZXdyaXRlOiBmdW5jdGlvbiB0eXBld3JpdGUoY3VyU3RyaW5nLCBjdXJTdHJQb3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGV4aXQgd2hlbiBzdG9wcGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdG9wID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gdmFyeWluZyB2YWx1ZXMgZm9yIHNldFRpbWVvdXQgZHVyaW5nIHR5cGluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gY2FuJ3QgYmUgZ2xvYmFsIHNpbmNlIG51bWJlciBjaGFuZ2VzIGVhY2ggdGltZSBsb29wIGlzIGV4ZWN1dGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaHVtYW5pemUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoMTAwIC0gMzApKSArIHRoaXMudHlwZVNwZWVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAtLS0tLS0tLS0tLS0tIG9wdGlvbmFsIC0tLS0tLS0tLS0tLS0gLy9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGJhY2twYWNlcyBhIGNlcnRhaW4gc3RyaW5nIGZhc3RlclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBpZiAoc2VsZi5hcnJheVBvcyA9PSAxKXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vICBzZWxmLmJhY2tEZWxheSA9IDUwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gZWxzZXsgc2VsZi5iYWNrRGVsYXkgPSA1MDA7IH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gY29udGFpbiB0eXBpbmcgZnVuY3Rpb24gaW4gYSB0aW1lb3V0IGh1bWFuaXplJ2QgZGVsYXlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjaGVjayBmb3IgYW4gZXNjYXBlIGNoYXJhY3RlciBiZWZvcmUgYSBwYXVzZSB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBmb3JtYXQ6IFxcXlxcZCsgLi4gZWc6IF4xMDAwIC4uIHNob3VsZCBiZSBhYmxlIHRvIHByaW50IHRoZSBeIHRvbyB1c2luZyBeXlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBzaW5nbGUgXiBhcmUgcmVtb3ZlZCBmcm9tIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgY2hhclBhdXNlID0gMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHN1YnN0ciA9IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHN1YnN0ci5jaGFyQXQoMCkgPT09ICdeJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBza2lwID0gMTsgLy8gc2tpcCBhdGxlYXN0IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoL15cXF5cXGQrLy50ZXN0KHN1YnN0cikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN1YnN0ciA9IC9cXGQrLy5leGVjKHN1YnN0cilbMF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRza2lwICs9IHN1YnN0ci5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGFyUGF1c2UgPSBwYXJzZUludChzdWJzdHIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHN0cmlwIG91dCB0aGUgZXNjYXBlIGNoYXJhY3RlciBhbmQgcGF1c2UgdmFsdWUgc28gdGhleSdyZSBub3QgcHJpbnRlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0cmluZyA9IGN1clN0cmluZy5zdWJzdHJpbmcoMCwgY3VyU3RyUG9zKSArIGN1clN0cmluZy5zdWJzdHJpbmcoY3VyU3RyUG9zICsgc2tpcCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gc2tpcCBvdmVyIGh0bWwgdGFncyB3aGlsZSB0eXBpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgY3VyQ2hhciA9IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKS5jaGFyQXQoMCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGN1ckNoYXIgPT09ICc8JyB8fCBjdXJDaGFyID09PSAnJicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB0YWcgPSAnJztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBlbmRUYWcgPSAnJztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjdXJDaGFyID09PSAnPCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW5kVGFnID0gJz4nO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW5kVGFnID0gJzsnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zICsgMSkuY2hhckF0KDApICE9PSBlbmRUYWcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFnICs9IGN1clN0cmluZy5zdWJzdHIoY3VyU3RyUG9zKS5jaGFyQXQoMCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0clBvcysrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY3VyU3RyUG9zICsgMSA+IGN1clN0cmluZy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YWcgKz0gZW5kVGFnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHRpbWVvdXQgZm9yIGFueSBwYXVzZSBhZnRlciBhIGNoYXJhY3RlclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY3VyU3RyUG9zID09PSBjdXJTdHJpbmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBmaXJlcyBjYWxsYmFjayBmdW5jdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5vcHRpb25zLm9uU3RyaW5nVHlwZWQoc2VsZi5hcnJheVBvcyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGlzIHRoaXMgdGhlIGZpbmFsIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuYXJyYXlQb3MgPT09IHNlbGYuc3RyaW5ncy5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuaW1hdGlvbiB0aGF0IG9jY3VycyBvbiB0aGUgbGFzdCB0eXBlZCBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5vcHRpb25zLmNhbGxiYWNrKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5jdXJMb29wKys7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gcXVpdCBpZiB3ZSB3b250IGxvb3AgYmFja1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5sb29wID09PSBmYWxzZSB8fCBzZWxmLmN1ckxvb3AgPT09IHNlbGYubG9vcENvdW50KSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBzZWxmLmJhY2tEZWxheSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LyogY2FsbCBiZWZvcmUgZnVuY3Rpb25zIGlmIGFwcGxpY2FibGUgKi9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgPT09IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5vcHRpb25zLnByZVN0cmluZ1R5cGVkKHNlbGYuYXJyYXlQb3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBzdGFydCB0eXBpbmcgZWFjaCBuZXcgY2hhciBpbnRvIGV4aXN0aW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gY3VyU3RyaW5nOiBhcmcsIHNlbGYuZWwuaHRtbDogb3JpZ2luYWwgdGV4dCBpbnNpZGUgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG5leHRTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyKDAsIGN1clN0clBvcyArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuYXR0cikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLmF0dHIoc2VsZi5hdHRyLCBuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmlzSW5wdXQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLnZhbChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLmNvbnRlbnRUeXBlID09PSAnaHRtbCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLmh0bWwobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5lbC50ZXh0KG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFkZCBjaGFyYWN0ZXJzIG9uZSBieSBvbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0clBvcysrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gbG9vcCB0aGUgZnVuY3Rpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudHlwZXdyaXRlKGN1clN0cmluZywgY3VyU3RyUG9zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gZW5kIG9mIGNoYXJhY3RlciBwYXVzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjaGFyUGF1c2UpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh1bWFuaXplZCB2YWx1ZSBmb3IgdHlwaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBodW1hbml6ZSk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHRcdGJhY2tzcGFjZTogZnVuY3Rpb24gYmFja3NwYWNlKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBleGl0IHdoZW4gc3RvcHBlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHZhcnlpbmcgdmFsdWVzIGZvciBzZXRUaW1lb3V0IGR1cmluZyB0eXBpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGNhbid0IGJlIGdsb2JhbCBzaW5jZSBudW1iZXIgY2hhbmdlcyBlYWNoIHRpbWUgbG9vcCBpcyBleGVjdXRlZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGh1bWFuaXplID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKDEwMCAtIDMwKSkgKyB0aGlzLmJhY2tTcGVlZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLS0tLS0gdGhpcyBwYXJ0IGlzIG9wdGlvbmFsIC0tLS0tIC8vXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGNoZWNrIHN0cmluZyBhcnJheSBwb3NpdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBvbiB0aGUgZmlyc3Qgc3RyaW5nLCBvbmx5IGRlbGV0ZSBvbmUgd29yZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyB0aGUgc3RvcE51bSBhY3R1YWxseSByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgY2hhcnMgdG9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8ga2VlcCBpbiB0aGUgY3VycmVudCBzdHJpbmcuIEluIG15IGNhc2UgaXQncyAxNC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaWYgKHNlbGYuYXJyYXlQb3MgPT0gMSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vICBzZWxmLnN0b3BOdW0gPSAxNDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL2V2ZXJ5IG90aGVyIHRpbWUsIGRlbGV0ZSB0aGUgd2hvbGUgdHlwZWQgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGVsc2V7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vICBzZWxmLnN0b3BOdW0gPSAwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyB9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHNraXAgb3ZlciBodG1sIHRhZ3Mgd2hpbGUgYmFja3NwYWNpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MpLmNoYXJBdCgwKSA9PT0gJz4nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdGFnID0gJyc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MgLSAxKS5jaGFyQXQoMCkgIT09ICc8Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YWcgLT0gY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MpLmNoYXJBdCgwKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y3VyU3RyUG9zLS07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgPCAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFnICs9ICc8Jztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAtLS0tLSBjb250aW51ZSBpbXBvcnRhbnQgc3R1ZmYgLS0tLS0gLy9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gcmVwbGFjZSB0ZXh0IHdpdGggYmFzZSB0ZXh0ICsgdHlwZWQgY2hhcmFjdGVyc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuYXR0cikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwuYXR0cihzZWxmLmF0dHIsIG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmlzSW5wdXQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwudmFsKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLmh0bWwobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwudGV4dChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBpZiB0aGUgbnVtYmVyIChpZCBvZiBjaGFyYWN0ZXIgaW4gY3VycmVudCBzdHJpbmcpIGlzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGxlc3MgdGhhbiB0aGUgc3RvcCBudW1iZXIsIGtlZXAgZ29pbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyA+IHNlbGYuc3RvcE51bSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHN1YnRyYWN0IGNoYXJhY3RlcnMgb25lIGJ5IG9uZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGxvb3AgdGhlIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5iYWNrc3BhY2UoY3VyU3RyaW5nLCBjdXJTdHJQb3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGlmIHRoZSBzdG9wIG51bWJlciBoYXMgYmVlbiByZWFjaGVkLCBpbmNyZWFzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhcnJheSBwb3NpdGlvbiB0byBuZXh0IHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIChjdXJTdHJQb3MgPD0gc2VsZi5zdG9wTnVtKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLmFycmF5UG9zKys7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLmFycmF5UG9zID09PSBzZWxmLnN0cmluZ3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuYXJyYXlQb3MgPSAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNodWZmbGUgc2VxdWVuY2UgYWdhaW5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuc2h1ZmZsZSkgc2VsZi5zZXF1ZW5jZSA9IHNlbGYuc2h1ZmZsZUFycmF5KHNlbGYuc2VxdWVuY2UpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuaW5pdCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHNlbGYudHlwZXdyaXRlKHNlbGYuc3RyaW5nc1tzZWxmLnNlcXVlbmNlW3NlbGYuYXJyYXlQb3NdXSwgY3VyU3RyUG9zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHVtYW5pemVkIHZhbHVlIGZvciB0eXBpbmdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGh1bWFuaXplKTtcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdC8qKlxuICAgICAgICAgKiBTaHVmZmxlcyB0aGUgbnVtYmVycyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgICAgICovXG5cdFx0XHRcdFx0XHRcdFx0c2h1ZmZsZUFycmF5OiBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB0bXAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgY3VycmVudCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICB0b3AgPSBhcnJheS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodG9wKSB3aGlsZSAoLS10b3ApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0b3AgKyAxKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRtcCA9IGFycmF5W2N1cnJlbnRdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcnJheVtjdXJyZW50XSA9IGFycmF5W3RvcF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFycmF5W3RvcF0gPSB0bXA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXJyYXk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN0YXJ0ICYgU3RvcCBjdXJyZW50bHkgbm90IHdvcmtpbmdcblxuXHRcdFx0XHRcdFx0XHRcdC8vICwgc3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gICAgIHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0XHRcdFx0XHRcdC8vICAgICBzZWxmLnN0b3AgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdC8vICAgICBjbGVhckludGVydmFsKHNlbGYudGltZW91dCk7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gfVxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gLCBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gICAgIHZhciBzZWxmID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHQvLyAgICAgaWYoc2VsZi5zdG9wID09PSBmYWxzZSlcblx0XHRcdFx0XHRcdFx0XHQvLyAgICAgICAgcmV0dXJuO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gICAgIHRoaXMuc3RvcCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdC8vICAgICB0aGlzLmluaXQoKTtcblx0XHRcdFx0XHRcdFx0XHQvLyB9XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBSZXNldCBhbmQgcmVidWlsZCB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBpZCA9IHRoaXMuZWwuYXR0cignaWQnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZWwuZW1wdHkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgdGhpcy5jdXJzb3IgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuY3Vyc29yLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHJQb3MgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcnJheVBvcyA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmN1ckxvb3AgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU2VuZCB0aGUgY2FsbGJhY2tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMub3B0aW9ucy5yZXNldENhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JC5mbi50eXBlZCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ3R5cGVkJyksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgb3B0aW9ucyA9ICh0eXBlb2Ygb3B0aW9uID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvcHRpb24pKSA9PSAnb2JqZWN0JyAmJiBvcHRpb247XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhLnJlc2V0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkdGhpcy5kYXRhKCd0eXBlZCcsIGRhdGEgPSBuZXcgVHlwZWQodGhpcywgb3B0aW9ucykpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCQuZm4udHlwZWQuZGVmYXVsdHMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RyaW5nczogW1wiVGhlc2UgYXJlIHRoZSBkZWZhdWx0IHZhbHVlcy4uLlwiLCBcIllvdSBrbm93IHdoYXQgeW91IHNob3VsZCBkbz9cIiwgXCJVc2UgeW91ciBvd24hXCIsIFwiSGF2ZSBhIGdyZWF0IGRheSFcIl0sXG5cdFx0XHRcdFx0XHRcdFx0c3RyaW5nc0VsZW1lbnQ6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdHlwaW5nIHNwZWVkXG5cdFx0XHRcdFx0XHRcdFx0dHlwZVNwZWVkOiAwLFxuXHRcdFx0XHRcdFx0XHRcdC8vIHRpbWUgYmVmb3JlIHR5cGluZyBzdGFydHNcblx0XHRcdFx0XHRcdFx0XHRzdGFydERlbGF5OiAwLFxuXHRcdFx0XHRcdFx0XHRcdC8vIGJhY2tzcGFjaW5nIHNwZWVkXG5cdFx0XHRcdFx0XHRcdFx0YmFja1NwZWVkOiAwLFxuXHRcdFx0XHRcdFx0XHRcdC8vIHNodWZmbGUgdGhlIHN0cmluZ3Ncblx0XHRcdFx0XHRcdFx0XHRzaHVmZmxlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHQvLyB0aW1lIGJlZm9yZSBiYWNrc3BhY2luZ1xuXHRcdFx0XHRcdFx0XHRcdGJhY2tEZWxheTogNTAwLFxuXHRcdFx0XHRcdFx0XHRcdC8vIGxvb3Bcblx0XHRcdFx0XHRcdFx0XHRsb29wOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHQvLyBmYWxzZSA9IGluZmluaXRlXG5cdFx0XHRcdFx0XHRcdFx0bG9vcENvdW50OiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHQvLyBzaG93IGN1cnNvclxuXHRcdFx0XHRcdFx0XHRcdHNob3dDdXJzb3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gY2hhcmFjdGVyIGZvciBjdXJzb3Jcblx0XHRcdFx0XHRcdFx0XHRjdXJzb3JDaGFyOiBcInxcIixcblx0XHRcdFx0XHRcdFx0XHQvLyBhdHRyaWJ1dGUgdG8gdHlwZSAobnVsbCA9PSB0ZXh0KVxuXHRcdFx0XHRcdFx0XHRcdGF0dHI6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZWl0aGVyIGh0bWwgb3IgdGV4dFxuXHRcdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlOiAnaHRtbCcsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gY2FsbCB3aGVuIGRvbmUgY2FsbGJhY2sgZnVuY3Rpb25cblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7fSxcblx0XHRcdFx0XHRcdFx0XHQvLyBzdGFydGluZyBjYWxsYmFjayBmdW5jdGlvbiBiZWZvcmUgZWFjaCBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRwcmVTdHJpbmdUeXBlZDogZnVuY3Rpb24gcHJlU3RyaW5nVHlwZWQoKSB7fSxcblx0XHRcdFx0XHRcdFx0XHQvL2NhbGxiYWNrIGZvciBldmVyeSB0eXBlZCBzdHJpbmdcblx0XHRcdFx0XHRcdFx0XHRvblN0cmluZ1R5cGVkOiBmdW5jdGlvbiBvblN0cmluZ1R5cGVkKCkge30sXG5cdFx0XHRcdFx0XHRcdFx0Ly8gY2FsbGJhY2sgZm9yIHJlc2V0XG5cdFx0XHRcdFx0XHRcdFx0cmVzZXRDYWxsYmFjazogZnVuY3Rpb24gcmVzZXRDYWxsYmFjaygpIHt9XG5cdFx0XHRcdH07XG59KHdpbmRvdy5qUXVlcnkpOyIsIlxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsndWkucm91dGVyJywgJ3VpLmJvb3RzdHJhcCcsICduZ0FuaW1hdGUnLCdhbmd1bGFyLXR5cGVkJ10pO1xuXG4vLyBhcHAucnVuKGZ1bmN0aW9uKGVkaXRhYmxlT3B0aW9ucykge1xuLy8gICAgIGVkaXRhYmxlT3B0aW9ucy50aGVtZSA9ICdiczMnOyAvLyBib290c3RyYXAzIHRoZW1lLiBDYW4gYmUgYWxzbyAnYnMyJywgJ2RlZmF1bHQnXG4vLyB9KTtcblxuYXBwLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgfSk7XG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcIi9cIik7XG59XSk7XG5cbi8vIGFwcC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwgJHN0YXRlLCBhdXRoRmFjdG9yeSkge1xuLy8gICAgICRyb290U2NvcGUuYWRtaW4gPSBudWxsO1xuLy8gICAgICRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGF1dGhGYWN0b3J5KSB7XG4vLyAgICAgICAgIGlmICh0b1N0YXRlLmF1dGhlbnRpY2F0ZSAmJiAhYXV0aEZhY3RvcnkuaXNBZG1pbigpKSB7XG4vLyAgICAgICAgICAgICAvLyBVc2VyIGlzbuKAmXQgYXV0aGVudGljYXRlZFxuLy8gICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbyhcImhvbWVcIik7XG4vLyAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG4vLyB9KTtcblxuXG4iLCJhcHAuY29uZmlnKCRzdGF0ZVByb3ZpZGVyID0+IHtcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYWJvdXQnLCB7XG4gICAgICAgIHVybDogJy9hYm91dCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2Fib3V0L2Fib3V0Lmh0bWwnLFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgfSlcbn0pXG4iLCJhcHAuY29udHJvbGxlcignYWRtaW5Db250cm9sbGVyJywgKCRzY29wZSwgJHN0YXRlLCBhZG1pbkZhY3RvcnksIGFsbFByb2plY3RzLCBhdXRoRmFjdG9yeSkgPT4ge1xuXG4gICAgJHNjb3BlLnN1Ym1pdFByb2plY3QgPSBmdW5jdGlvbihwcm9qZWN0KSB7XG4gICAgICAgIGFkbWluRmFjdG9yeS5wb3N0UHJvamVjdChwcm9qZWN0KVxuICAgICAgICAkc2NvcGUucHJvamVjdCA9IG51bGw7XG4gICAgfVxuXG4gICAgJHNjb3BlLmFsbFByb2plY3RzID0gYWxsUHJvamVjdHMgfHwgW3sgaWQ6IDAsIG5hbWU6ICdlbXB0eScsIGRlcGxveTogJ2VtcHR5JywgZ2l0SHViOiBcImVtcHR5XCIgfV1cblxuICAgICRzY29wZS5kYXRhID0ge1xuICAgICAgICBhdmFpbGFibGVQcm9qZWN0czogJHNjb3BlLmFsbFByb2plY3RzLFxuICAgICAgICBzZWxlY3RlZFByb2plY3Q6IHsgaWQ6IDAsIG5hbWU6ICdlbXB0eScsIGRlcGxveTogJ2VtcHR5JywgZ2l0SHViOiAnZW1wdHknLCBkZXNjcmlwdGlvbjogXCJlbXB0eVwiIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0ZWRwcm9qZWN0Q2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuY3VycmVudFByb2plY3QgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xuICAgIH1cblxuICAgICRzY29wZS5sb2dPdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYXV0aEZhY3RvcnkubG9nT3V0KClcbiAgICAgICAgJHN0YXRlLmdvKCdob21lJylcbiAgICB9XG59KVxuIiwiYXBwLmRpcmVjdGl2ZSgncHJvamVjdEVkaXQnLCBwcm9qZWN0RmFjdG9yeSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHByb2plY3Q6ICc9cHJvamVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbkVkaXQuaHRtbCdcbiAgICB9O1xufSk7XG4iLCJhcHAuZmFjdG9yeSgnYWRtaW5GYWN0b3J5JywgJGh0dHAgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvc3RQcm9qZWN0OiBwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Byb2plY3QnLCBwcm9qZWN0KVxuICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH0sXG4gICAgICAgIGdldEFsbFByb2plY3RzOiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3QnKVxuICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH1cbiAgICB9XG59KVxuIiwiYXBwLmNvbmZpZygkc3RhdGVQcm92aWRlciA9PiB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2FkbWluJywge1xuICAgICAgICB1cmw6ICcvYWRtaW4nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9hZG1pbi9hZG1pbi5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2FkbWluQ29udHJvbGxlcicsXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgYWxsUHJvamVjdHM6IGFkbWluRmFjdG9yeSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkbWluRmFjdG9yeS5nZXRBbGxQcm9qZWN0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbn0pXG4iLCJhcHAuY29udHJvbGxlcignYXV0aENvbnRyb2xsZXInLCAoJHNjb3BlLCBhdXRoRmFjdG9yeSkgPT4ge1xuICAgICRzY29wZS5pc0FkbWluID0gYXV0aEZhY3RvcnkuaXNBZG1pbigpXG59KVxuIiwiYXBwLmZhY3RvcnkoJ2F1dGhGYWN0b3J5JywgKCRodHRwLCAkc3RhdGUsICRyb290U2NvcGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0FkbWluOiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gISEkcm9vdFNjb3BlLmFkbWluXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ2luOiBsb2dpbkluZm8gPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hdXRoZW50aWNhdGlvbi8nICsgbG9naW5JbmZvLm5hbWUgKyAnLycgKyBsb2dpbkluZm8ucGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uRGVjaXNpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdXRoZW50aWNhdGlvbkRlY2lzaW9uLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkbWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRtaW4gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0aGVudGljYXRpb25EZWNpc2lvblxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgpXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ091dDogKCkgPT4ge1xuICAgICAgICAgICAgJHJvb3RTY29wZS5hZG1pbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59KVxuIiwiYXBwLmNvbnRyb2xsZXIoJ2NvbnRhY3RDb250cm9sbGVyJywgKCRzY29wZSwgcG9zdHMsIGZlZWRCYWNrRmFjdG9yeSkgPT4ge1xuICAgICRzY29wZS5wb3N0cyA9IHBvc3RzO1xuICAgICRzY29wZS5nZXRSZXBsaWVzID0gZmVlZEJhY2tGYWN0b3J5LmdldFJlcGxpZXM7XG4gICAgJHNjb3BlLnBvc3RSZXBseSA9IChwb3N0SWQsIGNvbnRlbnQpID0+IHtcbiAgICAgICAgbGV0IHJlcGx5SW5mbyA9IHsgcG9zdElkLCBjb250ZW50IH1cbiAgICAgICAgZmVlZEJhY2tGYWN0b3J5LnBvc3RSZXBsWShyZXBseUluZm8pXG4gICAgfVxuXG4gICAgJHNjb3BlLnN1Ym1pdEZvcm0gPSBkYXRhID0+IHtcbiAgICAgICAgZmVlZEJhY2tGYWN0b3J5LnBvc3RDb21tZW50KGRhdGEpXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICBuZXdQb3N0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RzWyRzY29wZS5wb3N0cy5sZW5ndGhdID0gbmV3UG9zdFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICAkc2NvcGUudXNlciA9IG51bGxcbiAgICAgICAgJHNjb3BlLnVzZXJGb3JtLiRzZXRQcmlzdGluZSh0cnVlKVxuICAgIH1cblxuICAgICRzY29wZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUudXNlciA9IG51bGxcbiAgICAgICAgJHNjb3BlLnVzZXJGb3JtLiRzZXRQcmlzdGluZSh0cnVlKVxuICAgIH1cblxuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS5tZXNzYWdlICYmICRzY29wZS5lbWFpbCAmJiAkc2NvcGUubmFtZSkge1xuICAgICAgICAgICAgY29udHJvbGxlckZhY3Rvcnkuc2VuZE1lc3NhZ2UoJHNjb3BlLm5hbWUsICRzY29wZS5lbWFpbCwgJHNjb3BlLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICB9XG59KVxuIiwiYXBwLmRpcmVjdGl2ZSgncmVwbGllcycsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdwb3N0IGRpcmVjdGl2ZScpXG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgcG9zdDogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9jb250YWN0L3RlbXBsYXRlL3JlcGx5Vmlldy5odG1sJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgICAgICAgICAgIHNjb3BlLnJlcGxpZXMgPSBbXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogJ0hvbWUnLCBzdGF0ZTogJ2hvbWUnIH0sXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogJ1Byb2plY3RzJywgc3RhdGU6ICdwcm9qZWN0cycgfSxcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnQWJvdXQgTWUnLCBzdGF0ZTogJ2Fib3V0JyB9LFxuICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdDb250YWN0IE1lJywgc3RhdGU6ICdjb250YWN0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9XG59KVxuIiwiYXBwLmZhY3RvcnkoJ2ZlZWRCYWNrRmFjdG9yeScsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgICBjb25zb2xlLmxvZyhcIkluIHRoZSBmZWViYWNrIGZhY3RvcnlcIilcbiAgICB2YXIgZmVlZEJhY2tGYWN0b3J5ID0ge31cbiAgICBmZWVkQmFja0ZhY3RvcnkuZ2V0UG9zdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jb21tZW50JylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldHRpbmcgY29tbWVudHMnKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKClcbiAgICB9XG4gICAgZmVlZEJhY2tGYWN0b3J5LnBvc3RDb21tZW50ID0gZnVuY3Rpb24oY29udGVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnUG9zdGluZyBjb21tZW50JylcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIGNvbnRlbnQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihzdWNjZXNmdWxDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3VjY2VzZnVsQ29tbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzZnVsQ29tbWVudC5kYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKClcbiAgICB9XG4gICAgZmVlZEJhY2tGYWN0b3J5LmdldFJlcGxpZXMgPSBmdW5jdGlvbihjb21tZW50SWQpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXBseS8nICsgY29tbWVudElkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVwbGllcykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3QgY29tbWVudHMnKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXBsaWVzLmRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKVxuICAgIH1cbiAgICBmZWVkQmFja0ZhY3RvcnkucG9zdFJlcGxZID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICBjb25zb2xlLmxvZygncnVubmluZyBwb3N0IHJlcGx5JywgbWVzc2FnZSlcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVwbHkvJywge3Bvc3RfaWQ6cGFyc2VJbnQobWVzc2FnZS5wb3N0SWQucG9zdElkKSAsY29udGVudDptZXNzYWdlLmNvbnRlbnQuY29udGVudH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihwb3N0ZWRDb21tZW50KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdGVkQ29tbWVudC5kYXRhXG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBmZWVkQmFja0ZhY3RvcnlcblxufSlcbiIsImFwcC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnY29udGFjdCcsIHtcbiAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9jb250YWN0L2NvbnRhY3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2UsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIHBvc3RzOiBmdW5jdGlvbihmZWVkQmFja0ZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW52b2tpbmcgZmVlZEJhY2tGYWN0b3J5JylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmVlZEJhY2tGYWN0b3J5LmdldFBvc3RzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxufSlcbiIsImNvbnNvbGUubG9nKCdiYXIgY3RybCBsb2FkZWQnKVxuXG5hcHAuY29udHJvbGxlcihcIkJhckN0cmxcIiwgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCkge1xuXG5cdCAgICAkc2NvcGUudGltZUluTXMgPSAwO1xuXG4gICAgdmFyIGNvdW50VXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnRpbWVJbk1zKz0gNTAwO1xuICAgICAgICAkdGltZW91dChjb3VudFVwLCA1MDApO1xuICAgIH1cblxuICAgICR0aW1lb3V0KGNvdW50VXAsIDUwMCk7XG5cbn0pO1xuIiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJywge1xuICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvaG9tZS9ob21lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQmFyQ3RybCcsXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICB9KVxufSlcbiIsImFwcC5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgYXV0aEZhY3RvcnksICRsb2NhdGlvbikge1xuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbG9naW5JbmZvID0geyBuYW1lOiAkc2NvcGUudXNlcm5hbWUsIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmQgfVxuICAgICAgICBhdXRoRmFjdG9yeS5sb2dpbihsb2dpbkluZm8pXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnLCB7fSwgeyByZWxvYWQ6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKCk7XG5cblxuICAgIH1cbn0pXG4iLCJhcHAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2xvZ2luJywge1xuICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9sb2dpbi9sb2dpbi5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcicsXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICB9KVxufSlcbiIsImFwcC5kaXJlY3RpdmUoJ25hdmJhcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgYXV0aEZhY3RvcnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBzY29wZToge30sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbmF2QmFyL25hdmJhci5odG1sJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgIHNjb3BlLnNob3dMaW5rID0gZnVuY3Rpb24obGluaykge1xuICAgICAgICAgICAgICAgIHJldHVybiAhbGluay5pc0FkbWluICYmIChsaW5rLnN0YXRlID09PSAnYWRtaW4nIHx8IGxpbmsuc3RhdGUgPT09ICdsb2dpbicpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV0aEZhY3RvcnkuaXNBZG1pbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS5saW5rcyA9IFtcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnSG9tZScsIHN0YXRlOiAnaG9tZScgfSxcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnUHJvamVjdHMnLCBzdGF0ZTogJ3Byb2plY3RzJyB9LFxuICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdBYm91dCBNZScsIHN0YXRlOiAnYWJvdXQnIH1cbiAgICAgICAgICAgICAgICAvLyB7IGxhYmVsOiAnRmVlZGJhY2snLCBzdGF0ZTogJ2NvbnRhY3QnIH0sXG4gICAgICAgICAgICAgICAgLy8geyBsYWJlbDogJ0FkbWluICcsIHN0YXRlOiAnYWRtaW4nLCBpc0FkbWluOiAhJHJvb3RTY29wZS5hZG1pbiB9LFxuICAgICAgICAgICAgICAgIC8vIHsgbGFiZWw6ICdBZG1pbmlzdHJhdG9yJywgc3RhdGU6ICdsb2dpbicsIGlzQWRtaW46ICRyb290U2NvcGUuYWRtaW4gfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfVxufSlcbiIsImFwcC5jb250cm9sbGVyKCdwcm9qZWN0Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgYWxsUHJvamVjdHMpIHtcbiAgICAkc2NvcGUucHJvamVjdHMgPSBhbGxQcm9qZWN0c1xufSlcblxuYXBwLmNvbnRyb2xsZXIoJ3NpbmdsZVByb2plY3RDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCBwcm9qZWN0RmFjdG9yeSwgY3VycmVudFByb2plY3QsICRzY2UpIHtcbiAgICAkc2NvcGUuY3VycmVudFByb2plY3QgPSBjdXJyZW50UHJvamVjdDtcblxuICAgICRzY29wZS50cnVzdFNyYyA9IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoc3JjKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubW92aWUgPSB7IHNyYzogJHNjb3BlLmN1cnJlbnRQcm9qZWN0LnZpZGVvTGluayB9XG5cbiAgICAkc2NvcGUuaGFzVmlkZW9MaW5rID0gZnVuY3Rpb24gaGFzVmlkZW9MaW5rKCkge1xuICAgICAgICByZXR1cm4gISFjdXJyZW50UHJvamVjdC52aWRlb0xpbmtcbiAgICB9XG59KVxuIiwiYXBwLmRpcmVjdGl2ZSgncHJvamVjdFRpbGUnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBwcm9qZWN0OiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9wcm9qZWN0cy9zaW5nbGVQcm9qZWN0L3NpbmdsZVByb2plY3RUaWxlLmh0bWwnXG4gICAgfVxufSk7XG4iLCJhcHAuZmFjdG9yeSgncHJvamVjdEZhY3RvcnknLCBmdW5jdGlvbigkaHR0cCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEFsbFByb2plY3RzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcHJvamVjdCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH0sXG4gICAgICAgIGdldFNpbmdsZVByb2plY3Q6IGZ1bmN0aW9uKHByb2plY3RJRCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0LycgKyBwcm9qZWN0SUQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RQcm9qZWN0OiBmdW5jdGlvbihwcm9qZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0JywgcHJvamVjdClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKClcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUHJvamVjdDogZnVuY3Rpb24odXBkYXRlZFByb2plY3QpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJ2FwaS9wcm9qZWN0JywgdXBkYXRlZFByb2plY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH1cbiAgICB9XG59KVxuIiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdwcm9qZWN0cycsIHtcbiAgICAgICAgdXJsOiAnL3Byb2plY3RzJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvcHJvamVjdHMvcHJvamVjdHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdwcm9qZWN0Q29udHJvbGxlcicsXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2UsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGFsbFByb2plY3RzOiBmdW5jdGlvbihwcm9qZWN0RmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0RmFjdG9yeS5nZXRBbGxQcm9qZWN0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdzaW5nbGVQcm9qZWN0Jywge1xuICAgICAgICB1cmw6ICcvcHJvamVjdHMvOmlkJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvcHJvamVjdHMvc2luZ2xlUHJvamVjdC9zaW5nbGVQcm9qZWN0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnc2luZ2xlUHJvamVjdENvbnRyb2xsZXInLFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdDogZnVuY3Rpb24ocHJvamVjdEZhY3RvcnksICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0RmFjdG9yeS5nZXRTaW5nbGVQcm9qZWN0KCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSlcbiIsIihmdW5jdGlvbiAoKSB7XG5cblx0Y29uc29sZS5sb2coJ2FiLlR5cGVpdCBhYm91dCB0bycpXG5cdGFuZ3VsYXIubW9kdWxlKCdhYi5UeXBlaXQnLCBbXSkuZGlyZWN0aXZlKCdhYlR5cGVpdCcsIGZ1bmN0aW9uKCkge1xuXHRcdGNvbmVvbGUubG9nKCdydW5uaW5nIHRoZSB3cmFwcGVyJylcblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcblx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdHR5cGVpdFN0cmluZ3M6ICc9YWJUeXBlaXQnLFxuXHRcdFx0XHR0eXBlaXRMb29wOiAnPScsXG5cdFx0XHRcdHR5cGVpdExvb3BEZWxheTogJz0nLFxuXHRcdFx0XHR0eXBlaXRCcmVha0xpbmVzOiAnPScsXG5cdFx0XHRcdHR5cGVpdFNwZWVkOiAnPScsXG5cdFx0XHRcdHR5cGVpdExpZmVMaWtlOiAnPScsXG5cdFx0XHRcdHR5cGVpdEN1cnNvcjogJz0nLFxuXHRcdFx0XHR0eXBlaXRDdXJzb3JTcGVlZDogJz0nLFxuXHRcdFx0XHR0eXBlaXRTdGFydERlbGF5OiAnPScsXG5cdFx0XHRcdHR5cGVpdEJyZWFrRGVsYXk6ICc9J1xuXHRcdFx0fSxcblx0XHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcblx0XHRcdFx0dmFyIHR5cGVJdEVsZW1lbnQgPSAkKCRlbGVtZW50KTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHR5cGVJdEVsZW1lbnQudHlwZUl0KHtcblx0XHRcdFx0XHRcdHN0cmluZ3M6ICRzY29wZS50eXBlaXRTdHJpbmdzLFxuXHRcdFx0XHRcdFx0bG9vcDogJHNjb3BlLnR5cGVpdExvb3AsXG5cdFx0XHRcdFx0XHRsb29wRGVsYXk6ICRzY29wZS50eXBlaXRMb29wRGVsYXksXG5cdFx0XHRcdFx0XHRicmVha0xpbmVzOiAkc2NvcGUudHlwZWl0QnJlYWtMaW5lcyxcblx0XHRcdFx0XHRcdHNwZWVkOiAkc2NvcGUudHlwZWl0U3BlZWQsXG5cdFx0XHRcdFx0XHRsaWZlTGlrZTogJHNjb3BlLnR5cGVpdExpZmVMaWtlLFxuXHRcdFx0XHRcdFx0Y3Vyc29yOiAkc2NvcGUudHlwZWl0Q3Vyc29yLFxuXHRcdFx0XHRcdFx0Y3Vyc29yU3BlZWQ6ICRzY29wZS50eXBlaXRDdXJzb3JTcGVlZCxcblx0XHRcdFx0XHRcdHN0YXJ0RGVsYXk6ICRzY29wZS50eXBlaXRTdGFydERlbGF5LFxuXHRcdFx0XHRcdFx0YnJlYWtEZWxheTogJHNjb3BlLnR5cGVpdEJyZWFrRGVsYXlcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ09IIE5PISBhbmd1bGFyLXR5cGVpdCByZXF1aXJlcyB0eXBlaXQuanMgb24geW91ciBwYWdlIC0gZG8geW91IGhhdmUgaXQgbG9hZGVkPycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIlxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAkKFwiLmRldmVsb3BlclwiKVxuICAgICAgLnR5cGVkKHtcbiAgICAgICAgc3RyaW5nczogW1wiRnJvbnQtZW5kXCIsIFwiQmFjay1lbmRcIiwgXCJGdWxsc3RhY2tcIiwgXCJTb2Z0d2FyZVwiLFwiSmF2YVNjcmlwdFwiLFwiQW5ndWxhckpTXCJdLFxuICAgICAgICB0eXBlU3BlZWQ6IDI1MCxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgY3Vyc29yU3BlZWQ6MTAwLFxuICAgICAgICBsaWZlTGlrZTogdHJ1ZSxcbiAgICAgICAgY3Vyc2VyOiB0cnVlLFxuICAgICAgICBkZWxldGVTcGVlZDogMTAwMFxuICAgICAgfSk7XG4gIH07IiwiXG4vLyBHcmFiIG5vZGUgcGFja2FnZXNcbnZhciBndWxwID0gcmVxdWlyZSgnZ3VscCcpXG4gICAgcmVuYW1lID0gcmVxdWlyZSgnZ3VscC1yZW5hbWUnKVxuICAgIHVnbGlmeSA9IHJlcXVpcmUoJ2d1bHAtdWdsaWZ5Jyk7XG5cbiBcbmd1bHAudGFzaygnY29tcHJlc3MnLCBmdW5jdGlvbigpIHtcbiAgZ3VscC5zcmMoJ2pzLyouanMnKVxuICAgIC5waXBlKHVnbGlmeSgpKVxuICAgIC5waXBlKHJlbmFtZSgndHlwZWQubWluLmpzJykpXG4gICAgLnBpcGUoZ3VscC5kZXN0KCdkaXN0JykpXG59KTtcblxuLy8gRGVmYXVsdCBUYXNrXG5ndWxwLnRhc2soJ2RlZmF1bHQnLCBbJ2NvbXByZXNzJ10pO1xuIiwiIWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBzPWZ1bmN0aW9uKHMsZSl7dGhpcy5lbD10KHMpLHRoaXMub3B0aW9ucz10LmV4dGVuZCh7fSx0LmZuLnR5cGVkLmRlZmF1bHRzLGUpLHRoaXMuaXNJbnB1dD10aGlzLmVsLmlzKFwiaW5wdXRcIiksdGhpcy5hdHRyPXRoaXMub3B0aW9ucy5hdHRyLHRoaXMuc2hvd0N1cnNvcj10aGlzLmlzSW5wdXQ/ITE6dGhpcy5vcHRpb25zLnNob3dDdXJzb3IsdGhpcy5lbENvbnRlbnQ9dGhpcy5hdHRyP3RoaXMuZWwuYXR0cih0aGlzLmF0dHIpOnRoaXMuZWwudGV4dCgpLHRoaXMuY29udGVudFR5cGU9dGhpcy5vcHRpb25zLmNvbnRlbnRUeXBlLHRoaXMudHlwZVNwZWVkPXRoaXMub3B0aW9ucy50eXBlU3BlZWQsdGhpcy5zdGFydERlbGF5PXRoaXMub3B0aW9ucy5zdGFydERlbGF5LHRoaXMuYmFja1NwZWVkPXRoaXMub3B0aW9ucy5iYWNrU3BlZWQsdGhpcy5iYWNrRGVsYXk9dGhpcy5vcHRpb25zLmJhY2tEZWxheSx0aGlzLnN0cmluZ3NFbGVtZW50PXRoaXMub3B0aW9ucy5zdHJpbmdzRWxlbWVudCx0aGlzLnN0cmluZ3M9dGhpcy5vcHRpb25zLnN0cmluZ3MsdGhpcy5zdHJQb3M9MCx0aGlzLmFycmF5UG9zPTAsdGhpcy5zdG9wTnVtPTAsdGhpcy5sb29wPXRoaXMub3B0aW9ucy5sb29wLHRoaXMubG9vcENvdW50PXRoaXMub3B0aW9ucy5sb29wQ291bnQsdGhpcy5jdXJMb29wPTAsdGhpcy5zdG9wPSExLHRoaXMuY3Vyc29yQ2hhcj10aGlzLm9wdGlvbnMuY3Vyc29yQ2hhcix0aGlzLnNodWZmbGU9dGhpcy5vcHRpb25zLnNodWZmbGUsdGhpcy5zZXF1ZW5jZT1bXSx0aGlzLmJ1aWxkKCl9O3MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpzLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBzPTA7czx0LnN0cmluZ3MubGVuZ3RoOysrcyl0LnNlcXVlbmNlW3NdPXM7dC5zaHVmZmxlJiYodC5zZXF1ZW5jZT10LnNodWZmbGVBcnJheSh0LnNlcXVlbmNlKSksdC50eXBld3JpdGUodC5zdHJpbmdzW3Quc2VxdWVuY2VbdC5hcnJheVBvc11dLHQuc3RyUG9zKX0sdC5zdGFydERlbGF5KX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgcz10aGlzO2lmKHRoaXMuc2hvd0N1cnNvcj09PSEwJiYodGhpcy5jdXJzb3I9dCgnPHNwYW4gY2xhc3M9XCJ0eXBlZC1jdXJzb3JcIj4nK3RoaXMuY3Vyc29yQ2hhcitcIjwvc3Bhbj5cIiksdGhpcy5lbC5hZnRlcih0aGlzLmN1cnNvcikpLHRoaXMuc3RyaW5nc0VsZW1lbnQpe3RoaXMuc3RyaW5ncz1bXSx0aGlzLnN0cmluZ3NFbGVtZW50LmhpZGUoKSxjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO3ZhciBlPXRoaXMuc3RyaW5nc0VsZW1lbnQuY2hpbGRyZW4oKTt0LmVhY2goZSxmdW5jdGlvbihlLGkpe3Muc3RyaW5ncy5wdXNoKHQoaSkuaHRtbCgpKX0pfXRoaXMuaW5pdCgpfSx0eXBld3JpdGU6ZnVuY3Rpb24odCxzKXtpZih0aGlzLnN0b3AhPT0hMCl7dmFyIGU9TWF0aC5yb3VuZCg3MCpNYXRoLnJhbmRvbSgpKSt0aGlzLnR5cGVTcGVlZCxpPXRoaXM7aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT0wLHI9dC5zdWJzdHIocyk7aWYoXCJeXCI9PT1yLmNoYXJBdCgwKSl7dmFyIG89MTsvXlxcXlxcZCsvLnRlc3QocikmJihyPS9cXGQrLy5leGVjKHIpWzBdLG8rPXIubGVuZ3RoLGU9cGFyc2VJbnQocikpLHQ9dC5zdWJzdHJpbmcoMCxzKSt0LnN1YnN0cmluZyhzK28pfWlmKFwiaHRtbFwiPT09aS5jb250ZW50VHlwZSl7dmFyIG49dC5zdWJzdHIocykuY2hhckF0KDApO2lmKFwiPFwiPT09bnx8XCImXCI9PT1uKXt2YXIgYT1cIlwiLGg9XCJcIjtmb3IoaD1cIjxcIj09PW4/XCI+XCI6XCI7XCI7dC5zdWJzdHIocysxKS5jaGFyQXQoMCkhPT1oJiYoYSs9dC5zdWJzdHIocykuY2hhckF0KDApLHMrKywhKHMrMT50Lmxlbmd0aCkpOyk7cysrLGErPWh9fWkudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYocz09PXQubGVuZ3RoKXtpZihpLm9wdGlvbnMub25TdHJpbmdUeXBlZChpLmFycmF5UG9zKSxpLmFycmF5UG9zPT09aS5zdHJpbmdzLmxlbmd0aC0xJiYoaS5vcHRpb25zLmNhbGxiYWNrKCksaS5jdXJMb29wKyssaS5sb29wPT09ITF8fGkuY3VyTG9vcD09PWkubG9vcENvdW50KSlyZXR1cm47aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmJhY2tzcGFjZSh0LHMpfSxpLmJhY2tEZWxheSl9ZWxzZXswPT09cyYmaS5vcHRpb25zLnByZVN0cmluZ1R5cGVkKGkuYXJyYXlQb3MpO3ZhciBlPXQuc3Vic3RyKDAscysxKTtpLmF0dHI/aS5lbC5hdHRyKGkuYXR0cixlKTppLmlzSW5wdXQ/aS5lbC52YWwoZSk6XCJodG1sXCI9PT1pLmNvbnRlbnRUeXBlP2kuZWwuaHRtbChlKTppLmVsLnRleHQoZSkscysrLGkudHlwZXdyaXRlKHQscyl9fSxlKX0sZSl9fSxiYWNrc3BhY2U6ZnVuY3Rpb24odCxzKXtpZih0aGlzLnN0b3AhPT0hMCl7dmFyIGU9TWF0aC5yb3VuZCg3MCpNYXRoLnJhbmRvbSgpKSt0aGlzLmJhY2tTcGVlZCxpPXRoaXM7aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihcImh0bWxcIj09PWkuY29udGVudFR5cGUmJlwiPlwiPT09dC5zdWJzdHIocykuY2hhckF0KDApKXtmb3IodmFyIGU9XCJcIjtcIjxcIiE9PXQuc3Vic3RyKHMtMSkuY2hhckF0KDApJiYoZS09dC5zdWJzdHIocykuY2hhckF0KDApLHMtLSwhKDA+cykpOyk7cy0tLGUrPVwiPFwifXZhciByPXQuc3Vic3RyKDAscyk7aS5hdHRyP2kuZWwuYXR0cihpLmF0dHIscik6aS5pc0lucHV0P2kuZWwudmFsKHIpOlwiaHRtbFwiPT09aS5jb250ZW50VHlwZT9pLmVsLmh0bWwocik6aS5lbC50ZXh0KHIpLHM+aS5zdG9wTnVtPyhzLS0saS5iYWNrc3BhY2UodCxzKSk6czw9aS5zdG9wTnVtJiYoaS5hcnJheVBvcysrLGkuYXJyYXlQb3M9PT1pLnN0cmluZ3MubGVuZ3RoPyhpLmFycmF5UG9zPTAsaS5zaHVmZmxlJiYoaS5zZXF1ZW5jZT1pLnNodWZmbGVBcnJheShpLnNlcXVlbmNlKSksaS5pbml0KCkpOmkudHlwZXdyaXRlKGkuc3RyaW5nc1tpLnNlcXVlbmNlW2kuYXJyYXlQb3NdXSxzKSl9LGUpfX0sc2h1ZmZsZUFycmF5OmZ1bmN0aW9uKHQpe3ZhciBzLGUsaT10Lmxlbmd0aDtpZihpKWZvcig7LS1pOyllPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooaSsxKSkscz10W2VdLHRbZV09dFtpXSx0W2ldPXM7cmV0dXJuIHR9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztjbGVhckludGVydmFsKHQudGltZW91dCk7dGhpcy5lbC5hdHRyKFwiaWRcIik7dGhpcy5lbC5lbXB0eSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmN1cnNvciYmdGhpcy5jdXJzb3IucmVtb3ZlKCksdGhpcy5zdHJQb3M9MCx0aGlzLmFycmF5UG9zPTAsdGhpcy5jdXJMb29wPTAsdGhpcy5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKX19LHQuZm4udHlwZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcykscj1pLmRhdGEoXCJ0eXBlZFwiKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlO3ImJnIucmVzZXQoKSxpLmRhdGEoXCJ0eXBlZFwiLHI9bmV3IHModGhpcyxvKSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJnJbZV0oKX0pfSx0LmZuLnR5cGVkLmRlZmF1bHRzPXtzdHJpbmdzOltcIlRoZXNlIGFyZSB0aGUgZGVmYXVsdCB2YWx1ZXMuLi5cIixcIllvdSBrbm93IHdoYXQgeW91IHNob3VsZCBkbz9cIixcIlVzZSB5b3VyIG93biFcIixcIkhhdmUgYSBncmVhdCBkYXkhXCJdLHN0cmluZ3NFbGVtZW50Om51bGwsdHlwZVNwZWVkOjAsc3RhcnREZWxheTowLGJhY2tTcGVlZDowLHNodWZmbGU6ITEsYmFja0RlbGF5OjUwMCxsb29wOiExLGxvb3BDb3VudDohMSxzaG93Q3Vyc29yOiEwLGN1cnNvckNoYXI6XCJ8XCIsYXR0cjpudWxsLGNvbnRlbnRUeXBlOlwiaHRtbFwiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7fSxwcmVTdHJpbmdUeXBlZDpmdW5jdGlvbigpe30sb25TdHJpbmdUeXBlZDpmdW5jdGlvbigpe30scmVzZXRDYWxsYmFjazpmdW5jdGlvbigpe319fSh3aW5kb3cualF1ZXJ5KTsiLCIvLyBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuLy8gVHlwZWQuanMgfCBDb3B5cmlnaHQgKGMpIDIwMTYgTWF0dCBCb2xkdCB8IHd3dy5tYXR0Ym9sZHQuY29tXG5cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuXG5cblxuISBmdW5jdGlvbigkKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIFR5cGVkID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcblxuXHRcdC8vIGNob3NlbiBlbGVtZW50IHRvIG1hbmlwdWxhdGUgdGV4dFxuXHRcdHRoaXMuZWwgPSAkKGVsKTtcblxuXHRcdC8vIG9wdGlvbnNcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi50eXBlZC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0XHQvLyBhdHRyaWJ1dGUgdG8gdHlwZSBpbnRvXG5cdFx0dGhpcy5pc0lucHV0ID0gdGhpcy5lbC5pcygnaW5wdXQnKTtcblx0XHR0aGlzLmF0dHIgPSB0aGlzLm9wdGlvbnMuYXR0cjtcblxuXHRcdC8vIHNob3cgY3Vyc29yXG5cdFx0dGhpcy5zaG93Q3Vyc29yID0gdGhpcy5pc0lucHV0ID8gZmFsc2UgOiB0aGlzLm9wdGlvbnMuc2hvd0N1cnNvcjtcblxuXHRcdC8vIHRleHQgY29udGVudCBvZiBlbGVtZW50XG5cdFx0dGhpcy5lbENvbnRlbnQgPSB0aGlzLmF0dHIgPyB0aGlzLmVsLmF0dHIodGhpcy5hdHRyKSA6IHRoaXMuZWwudGV4dCgpO1xuXG5cdFx0Ly8gaHRtbCBvciBwbGFpbiB0ZXh0XG5cdFx0dGhpcy5jb250ZW50VHlwZSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZTtcblxuXHRcdC8vIHR5cGluZyBzcGVlZFxuXHRcdHRoaXMudHlwZVNwZWVkID0gdGhpcy5vcHRpb25zLnR5cGVTcGVlZDtcblxuXHRcdC8vIGFkZCBhIGRlbGF5IGJlZm9yZSB0eXBpbmcgc3RhcnRzXG5cdFx0dGhpcy5zdGFydERlbGF5ID0gdGhpcy5vcHRpb25zLnN0YXJ0RGVsYXk7XG5cblx0XHQvLyBiYWNrc3BhY2luZyBzcGVlZFxuXHRcdHRoaXMuYmFja1NwZWVkID0gdGhpcy5vcHRpb25zLmJhY2tTcGVlZDtcblxuXHRcdC8vIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgYmVmb3JlIGJhY2tzcGFjaW5nXG5cdFx0dGhpcy5iYWNrRGVsYXkgPSB0aGlzLm9wdGlvbnMuYmFja0RlbGF5O1xuXG5cdFx0Ly8gZGl2IGNvbnRhaW5pbmcgc3RyaW5nc1xuXHRcdHRoaXMuc3RyaW5nc0VsZW1lbnQgPSB0aGlzLm9wdGlvbnMuc3RyaW5nc0VsZW1lbnQ7XG5cblx0XHQvLyBpbnB1dCBzdHJpbmdzIG9mIHRleHRcblx0XHR0aGlzLnN0cmluZ3MgPSB0aGlzLm9wdGlvbnMuc3RyaW5ncztcblxuXHRcdC8vIGNoYXJhY3RlciBudW1iZXIgcG9zaXRpb24gb2YgY3VycmVudCBzdHJpbmdcblx0XHR0aGlzLnN0clBvcyA9IDA7XG5cblx0XHQvLyBjdXJyZW50IGFycmF5IHBvc2l0aW9uXG5cdFx0dGhpcy5hcnJheVBvcyA9IDA7XG5cblx0XHQvLyBudW1iZXIgdG8gc3RvcCBiYWNrc3BhY2luZyBvbi5cblx0XHQvLyBkZWZhdWx0IDAsIGNhbiBjaGFuZ2UgZGVwZW5kaW5nIG9uIGhvdyBtYW55IGNoYXJzXG5cdFx0Ly8geW91IHdhbnQgdG8gcmVtb3ZlIGF0IHRoZSB0aW1lXG5cdFx0dGhpcy5zdG9wTnVtID0gMDtcblxuXHRcdC8vIExvb3BpbmcgbG9naWNcblx0XHR0aGlzLmxvb3AgPSB0aGlzLm9wdGlvbnMubG9vcDtcblx0XHR0aGlzLmxvb3BDb3VudCA9IHRoaXMub3B0aW9ucy5sb29wQ291bnQ7XG5cdFx0dGhpcy5jdXJMb29wID0gMDtcblxuXHRcdC8vIGZvciBzdG9wcGluZ1xuXHRcdHRoaXMuc3RvcCA9IGZhbHNlO1xuXG5cdFx0Ly8gY3VzdG9tIGN1cnNvclxuXHRcdHRoaXMuY3Vyc29yQ2hhciA9IHRoaXMub3B0aW9ucy5jdXJzb3JDaGFyO1xuXG5cdFx0Ly8gc2h1ZmZsZSB0aGUgc3RyaW5nc1xuXHRcdHRoaXMuc2h1ZmZsZSA9IHRoaXMub3B0aW9ucy5zaHVmZmxlO1xuXHRcdC8vIHRoZSBvcmRlciBvZiBzdHJpbmdzXG5cdFx0dGhpcy5zZXF1ZW5jZSA9IFtdO1xuXG5cdFx0Ly8gQWxsIHN5c3RlbXMgZ28hXG5cdFx0dGhpcy5idWlsZCgpO1xuXHR9O1xuXG5cdFR5cGVkLnByb3RvdHlwZSA9IHtcblxuXHRcdGNvbnN0cnVjdG9yOiBUeXBlZCxcblxuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gYmVnaW4gdGhlIGxvb3Agdy8gZmlyc3QgY3VycmVudCBzdHJpbmcgKGdsb2JhbCBzZWxmLnN0cmluZ3MpXG5cdFx0XHQvLyBjdXJyZW50IHN0cmluZyB3aWxsIGJlIHBhc3NlZCBhcyBhbiBhcmd1bWVudCBlYWNoIHRpbWUgYWZ0ZXIgdGhpc1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8c2VsZi5zdHJpbmdzLmxlbmd0aDsrK2kpIHNlbGYuc2VxdWVuY2VbaV09aTtcblxuXHRcdFx0XHQvLyBzaHVmZmxlIHRoZSBhcnJheSBpZiB0cnVlXG5cdFx0XHRcdGlmKHNlbGYuc2h1ZmZsZSkgc2VsZi5zZXF1ZW5jZSA9IHNlbGYuc2h1ZmZsZUFycmF5KHNlbGYuc2VxdWVuY2UpO1xuXG5cdFx0XHRcdC8vIFN0YXJ0IHR5cGluZ1xuXHRcdFx0XHRzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIHNlbGYuc3RyUG9zKTtcblx0XHRcdH0sIHNlbGYuc3RhcnREZWxheSk7XG5cdFx0fSxcblxuXHRcdGJ1aWxkOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdC8vIEluc2VydCBjdXJzb3Jcblx0XHRcdGlmICh0aGlzLnNob3dDdXJzb3IgPT09IHRydWUpIHtcblx0XHRcdFx0dGhpcy5jdXJzb3IgPSAkKFwiPHNwYW4gY2xhc3M9XFxcInR5cGVkLWN1cnNvclxcXCI+XCIgKyB0aGlzLmN1cnNvckNoYXIgKyBcIjwvc3Bhbj5cIik7XG5cdFx0XHRcdHRoaXMuZWwuYWZ0ZXIodGhpcy5jdXJzb3IpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuc3RyaW5nc0VsZW1lbnQpIHtcblx0XHRcdFx0dGhpcy5zdHJpbmdzID0gW107XG5cdFx0XHRcdHRoaXMuc3RyaW5nc0VsZW1lbnQuaGlkZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0aGlzLnN0cmluZ3NFbGVtZW50LmNoaWxkcmVuKCkpO1xuXHRcdFx0XHR2YXIgc3RyaW5ncyA9IHRoaXMuc3RyaW5nc0VsZW1lbnQuY2hpbGRyZW4oKTtcblx0XHRcdFx0JC5lYWNoKHN0cmluZ3MsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuXHRcdFx0XHRcdHNlbGYuc3RyaW5ncy5wdXNoKCQodmFsdWUpLmh0bWwoKSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5pbml0KCk7XG5cdFx0fSxcblxuXHRcdC8vIHBhc3MgY3VycmVudCBzdHJpbmcgc3RhdGUgdG8gZWFjaCBmdW5jdGlvbiwgdHlwZXMgMSBjaGFyIHBlciBjYWxsXG5cdFx0dHlwZXdyaXRlOiBmdW5jdGlvbihjdXJTdHJpbmcsIGN1clN0clBvcykge1xuXHRcdFx0Ly8gZXhpdCB3aGVuIHN0b3BwZWRcblx0XHRcdGlmICh0aGlzLnN0b3AgPT09IHRydWUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB2YXJ5aW5nIHZhbHVlcyBmb3Igc2V0VGltZW91dCBkdXJpbmcgdHlwaW5nXG5cdFx0XHQvLyBjYW4ndCBiZSBnbG9iYWwgc2luY2UgbnVtYmVyIGNoYW5nZXMgZWFjaCB0aW1lIGxvb3AgaXMgZXhlY3V0ZWRcblx0XHRcdHZhciBodW1hbml6ZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICgxMDAgLSAzMCkpICsgdGhpcy50eXBlU3BlZWQ7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vIC0tLS0tLS0tLS0tLS0gb3B0aW9uYWwgLS0tLS0tLS0tLS0tLSAvL1xuXHRcdFx0Ly8gYmFja3BhY2VzIGEgY2VydGFpbiBzdHJpbmcgZmFzdGVyXG5cdFx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblx0XHRcdC8vIGlmIChzZWxmLmFycmF5UG9zID09IDEpe1xuXHRcdFx0Ly8gIHNlbGYuYmFja0RlbGF5ID0gNTA7XG5cdFx0XHQvLyB9XG5cdFx0XHQvLyBlbHNleyBzZWxmLmJhY2tEZWxheSA9IDUwMDsgfVxuXG5cdFx0XHQvLyBjb250YWluIHR5cGluZyBmdW5jdGlvbiBpbiBhIHRpbWVvdXQgaHVtYW5pemUnZCBkZWxheVxuXHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gY2hlY2sgZm9yIGFuIGVzY2FwZSBjaGFyYWN0ZXIgYmVmb3JlIGEgcGF1c2UgdmFsdWVcblx0XHRcdFx0Ly8gZm9ybWF0OiBcXF5cXGQrIC4uIGVnOiBeMTAwMCAuLiBzaG91bGQgYmUgYWJsZSB0byBwcmludCB0aGUgXiB0b28gdXNpbmcgXl5cblx0XHRcdFx0Ly8gc2luZ2xlIF4gYXJlIHJlbW92ZWQgZnJvbSBzdHJpbmdcblx0XHRcdFx0dmFyIGNoYXJQYXVzZSA9IDA7XG5cdFx0XHRcdHZhciBzdWJzdHIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyk7XG5cdFx0XHRcdGlmIChzdWJzdHIuY2hhckF0KDApID09PSAnXicpIHtcblx0XHRcdFx0XHR2YXIgc2tpcCA9IDE7IC8vIHNraXAgYXRsZWFzdCAxXG5cdFx0XHRcdFx0aWYgKC9eXFxeXFxkKy8udGVzdChzdWJzdHIpKSB7XG5cdFx0XHRcdFx0XHRzdWJzdHIgPSAvXFxkKy8uZXhlYyhzdWJzdHIpWzBdO1xuXHRcdFx0XHRcdFx0c2tpcCArPSBzdWJzdHIubGVuZ3RoO1xuXHRcdFx0XHRcdFx0Y2hhclBhdXNlID0gcGFyc2VJbnQoc3Vic3RyKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBzdHJpcCBvdXQgdGhlIGVzY2FwZSBjaGFyYWN0ZXIgYW5kIHBhdXNlIHZhbHVlIHNvIHRoZXkncmUgbm90IHByaW50ZWRcblx0XHRcdFx0XHRjdXJTdHJpbmcgPSBjdXJTdHJpbmcuc3Vic3RyaW5nKDAsIGN1clN0clBvcykgKyBjdXJTdHJpbmcuc3Vic3RyaW5nKGN1clN0clBvcyArIHNraXApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdC8vIHNraXAgb3ZlciBodG1sIHRhZ3Mgd2hpbGUgdHlwaW5nXG5cdFx0XHRcdFx0dmFyIGN1ckNoYXIgPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApXG5cdFx0XHRcdFx0aWYgKGN1ckNoYXIgPT09ICc8JyB8fCBjdXJDaGFyID09PSAnJicpIHtcblx0XHRcdFx0XHRcdHZhciB0YWcgPSAnJztcblx0XHRcdFx0XHRcdHZhciBlbmRUYWcgPSAnJztcblx0XHRcdFx0XHRcdGlmIChjdXJDaGFyID09PSAnPCcpIHtcblx0XHRcdFx0XHRcdFx0ZW5kVGFnID0gJz4nXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZW5kVGFnID0gJzsnXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR3aGlsZSAoY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MgKyAxKS5jaGFyQXQoMCkgIT09IGVuZFRhZykge1xuXHRcdFx0XHRcdFx0XHR0YWcgKz0gY3VyU3RyaW5nLnN1YnN0cihjdXJTdHJQb3MpLmNoYXJBdCgwKTtcblx0XHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgKyAxID4gY3VyU3RyaW5nLmxlbmd0aCkgeyBicmVhazsgfVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHR0YWcgKz0gZW5kVGFnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHRpbWVvdXQgZm9yIGFueSBwYXVzZSBhZnRlciBhIGNoYXJhY3RlclxuXHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChjdXJTdHJQb3MgPT09IGN1clN0cmluZy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIGZpcmVzIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMub25TdHJpbmdUeXBlZChzZWxmLmFycmF5UG9zKTtcblxuXHRcdFx0XHRcdFx0Ly8gaXMgdGhpcyB0aGUgZmluYWwgc3RyaW5nXG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5hcnJheVBvcyA9PT0gc2VsZi5zdHJpbmdzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0Ly8gYW5pbWF0aW9uIHRoYXQgb2NjdXJzIG9uIHRoZSBsYXN0IHR5cGVkIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMuY2FsbGJhY2soKTtcblxuXHRcdFx0XHRcdFx0XHRzZWxmLmN1ckxvb3ArKztcblxuXHRcdFx0XHRcdFx0XHQvLyBxdWl0IGlmIHdlIHdvbnQgbG9vcCBiYWNrXG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmxvb3AgPT09IGZhbHNlIHx8IHNlbGYuY3VyTG9vcCA9PT0gc2VsZi5sb29wQ291bnQpXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmJhY2tzcGFjZShjdXJTdHJpbmcsIGN1clN0clBvcyk7XG5cdFx0XHRcdFx0XHR9LCBzZWxmLmJhY2tEZWxheSk7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvKiBjYWxsIGJlZm9yZSBmdW5jdGlvbnMgaWYgYXBwbGljYWJsZSAqL1xuXHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMucHJlU3RyaW5nVHlwZWQoc2VsZi5hcnJheVBvcyk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHN0YXJ0IHR5cGluZyBlYWNoIG5ldyBjaGFyIGludG8gZXhpc3Rpbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHQvLyBjdXJTdHJpbmc6IGFyZywgc2VsZi5lbC5odG1sOiBvcmlnaW5hbCB0ZXh0IGluc2lkZSBlbGVtZW50XG5cdFx0XHRcdFx0XHR2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zICsgMSk7XG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5hdHRyKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuZWwuYXR0cihzZWxmLmF0dHIsIG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuaXNJbnB1dCkge1xuXHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwudmFsKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbGYuY29udGVudFR5cGUgPT09ICdodG1sJykge1xuXHRcdFx0XHRcdFx0XHRcdHNlbGYuZWwuaHRtbChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRzZWxmLmVsLnRleHQobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gYWRkIGNoYXJhY3RlcnMgb25lIGJ5IG9uZVxuXHRcdFx0XHRcdFx0Y3VyU3RyUG9zKys7XG5cdFx0XHRcdFx0XHQvLyBsb29wIHRoZSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0c2VsZi50eXBld3JpdGUoY3VyU3RyaW5nLCBjdXJTdHJQb3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBlbmQgb2YgY2hhcmFjdGVyIHBhdXNlXG5cdFx0XHRcdH0sIGNoYXJQYXVzZSk7XG5cblx0XHRcdFx0Ly8gaHVtYW5pemVkIHZhbHVlIGZvciB0eXBpbmdcblx0XHRcdH0sIGh1bWFuaXplKTtcblxuXHRcdH0sXG5cblx0XHRiYWNrc3BhY2U6IGZ1bmN0aW9uKGN1clN0cmluZywgY3VyU3RyUG9zKSB7XG5cdFx0XHQvLyBleGl0IHdoZW4gc3RvcHBlZFxuXHRcdFx0aWYgKHRoaXMuc3RvcCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIHZhcnlpbmcgdmFsdWVzIGZvciBzZXRUaW1lb3V0IGR1cmluZyB0eXBpbmdcblx0XHRcdC8vIGNhbid0IGJlIGdsb2JhbCBzaW5jZSBudW1iZXIgY2hhbmdlcyBlYWNoIHRpbWUgbG9vcCBpcyBleGVjdXRlZFxuXHRcdFx0dmFyIGh1bWFuaXplID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKDEwMCAtIDMwKSkgKyB0aGlzLmJhY2tTcGVlZDtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0c2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyAtLS0tLSB0aGlzIHBhcnQgaXMgb3B0aW9uYWwgLS0tLS0gLy9cblx0XHRcdFx0Ly8gY2hlY2sgc3RyaW5nIGFycmF5IHBvc2l0aW9uXG5cdFx0XHRcdC8vIG9uIHRoZSBmaXJzdCBzdHJpbmcsIG9ubHkgZGVsZXRlIG9uZSB3b3JkXG5cdFx0XHRcdC8vIHRoZSBzdG9wTnVtIGFjdHVhbGx5IHJlcHJlc2VudHMgdGhlIGFtb3VudCBvZiBjaGFycyB0b1xuXHRcdFx0XHQvLyBrZWVwIGluIHRoZSBjdXJyZW50IHN0cmluZy4gSW4gbXkgY2FzZSBpdCdzIDE0LlxuXHRcdFx0XHQvLyBpZiAoc2VsZi5hcnJheVBvcyA9PSAxKXtcblx0XHRcdFx0Ly8gIHNlbGYuc3RvcE51bSA9IDE0O1xuXHRcdFx0XHQvLyB9XG5cdFx0XHRcdC8vZXZlcnkgb3RoZXIgdGltZSwgZGVsZXRlIHRoZSB3aG9sZSB0eXBlZCBzdHJpbmdcblx0XHRcdFx0Ly8gZWxzZXtcblx0XHRcdFx0Ly8gIHNlbGYuc3RvcE51bSA9IDA7XG5cdFx0XHRcdC8vIH1cblxuXHRcdFx0XHRpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0Ly8gc2tpcCBvdmVyIGh0bWwgdGFncyB3aGlsZSBiYWNrc3BhY2luZ1xuXHRcdFx0XHRcdGlmIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApID09PSAnPicpIHtcblx0XHRcdFx0XHRcdHZhciB0YWcgPSAnJztcblx0XHRcdFx0XHRcdHdoaWxlIChjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcyAtIDEpLmNoYXJBdCgwKSAhPT0gJzwnKSB7XG5cdFx0XHRcdFx0XHRcdHRhZyAtPSBjdXJTdHJpbmcuc3Vic3RyKGN1clN0clBvcykuY2hhckF0KDApO1xuXHRcdFx0XHRcdFx0XHRjdXJTdHJQb3MtLTtcblx0XHRcdFx0XHRcdFx0aWYgKGN1clN0clBvcyA8IDApIHsgYnJlYWs7IH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdFx0dGFnICs9ICc8Jztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyAtLS0tLSBjb250aW51ZSBpbXBvcnRhbnQgc3R1ZmYgLS0tLS0gLy9cblx0XHRcdFx0Ly8gcmVwbGFjZSB0ZXh0IHdpdGggYmFzZSB0ZXh0ICsgdHlwZWQgY2hhcmFjdGVyc1xuXHRcdFx0XHR2YXIgbmV4dFN0cmluZyA9IGN1clN0cmluZy5zdWJzdHIoMCwgY3VyU3RyUG9zKTtcblx0XHRcdFx0aWYgKHNlbGYuYXR0cikge1xuXHRcdFx0XHRcdHNlbGYuZWwuYXR0cihzZWxmLmF0dHIsIG5leHRTdHJpbmcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChzZWxmLmlzSW5wdXQpIHtcblx0XHRcdFx0XHRcdHNlbGYuZWwudmFsKG5leHRTdHJpbmcpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi5jb250ZW50VHlwZSA9PT0gJ2h0bWwnKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmVsLmh0bWwobmV4dFN0cmluZyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuZWwudGV4dChuZXh0U3RyaW5nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiB0aGUgbnVtYmVyIChpZCBvZiBjaGFyYWN0ZXIgaW4gY3VycmVudCBzdHJpbmcpIGlzXG5cdFx0XHRcdC8vIGxlc3MgdGhhbiB0aGUgc3RvcCBudW1iZXIsIGtlZXAgZ29pbmdcblx0XHRcdFx0aWYgKGN1clN0clBvcyA+IHNlbGYuc3RvcE51bSkge1xuXHRcdFx0XHRcdC8vIHN1YnRyYWN0IGNoYXJhY3RlcnMgb25lIGJ5IG9uZVxuXHRcdFx0XHRcdGN1clN0clBvcy0tO1xuXHRcdFx0XHRcdC8vIGxvb3AgdGhlIGZ1bmN0aW9uXG5cdFx0XHRcdFx0c2VsZi5iYWNrc3BhY2UoY3VyU3RyaW5nLCBjdXJTdHJQb3MpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGlmIHRoZSBzdG9wIG51bWJlciBoYXMgYmVlbiByZWFjaGVkLCBpbmNyZWFzZVxuXHRcdFx0XHQvLyBhcnJheSBwb3NpdGlvbiB0byBuZXh0IHN0cmluZ1xuXHRcdFx0XHRlbHNlIGlmIChjdXJTdHJQb3MgPD0gc2VsZi5zdG9wTnVtKSB7XG5cdFx0XHRcdFx0c2VsZi5hcnJheVBvcysrO1xuXG5cdFx0XHRcdFx0aWYgKHNlbGYuYXJyYXlQb3MgPT09IHNlbGYuc3RyaW5ncy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHNlbGYuYXJyYXlQb3MgPSAwO1xuXG5cdFx0XHRcdFx0XHQvLyBTaHVmZmxlIHNlcXVlbmNlIGFnYWluXG5cdFx0XHRcdFx0XHRpZihzZWxmLnNodWZmbGUpIHNlbGYuc2VxdWVuY2UgPSBzZWxmLnNodWZmbGVBcnJheShzZWxmLnNlcXVlbmNlKTtcblxuXHRcdFx0XHRcdFx0c2VsZi5pbml0KCk7XG5cdFx0XHRcdFx0fSBlbHNlXG5cdFx0XHRcdFx0XHRzZWxmLnR5cGV3cml0ZShzZWxmLnN0cmluZ3Nbc2VsZi5zZXF1ZW5jZVtzZWxmLmFycmF5UG9zXV0sIGN1clN0clBvcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBodW1hbml6ZWQgdmFsdWUgZm9yIHR5cGluZ1xuXHRcdFx0fSwgaHVtYW5pemUpO1xuXG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBTaHVmZmxlcyB0aGUgbnVtYmVycyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG5cdFx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXlcblx0XHQgKiBAcmV0dXJucyB7QXJyYXl9XG5cdFx0ICovXG5cdFx0c2h1ZmZsZUFycmF5OiBmdW5jdGlvbihhcnJheSkge1xuXHRcdFx0dmFyIHRtcCwgY3VycmVudCwgdG9wID0gYXJyYXkubGVuZ3RoO1xuXHRcdFx0aWYodG9wKSB3aGlsZSgtLXRvcCkge1xuXHRcdFx0XHRjdXJyZW50ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRvcCArIDEpKTtcblx0XHRcdFx0dG1wID0gYXJyYXlbY3VycmVudF07XG5cdFx0XHRcdGFycmF5W2N1cnJlbnRdID0gYXJyYXlbdG9wXTtcblx0XHRcdFx0YXJyYXlbdG9wXSA9IHRtcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBhcnJheTtcblx0XHR9LFxuXG5cdFx0Ly8gU3RhcnQgJiBTdG9wIGN1cnJlbnRseSBub3Qgd29ya2luZ1xuXG5cdFx0Ly8gLCBzdG9wOiBmdW5jdGlvbigpIHtcblx0XHQvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gICAgIHNlbGYuc3RvcCA9IHRydWU7XG5cdFx0Ly8gICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lb3V0KTtcblx0XHQvLyB9XG5cblx0XHQvLyAsIHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHQvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHRcdC8vICAgICBpZihzZWxmLnN0b3AgPT09IGZhbHNlKVxuXHRcdC8vICAgICAgICByZXR1cm47XG5cblx0XHQvLyAgICAgdGhpcy5zdG9wID0gZmFsc2U7XG5cdFx0Ly8gICAgIHRoaXMuaW5pdCgpO1xuXHRcdC8vIH1cblxuXHRcdC8vIFJlc2V0IGFuZCByZWJ1aWxkIHRoZSBlbGVtZW50XG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChzZWxmLnRpbWVvdXQpO1xuXHRcdFx0dmFyIGlkID0gdGhpcy5lbC5hdHRyKCdpZCcpO1xuXHRcdFx0dGhpcy5lbC5lbXB0eSgpO1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLmN1cnNvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5jdXJzb3IucmVtb3ZlKCk7XG4gICAgICB9XG5cdFx0XHR0aGlzLnN0clBvcyA9IDA7XG5cdFx0XHR0aGlzLmFycmF5UG9zID0gMDtcblx0XHRcdHRoaXMuY3VyTG9vcCA9IDA7XG5cdFx0XHQvLyBTZW5kIHRoZSBjYWxsYmFja1xuXHRcdFx0dGhpcy5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKTtcblx0XHR9XG5cblx0fTtcblxuXHQkLmZuLnR5cGVkID0gZnVuY3Rpb24ob3B0aW9uKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHRcdGRhdGEgPSAkdGhpcy5kYXRhKCd0eXBlZCcpLFxuXHRcdFx0XHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb247XG5cdFx0XHRpZiAoZGF0YSkgeyBkYXRhLnJlc2V0KCk7IH1cblx0XHRcdCR0aGlzLmRhdGEoJ3R5cGVkJywgKGRhdGEgPSBuZXcgVHlwZWQodGhpcywgb3B0aW9ucykpKTtcblx0XHRcdGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKTtcblx0XHR9KTtcblx0fTtcblxuXHQkLmZuLnR5cGVkLmRlZmF1bHRzID0ge1xuXHRcdHN0cmluZ3M6IFtcIlRoZXNlIGFyZSB0aGUgZGVmYXVsdCB2YWx1ZXMuLi5cIiwgXCJZb3Uga25vdyB3aGF0IHlvdSBzaG91bGQgZG8/XCIsIFwiVXNlIHlvdXIgb3duIVwiLCBcIkhhdmUgYSBncmVhdCBkYXkhXCJdLFxuXHRcdHN0cmluZ3NFbGVtZW50OiBudWxsLFxuXHRcdC8vIHR5cGluZyBzcGVlZFxuXHRcdHR5cGVTcGVlZDogMCxcblx0XHQvLyB0aW1lIGJlZm9yZSB0eXBpbmcgc3RhcnRzXG5cdFx0c3RhcnREZWxheTogMCxcblx0XHQvLyBiYWNrc3BhY2luZyBzcGVlZFxuXHRcdGJhY2tTcGVlZDogMCxcblx0XHQvLyBzaHVmZmxlIHRoZSBzdHJpbmdzXG5cdFx0c2h1ZmZsZTogZmFsc2UsXG5cdFx0Ly8gdGltZSBiZWZvcmUgYmFja3NwYWNpbmdcblx0XHRiYWNrRGVsYXk6IDUwMCxcblx0XHQvLyBsb29wXG5cdFx0bG9vcDogZmFsc2UsXG5cdFx0Ly8gZmFsc2UgPSBpbmZpbml0ZVxuXHRcdGxvb3BDb3VudDogZmFsc2UsXG5cdFx0Ly8gc2hvdyBjdXJzb3Jcblx0XHRzaG93Q3Vyc29yOiB0cnVlLFxuXHRcdC8vIGNoYXJhY3RlciBmb3IgY3Vyc29yXG5cdFx0Y3Vyc29yQ2hhcjogXCJ8XCIsXG5cdFx0Ly8gYXR0cmlidXRlIHRvIHR5cGUgKG51bGwgPT0gdGV4dClcblx0XHRhdHRyOiBudWxsLFxuXHRcdC8vIGVpdGhlciBodG1sIG9yIHRleHRcblx0XHRjb250ZW50VHlwZTogJ2h0bWwnLFxuXHRcdC8vIGNhbGwgd2hlbiBkb25lIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKCkge30sXG5cdFx0Ly8gc3RhcnRpbmcgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIGVhY2ggc3RyaW5nXG5cdFx0cHJlU3RyaW5nVHlwZWQ6IGZ1bmN0aW9uKCkge30sXG5cdFx0Ly9jYWxsYmFjayBmb3IgZXZlcnkgdHlwZWQgc3RyaW5nXG5cdFx0b25TdHJpbmdUeXBlZDogZnVuY3Rpb24oKSB7fSxcblx0XHQvLyBjYWxsYmFjayBmb3IgcmVzZXRcblx0XHRyZXNldENhbGxiYWNrOiBmdW5jdGlvbigpIHt9XG5cdH07XG5cblxufSh3aW5kb3cualF1ZXJ5KTtcbiJdfQ==
